<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Harden GRUB bootloader using bootloader password</title>
    <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723</link>
    <description>It does not help too much. Documented already. But for completeness sake, first step might be documenting how to configure a [Bootloader Password](https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Bootloader_Password).

Second step might be development of a tool which simplifies adding a bootloader password.

There is `grub2-setpassword` but unavailable in Debian.

https://www.gnu.org/software/grub/manual/grub/html_node/Authentication-and-authorisation.html</description>
    
    <lastBuildDate>Sun, 08 Dec 2024 09:36:04 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group quote-modified" data-username="Patrick" data-post="12" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="arraybolt3" data-post="11" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>though it may be worth looking for existing tools that do this.</p>
</blockquote>
</aside>
<p>That would be good.</p>
</blockquote>
</aside>
<p>From some brief web searches, it looks like Red Hat and Fedora both have a tool called <code>grub2-setpassword</code> (or <code>grub2-set-password</code>) for this purpose, which is a command-line utility that is apparently specific to RHEL-like distros. Based on a simple <code>apt-cache search grub | grep pass</code>, it doesn’t look like anything similar exists for Debian. Thus I think we probably should be writing a tool for this ourselves.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/13">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/13</link>
        <pubDate>Sun, 08 Dec 2024 09:36:04 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-13</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="arraybolt3" data-post="11" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>I see there’s already an open report that you’ve interacted with at <a href="https://github.com/calamares/calamares/issues/2137">Allow Calamares to set GRUB password · Issue #2137 · calamares/calamares · GitHub</a>.</p>
</blockquote>
</aside>
<p>I forgot about it. Thanks for reminding me.</p>
<p>However, that ticket, while confusing, might be about grub disk encryption password prompt as opposed to grub boot menu authentication prompt.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="11" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Then again, do we <em>want</em> it in Calamares for Kicksecure? We’d be introducing more system state changing bits into the installer, which I know is something we’ve wanted to avoid in the past.</p>
</blockquote>
</aside>
<p>Right.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="11" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>though it may be worth looking for existing tools that do this.</p>
</blockquote>
</aside>
<p>That would be good.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/12">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/12</link>
        <pubDate>Wed, 27 Nov 2024 13:23:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-12</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>Hmm, I hadn’t thought about this being a Calamares feature request, though I guess that makes sense now that you mention it. I see there’s already an open report that you’ve interacted with at <a href="https://github.com/calamares/calamares/issues/2137" class="inline-onebox" rel="noopener nofollow ugc">Allow Calamares to set GRUB password · Issue #2137 · calamares/calamares · GitHub</a>.</p>
<p>Then again, do we <em>want</em> it in Calamares for Kicksecure? We’d be introducing more system state changing bits into the installer, which I know is something we’ve wanted to avoid in the past. It might be better to have a custom tool within the OS that the user can use to set or change the password. Such a tool would be usable in preinstalled VMs as well as newly installed systems.</p>
<p>If we were to use the custom tool solution, I don’t think this is something we could easily upstream somewhere, though it may be worth looking for existing tools that do this. If we want the installer-based solution, then naturally Calamares would be the best place to upstream it.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/11">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/11</link>
        <pubDate>Tue, 26 Nov 2024 22:38:57 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-11</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#How_to_set_a_bootloader_password">How to set a bootloader password</a> has been documented thanks to <a class="mention" href="https://forums.kicksecure.com/u/nurmagoz">@nurmagoz</a>.</p>
<p>If we had a simple script to automate these simple but non-trivial steps, that would be good progress.</p>
<p>Could that be upstreamed somewhere?</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>I think the only thing I’d really like to add to all of the above is that we document how to make the Dracut recovery console available again. I’ve used it for multiple debugging sessions that would have been rendered impossible or close to impossible without it.</p>
</blockquote>
</aside>
<p>That’s for sure.</p>
<ul>
<li>documentation</li>
<li>added to debug-misc package</li>
</ul>
<p>(Completely separate things.)</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>We should be careful with calling it more secure IMO - the bootloader password may be harder to bypass, but the BIOS password is necessary to complicate attacks that involve booting from an external USB drive. They both have their pros and cons, and ideally should be used together.</p>
</blockquote>
</aside>
<p>Alright.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Also, we should consider how whatever tooling we make for setting this password interacts with FDE. A user with high security requirements might use BIOS password, bootloader password, FDE passphrase, and a user account password, preferably all different. Most users with moderate security requirements will get away with just FDE though, and those with lower requirements can use a BIOS + bootloader password and avoid the overhead and potential data loss risk of FDE. Do we want our tool to tell the user “You’re using FDE, you probably don’t need a bootloader password”? If so, should we make some brief in-tool documentation that explains the threat models each configuration might be used to defend against?</p>
</blockquote>
</aside>
<p>Probably yes.</p>
<p>Step 1: Writing good documention explaining all of what we discussed in the wiki on <a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks" class="inline-onebox">Protection against Physical Attacks</a>.</p>
<p>Step 2: This might be quite difficult to get the usability design right. Perhaps this should be discussed with calamares for wider input?</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/10">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/10</link>
        <pubDate>Tue, 26 Nov 2024 20:05:47 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-10</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>I think I like the idea, especially in combination with disabling “easy” recovery mode and the Dracut recovery console. I think the only thing I’d really like to add to all of the above is that we document how to make the Dracut recovery console available again. I’ve used it for multiple debugging sessions that would have been rendered impossible or close to impossible without it. Let’s go with requiring the password on every boot since that provides substantial benefits over just locking out the configuration options.</p>
<aside class="quote no-group" data-username="Patrick" data-post="8" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>GRUB bootloader password to prevent all boot menu entries could be considered more secure than BIOS power-on password, because it’s not a “hardware magic feature” but instead a software feature implemented in Freedom Software, GRUB.</p>
</blockquote>
</aside>
<p>We should be careful with calling it more secure IMO - the bootloader password may be harder to bypass, but the BIOS password is necessary to complicate attacks that involve booting from an external USB drive. They both have their pros and cons, and ideally should be used together.</p>
<p>Also, we should consider how whatever tooling we make for setting this password interacts with FDE. A user with high security requirements might use BIOS password, bootloader password, FDE passphrase, and a user account password, preferably all different. Most users with moderate security requirements will get away with just FDE though, and those with lower requirements can use a BIOS + bootloader password and avoid the overhead and potential data loss risk of FDE. Do we want our tool to tell the user “You’re using FDE, you probably don’t need a bootloader password”? If so, should we make some brief in-tool documentation that explains the threat models each configuration might be used to defend against?</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/9">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/9</link>
        <pubDate>Mon, 25 Nov 2024 23:16:44 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-9</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>There are many different options.</p>
<ul>
<li>F) BIOS power-on password</li>
<li>G) BIOS administrator password</li>
</ul>
<p>These can be different passwords. Administrator password can usually clear/change power-on password and is also allowed to boot.</p>
<p>In this discussion, I was revering to <code>F) BIOS power-on password</code>, a password that is required for every boot.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="7" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>If the BIOS password prevents booting the machine too, then yes, it does do all of that already.</p>
</blockquote>
</aside>
<p>This was my assumption.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="7" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>But in that situation a bootloader password isn’t all that useful, except as defense-in-depth against a relatively unskilled adversary. (Granted, most adversaries most of our users encounter will be relatively unskilled, and I can definitely imagine someone who can figure out a BIOS password reset via an article from the Internet but who can’t figure out how to get past a bootloader password.)</p>
</blockquote>
</aside>
<p>Right. The the protection provided by the BIOS power-on password isn’t that great. It’s a “hardware magic feature”. Some BIOS can be reset with:</p>
<ul>
<li>recovery code provided by websites, and</li>
<li>removal of CMOS battery,</li>
<li>motherboard BIOS reset jumper.</li>
</ul>
<p>There might be some BIOS resistant to that, designed to not easily being reset, but that is dependent on the hardware producer and may be dependent on the BIOS settings.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="7" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>The bootloader password is still valuable though, even against a non-technical attacker, if the passwords are being used to prevent bootup entirely.</p>
</blockquote>
</aside>
<p>Yes.</p>
<p>GRUB bootloader password to prevent all boot menu entries could be considered more secure than BIOS power-on password, because it’s not a “hardware magic feature” but instead a software feature implemented in Freedom Software, GRUB.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="7" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Obviously at this point an attacker with slightly more skill would insert a live USB into the victim machine and boot from that, but there are plenty of attackers who lack that skill, especially in domestic abuse situations, so this still seems valuable to me, even if the benefits are limited at best.</p>
</blockquote>
</aside>
<p>Right.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/8">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/8</link>
        <pubDate>Mon, 25 Nov 2024 11:41:23 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-8</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>I think I see where I’m misunderstanding - I’m thinking of using BIOS and bootloader passwords specifically for preventing access to advanced configuration settings, i.e. the system can be <em>booted</em> without either password, but dropping to a GRUB shell or booting from an external drive using the BIOS should require one of the system passwords. In this context the passwords are only useful for preventing unauthorized root access and denying the ability to tamper with the system’s storage without removing the internal drive. Thus ability to gain root access on an unencrypted system has been the threat I’ve been considering most strongly. I think you’re thinking about these passwords being used to prevent even bootup, such that the system is essentially bricked unless you possess both BIOS and bootloader passwords. This way the passwords are used not just to prevent unauthorized root, but as a form of authentication to even use the system. We should decide on which one we’re discussing so that we’re both talking about the same thing.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Doesn’t a BIOS password alone already prevent all of that and requires taking out the drive or some other physical attack?</p>
</blockquote>
</aside>
<p>If the BIOS password only prevents getting into BIOS options, no, it does not. One simply has to drop to a GRUB console (trivially doable on many EFI systems by repeatedly pressing <kbd>Esc</kbd> during bootup) and they can then boot any arbitrary OS by hand, including one provided on an external USB drive. Similarly, if you have a bootloader password but not BIOS password, you can trivially bypass it by booting from an external drive using the BIOS’s boot functionality. Only password-protecting both seriously complicates attacks that involve booting from an external drive.</p>
<p>If the BIOS password prevents booting the machine too, then yes, it does do all of that already. But in that situation a bootloader password isn’t all that useful, except as defense-in-depth against a relatively unskilled adversary. (Granted, most adversaries most of our users encounter will be relatively unskilled, and I can definitely imagine someone who can figure out a BIOS password reset via an article from the Internet but who can’t figure out how to get past a bootloader password.)</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Then surely the question will come up “in which cases it does not suffice?” The answer is most likely, in complex cases which are not applicable to the reader, because if these were applicable, the question would not come up. One case that can be constructed is some sort of corporate setup.</p>
</blockquote>
</aside>
<p>I think this is applicable to everyday users too though, whether you’re requiring passwords for bootup or for config access. Depending on the difficulty of opening a device, being forced to take the drive out of the machine to modify it is a very significant hurdle that an attacker may not have the opportunity to carry out (i.e. someone who gains physical access to a machine but only for a very short period of time, and who has to leave the machine more-or-less intact once their attack is complete, this is basically the classic evil maid scenario). Some machines even have soldered internal storage, especially cheap, lightweight devices like “HP Stream” and “onn.” machines - this makes this class of attack nearly impossible without access to advanced, expensive equipment for desoldering the storage chips and resoldering them onto something that allows reading and writing them.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A BIOS password alone will stop most non-technical attackers. More technical attackers who steal the hard drive would be stopped by FDE. That’s why BIOS password + FDE always seemed to be as the most important passwords.</p>
</blockquote>
</aside>
<p>The bootloader password is still valuable though, even against a non-technical attacker, if the passwords are being used to prevent bootup entirely. Many machines have a manufacturer-provided backdoor for resetting BIOS passwords, and tools for exploiting these backdoors are publicly available on the open Internet (<a href="https://bios-pw.org/" rel="noopener nofollow ugc">https://bios-pw.org/</a> is a good example). For machines such as this, a non-technical attacker can probably bypass the BIOS password easily enough, but then they have the bootloader password to contend with. Obviously at this point an attacker with slightly more skill would insert a live USB into the victim machine and boot from that, but there are plenty of attackers who lack that skill, especially in domestic abuse situations, so this still seems valuable to me, even if the benefits are limited at best.</p>
<blockquote>
<p>But a reboot will go through BIOS or are you referring to kexec? (I don’t know if GRUB can be load somehow using kexec.)</p>
</blockquote>
<p>I meant a reboot that goes through BIOS. Assuming the system is not password-protected, you can easily gain a root shell on Kicksecure without the root or user passwords by following <a href="https://www.kicksecure.com/wiki/Recovery#Recovery_Mode" class="inline-onebox" rel="noopener nofollow ugc">Recovery - Kicksecure</a>. An FDE password prevents this though.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>In conclusion, the bootloader password seems to only make sense in niche cases.</p>
<ul>
<li>BIOS password bypass included in the threat model</li>
</ul>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>corporate (alike) situations</p>
</blockquote>
</aside>
<p>Not necessarily.</p>
<aside class="quote no-group" data-username="Patrick" data-post="6" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>adversary taking out the hard drive and attempting to boot it in a different computer (circumventing BIOS password) (but then FDE would be much more important)</p>
</blockquote>
</aside>
<p>I guess sorta, though any attacker with the skill needed to move a drive between laptops probably also has the skill needed to boot a live USB to bypass the bootloader password. FDE would be much more important here, agreed.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/7">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/7</link>
        <pubDate>Sun, 24 Nov 2024 15:38:28 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-7</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <blockquote>
<p>It might help to clarify under what situations a bootloader password provides a meaningful level of additional security.</p>
</blockquote>
<p>Right.</p>
<p>I am documenting that here: <a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Bootloader_Password">Bootloader Password</a></p>
<blockquote>
<p>From my standpoint, you have to have at least a bootloader password, a root password, and a BIOS password for it to be useful at all (the root password keeps you from gaining privileges when powered on, the bootloader password keeps you from gaining privileges by rebooting and entering recovery mode, and the BIOS password keeps you from gaining privileges by rebooting into an OS on an external drive).</p>
</blockquote>
<p>Doesn’t a BIOS password alone already prevent all of that and requires taking out the drive or some other physical attack?</p>
<p>Well, one could add the assumption that the adversary has a BIOS password bypass. Then the bootloader password might help. This might be an unrealistic assumption.</p>
<p>I think a BIOS password + FDE pre boot authentication password is sufficient “in most cases”.</p>
<p>Then surely the question will come up “in which cases it does not suffice?” The answer is most likely, in complex cases which are not applicable to the reader, because if these were applicable, the question would not come up. One case that can be constructed is some sort of corporate setup.</p>
<p>For example, an employee is given a BIOS password for booting from the internal hard drive, but not from other devices. Furthermore, the employee is allowed to boot using the standard/default option but prevented from booting the recovery boot option, because that password would be retained for system administrators only.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>(the root password keeps you from gaining privileges when powered on</p>
</blockquote>
</aside>
<p>That reminds me of, quote <a href="https://xkcd.com/1200/" class="inline-onebox">xkcd: Authorization</a></p>
<blockquote>
<p>If someone steals my laptop while I’m logged in, they can read my email, take my money, and impersonate me to my friends, but at least they can’t install drivers without my permission.</p>
</blockquote>
<p>But more seriously…</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>(the root password keeps you from gaining privileges when powered on</p>
</blockquote>
</aside>
<p>I guess it depends on the threat model. Physical attacks while powered on are always a very high risk situation.</p>
<p>I however was thinking of BIOS password, bootloader password, FDE password, Linux user password, Linux root/sudo password in terms physical attacks while the machine is powered off.</p>
<p>A BIOS password alone will stop most non-technical attackers. More technical attackers who steal the hard drive would be stopped by FDE. That’s why BIOS password + FDE always seemed to be as the most important passwords.</p>
<p>If a physical attacker gets to run (passwordless) sudo, as mentioned in the xkcd, I might not mind much, as most sensitive data is accessible already when logged in as user (not root).</p>
<blockquote>
<p>the bootloader password keeps you from gaining privileges by rebooting</p>
</blockquote>
<p>But a reboot will go through BIOS or are you referring to kexec? (I don’t know if GRUB can be load somehow using kexec.)</p>
<p>Good, you could say not having a sudo password will allow a physical attacker to run kexec. But is that even still neeed? → xkcd</p>
<p>In that threat model that I am considering here now, physical attacks while powered are excluded. [1]</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>If you have passwordless sudo, you can just <code>sudo -i</code> and then remove the bootloader password or change bootloader config as you see fit. Granted, FDE would protect against that.</p>
</blockquote>
</aside>
<p>Right. I would exclude that form that threat model anyhow due to xkcd.</p>
<hr>
<p>In conclusion, the bootloader password seems to only make sense in niche cases.</p>
<ul>
<li>BIOS password bypass included in the threat model</li>
<li>corporate (alike) situations</li>
<li>adversary taking out the hard drive and attempting to boot it in a different computer (circumventing BIOS password) (but then FDE would be much more important)</li>
</ul>
<p>Please correct me if I am wrong. Happy to present the full threat model analysis in the wiki.</p>
<hr>
<p>[1] For physical attacks while powered on:</p>
<ul>
<li><a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Screen_Lock">Screen Lock</a> (weak)</li>
<li><a href="https://forums.whonix.org/t/panic-button-panic-shutdown-buskill-the-usb-kill-cord-for-your-laptop/13755" class="inline-onebox">panic button / panic shutdown / BusKill - The USB kill cord for your laptop - Development - Whonix Forum</a> (ticket)</li>
</ul>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/6">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/6</link>
        <pubDate>Sun, 24 Nov 2024 14:37:58 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-6</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>It might help to clarify under what situations a bootloader password provides a meaningful level of additional security. From my standpoint, you have to have at least a bootloader password, a root password, and a BIOS password for it to be useful at all (the root password keeps you from gaining privileges when powered on, the bootloader password keeps you from gaining privileges by rebooting and entering recovery mode, and the BIOS password keeps you from gaining privileges by rebooting into an OS on an external drive). At that point you have to take the drive out of the victim computer in order to attack it easily.</p>
<p>With FDE, the bootloader password is only able to help prevent an attacker from easily modifying the contents of the disk blindly, and it still needs to be combined with a BIOS password to do that effectively.</p>
<p>I don’t see a whole lot of value in enabling a bootup password. That should be FDE’s job. On systems with soldered storage, a bootup password might complicate attacks, but FDE can do the same thing with all systems, even if those systems use non-soldered storage like a SATA or NVMe drive. I do see value in pairing a BIOS password with a bootloader password that prevents config modifications or boot menu access though, since the attacker now at least has to remove the storage drive from the victim system in order to tamper with the disk contents. The memory issue you bring up is helpful, but as long as the bootloader and admin passwords are the same, that should help avoid memory problems.</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="3" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Having a bootloader password makes little sense if the user account isn’t password-protected and passwordless sudo is available.</p>
</blockquote>
</aside>
<p>I don’t see the strong connection between those.</p>
</blockquote>
</aside>
<p>If you have passwordless sudo, you can just <code>sudo -i</code> and then remove the bootloader password or change bootloader config as you see fit. Granted, FDE would protect against that.</p>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Bootloader password + FDE + user auto login might make sense?</p>
</blockquote>
</aside>
<p>If paired with a BIOS password, I think so.</p>
<aside class="quote no-group quote-modified" data-username="Patrick" data-post="4" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>it probably makes sense for the bootloader and admin user passwords to be the same.</p>
</blockquote>
</aside>
<p>In theory nice, but when changing 1 password (such as the Linux user account admin password), coudln’t the GRUB bootloader (root) password get desync? That could be confusing.</p>
</blockquote>
</aside>
<p>Yeah, that’s a decent point. If our app was the canonical “how to change your password” app in Kicksecure, that would help prevent that problem, but then there’s probably a feature in XFCE that will change only just the user password, and of course <code>passwd</code> exists. Not sure how to deal with that…</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/5</link>
        <pubDate>Sat, 23 Nov 2024 23:46:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-5</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Should the GRUB bootloader, if unavailable:</p>
<ul>
<li>A) prevent all boots?; or</li>
<li>B) prevent only editing GRUB configuration (kernel parameters) and some boot menu entries such as recovery mode?</li>
<li>C) the user should decide that (either by manually setting that up and/or using our maybe yet to be invented tool)?</li>
</ul>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>So perhaps the tool that does this should set user and bootloader passwords?</p>
</blockquote>
</aside>
<p>Just for everyone else reading (as you probably know that)… As per Linux / GRUB default - unspecific to Kicksecure - technically there are many different passwords available… At least…</p>
<ul>
<li>A) Linux user account <code>user</code> password</li>
<li>B) Linux user account <code>admin</code> password</li>
<li>C) Linux user account <code>root</code> password</li>
<li>D) GRUB bootloader <code>user</code> password</li>
<li>E) GRUB bootloader <code>root</code> password</li>
</ul>
<p>These are all independent, stored in different “places”.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>it probably makes sense for the bootloader and admin user passwords to be the same.</p>
</blockquote>
</aside>
<p>In theory nice, but when changing 1 password (such as the Linux user account admin password), coudln’t the GRUB bootloader (root) password get desync? That could be confusing.</p>
<p>In theory, always asking for a bootloader password might make most sense. This lowers the chance that the user will forget the password when needed. (If never asked for GRUB user password but then 1 year later being asked for GRUB root password could be an issue.)</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/4</link>
        <pubDate>Sat, 23 Nov 2024 08:11:11 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-4</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Having a bootloader password makes little sense if the user account isn’t password-protected and passwordless sudo is available.</p>
</blockquote>
</aside>
<p>I don’t see the strong connection between those.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Having a bootloader password makes little sense if the user account isn’t password-protected and passwordless sudo is available.</p>
</blockquote>
</aside>
<p>Bootloader password + FDE + user auto login might make sense?</p>
<p>Because the bootloader password is a minor <a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks" class="inline-onebox">Protection against Physical Attacks</a>.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>do we want this to be separate from the user password?</p>
</blockquote>
</aside>
<p>I guess an argument could be made why it should be different but then “100” different passwords is bad usability. Those who insist on different passwords for everything should be able to set them. But if we provide a tool to easily set up a GRUB password, using the same password as user <code>user</code> or <code>admin</code> (?) might make sense.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="723">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Lastly, for most users, it probably makes sense for the bootloader and admin user passwords to be the same.</p>
</blockquote>
</aside>
<p>Right, probably best if same by default.</p>
<p>The difference is only something we should document.</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/3</link>
        <pubDate>Sat, 23 Nov 2024 07:59:52 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-3</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>It may be worth asking, do we want this to be separate from the user password? Having a bootloader password makes little sense if the user account isn’t password-protected and passwordless sudo is available. Similarly, for unencrypted systems, having a user password isn’t very helpful if the bootloader has no password set. Lastly, for most users, it probably makes sense for the bootloader and admin user passwords to be the same. So perhaps the tool that does this should set user and bootloader passwords?</p>
          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/2</link>
        <pubDate>Fri, 22 Nov 2024 19:31:57 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-2</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
      <item>
        <title>Harden GRUB bootloader using bootloader password</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>It does not help too much. Documented already. But for completeness sake, first step might be documenting how to configure a <a href="https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Bootloader_Password">Bootloader Password</a>.</p>
<p>Second step might be development of a tool which simplifies adding a bootloader password.</p>
<p>There is <code>grub2-setpassword</code> but unavailable in Debian.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.gnu.org/software/grub/manual/grub/html_node/Authentication-and-authorisation.html">
  <header class="source">

      <a href="https://www.gnu.org/software/grub/manual/grub/html_node/Authentication-and-authorisation.html" target="_blank" rel="noopener">gnu.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://www.gnu.org/software/grub/manual/grub/html_node/Authentication-and-authorisation.html" target="_blank" rel="noopener">GNU GRUB Manual 2.12: Authentication and authorisation</a></h3>

  <p>GNU GRUB Manual 2.12: Authentication and authorisation</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723/1</link>
        <pubDate>Fri, 22 Nov 2024 16:48:20 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-723-1</guid>
        <source url="https://forums.kicksecure.com/t/harden-grub-bootloader-using-bootloader-password/723.rss">Harden GRUB bootloader using bootloader password</source>
      </item>
  </channel>
</rss>
