<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Support for hibernation?</title>
    <link>https://forums.kicksecure.com/t/support-for-hibernation/1349</link>
    <description>We need to decide what we&#39;re doing with hibernation. Either we should determine how to set it up in a secure fashion and implement that, or we should remove hibernation-related documentation from the wiki and disable the hibernation button in LXQt.

Hardware support challenges:

* Hibernation may or may not work properly on Linux. Many users seem to have it working without issues, I have yet to get it working on a machine here. From what I&#39;ve heard, SteamOS supports hibernation and has it working reliably, so maybe it&#39;s robust enough to deploy in general now.

Security challenges:

* Hibernation takes data that is intended to be ephemeral, and makes it persistent. Any secrets, unsaved work, live-booted virtual machines, etc., are all dumped to a swapfile or swap partition when the system is hibernated, making them much easier for an attacker to access if they can get access to the volume containing the swap file/partition.
* This can be mitigated somewhat by using full disk encryption, however this is vulnerable to the possibility that the user will choose a weak encryption passphrase, and of course there&#39;s always the [$5 wrench problem](https://xkcd.com/538/).

Technical challenges:

* swap-file-creator would probably need to change in order to support hibernation. Right now we use an encrypted swapfile with an ephemeral encryption key, allowing swap to be used safely but also making it impossible to recover after a reboot. We may also need to do something with the way in which the swapfile is managed, since we need to have a single, static swapfile, we can&#39;t be dynamically creating a new one on every boot or similar.
* Hibernation is not reliable if you are trying to hibernate into an existing swapfile. If memory is filled and swap is partially filled, there won&#39;t be enough space left in the swapfile to save the remaining contents of RAM into. SteamOS reportedly gets around this by using a dedicated hibernation file (which I guess means they probably somehow give the resume mechanism multiple swapfiles?).
* Hibernation would need to be disabled when FDE was not in use, unless we want to implement something where the user is prompted for a one-time-use passphrase for securing the hibernation file, which is then prompted for upon resume. (Actually, that could be really neat, even with FDE, since it would mean an attacker would have to break both the FDE key and the hibernation key in order to get access to RAM contents. This would require the user to have a very good memory though.)
* Related: https://packages.debian.org/trixie/cryptsetup-suspend Unsure whether we&#39;d want to use this with hibernation or not, or if it works with dracut.</description>
    
    <lastBuildDate>Thu, 13 Nov 2025 12:03:35 +0000</lastBuildDate>
    <category>Development</category>
    <atom:link href="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Done in version 18 (and above).</p>
<aside class="onebox githubcommit" data-onebox-src="https://github.com/Kicksecure/grub-live/commit/99a97fb442a6e976f3547b4453f86cc946643992">
  <header class="source">

      <a href="https://github.com/Kicksecure/grub-live/commit/99a97fb442a6e976f3547b4453f86cc946643992" target="_blank" rel="noopener">github.com/Kicksecure/grub-live</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="https://github.com/Kicksecure/grub-live/commit/99a97fb442a6e976f3547b4453f86cc946643992" target="_blank" rel="noopener">set `nohibernate` kernel parameter</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2025-11-13" data-time="11:52:17" data-timezone="UTC">11:52AM - 13 Nov 25 UTC</span>
      </div>

      <div class="user">
        <a href="https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="" src="https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 2 files with 6 additions and 0 deletions">
        <a href="https://github.com/Kicksecure/grub-live/commit/99a97fb442a6e976f3547b4453f86cc946643992" target="_blank" rel="noopener">
          <span class="added">+6</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Thanks to @desi_fubu for the suggestion!

https://forums.kicksecure.com/t/suppor<span class="show-more-container"><a href="https://github.com/Kicksecure/grub-live/commit/99a97fb442a6e976f3547b4453f86cc946643992" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">t-for-hibernation/1349/6</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/8">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/8</link>
        <pubDate>Thu, 13 Nov 2025 12:03:35 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-8</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="desi_fubu" data-post="6" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/letter_avatar_proxy/v4/letter/d/da6949/48.png" class="avatar"> desi_fubu:</div>
<blockquote>
<p>Does grub-live disable hibernation and if it doesn’t would the<a href="https://github.com/torvalds/linux/blob/master/Documentation/admin-guide/kernel-parameters.txt#L1883-L1891"><code>hibernate=no</code></a> or <a href="https://www.kernel.org/doc/html/latest/admin-guide/kernel-parameters.html"><code>nohibernate</code></a> flag/parameter be fine to add and should it be be added?</p>
</blockquote>
</aside>
<p>Good idea. Should be added to grub-live at minimum. Maybe should also be added globally until/if hibernation is supported.</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/7">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/7</link>
        <pubDate>Wed, 12 Nov 2025 11:00:35 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-7</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[desi_fubu]]></dc:creator>
        <description><![CDATA[
            <p>Does grub-live disable hibernation and if it doesn’t would the<a href="https://github.com/torvalds/linux/blob/master/Documentation/admin-guide/kernel-parameters.txt#L1883-L1891" rel="noopener nofollow ugc"><code>hibernate=no</code></a> or <a href="https://www.kernel.org/doc/html/latest/admin-guide/kernel-parameters.html" rel="noopener nofollow ugc"><code>nohibernate</code></a> flag/parameter be fine to add and should it be be added?</p>
<p>Documentation states its been around for awhile, and dont think its depreciated or changed in new kernels. I know this topic is about hibernation and I don’t want change topics but might be something to look at here.</p>
<p>The wiki states that <a href="https://www.kicksecure.com/wiki/Grub-live#cite_ref-12" rel="noopener nofollow ugc">“There is no swap partition by default in Kicksecure, except maybe if using Distribution Morphing.”</a> already but since some people distro morph. Then if a user has swap or encrypted swap this would just be a pro not a con to my understanding it could or would help add more defense to avoid persistence.</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/6">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/6</link>
        <pubDate>Tue, 11 Nov 2025 04:57:54 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-6</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/patrick/48/165_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Too complex. Only two cases would be better.</p>
</blockquote>
</aside>
<p>Agreed.</p>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/patrick/48/165_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>What would be the effort required to implement this? This is to decide if it’s better to disable hibernation for now instead of implementing it securely.</p>
</blockquote>
</aside>
<p>Not sure yet, there are a lot of unknowns (i.e. how does one pass swapfiles to the kernel to resume from, can you pass multiple swapfiles, how do we hook into the hibernation “button” so that clicking it results in a script running that creates the hibernation file, etc.). Might be possible to make the feature available in a later release of Kicksecure 18?</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/5</link>
        <pubDate>Wed, 05 Nov 2025 06:47:01 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-5</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="arraybolt3" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>SteamOS reportedly gets around this by using a dedicated hibernation file (which I guess means they probably somehow give the resume mechanism multiple swapfiles?).</p>
</blockquote>
</aside>
<p>Dedicated hibernation file, yes. something like that.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Hibernation would need to be disabled when FDE was not in use,</p>
</blockquote>
</aside>
<p>I don’t think we should take on that maintencen burden. If not FDE is used, the system isn’t protected from local disk forensics.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>unless we want to implement something where the user is prompted for a one-time-use passphrase for securing the hibernation file, which is then prompted for upon resume.</p>
</blockquote>
</aside>
<p>Too complex. Only two cases would be better.</p>
<ul>
<li>If using FDE: disk, swap and hibernation file is always encrypted.</li>
<li>If not using FDE: disk, swap and hibernation file is unencrypted. [1]</li>
</ul>
<aside class="quote no-group" data-username="arraybolt3" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>(Actually, that could be really neat, even with FDE, since it would mean an attacker would have to break both the FDE key and the hibernation key in order to get access to RAM contents. This would require the user to have a very good memory though.)</p>
</blockquote>
</aside>
<p>If using FDE: Preferable if the hibernation file is encrypted with the same key as the disk.</p>
<hr>
<p>What would be the effort required to implement this? This is to decide if it’s better to disable hibernation for now instead of implementing it securely.</p>
<hr>
<p>[1] swap might not be because swap-file-creator encrypts it by default.</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/4</link>
        <pubDate>Wed, 05 Nov 2025 04:33:48 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-4</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>Well, there may be security advantages to allowing hibernation. Suspend-to-RAM can be insecure because it leaves decrypted data resident in RAM, allowing an attacker to perform a cold boot attack on a stolen machine (especially if that machine is a laptop). Suspend-to-disk, if encrypted, would make the in-memory data as secure as or more secure than other on-disk data, since it would become on-disk data.</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/3</link>
        <pubDate>Wed, 05 Nov 2025 00:09:27 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-3</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[nurmagoz]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="arraybolt3" data-post="1" data-topic="1349">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>we should remove hibernation-related documentation from the wiki and disable the hibernation button in LXQt.</p>
</blockquote>
</aside>
<p>Im with this option, no complications.</p>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/2</link>
        <pubDate>Tue, 04 Nov 2025 18:49:50 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-2</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
      <item>
        <title>Support for hibernation?</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>We need to decide what we’re doing with hibernation. Either we should determine how to set it up in a secure fashion and implement that, or we should remove hibernation-related documentation from the wiki and disable the hibernation button in LXQt.</p>
<p>Hardware support challenges:</p>
<ul>
<li>Hibernation may or may not work properly on Linux. Many users seem to have it working without issues, I have yet to get it working on a machine here. From what I’ve heard, SteamOS supports hibernation and has it working reliably, so maybe it’s robust enough to deploy in general now.</li>
</ul>
<p>Security challenges:</p>
<ul>
<li>Hibernation takes data that is intended to be ephemeral, and makes it persistent. Any secrets, unsaved work, live-booted virtual machines, etc., are all dumped to a swapfile or swap partition when the system is hibernated, making them much easier for an attacker to access if they can get access to the volume containing the swap file/partition.</li>
<li>This can be mitigated somewhat by using full disk encryption, however this is vulnerable to the possibility that the user will choose a weak encryption passphrase, and of course there’s always the <a href="https://xkcd.com/538/">$5 wrench problem</a>.</li>
</ul>
<p>Technical challenges:</p>
<ul>
<li>swap-file-creator would probably need to change in order to support hibernation. Right now we use an encrypted swapfile with an ephemeral encryption key, allowing swap to be used safely but also making it impossible to recover after a reboot. We may also need to do something with the way in which the swapfile is managed, since we need to have a single, static swapfile, we can’t be dynamically creating a new one on every boot or similar.</li>
<li>Hibernation is not reliable if you are trying to hibernate into an existing swapfile. If memory is filled and swap is partially filled, there won’t be enough space left in the swapfile to save the remaining contents of RAM into. SteamOS reportedly gets around this by using a dedicated hibernation file (which I guess means they probably somehow give the resume mechanism multiple swapfiles?).</li>
<li>Hibernation would need to be disabled when FDE was not in use, unless we want to implement something where the user is prompted for a one-time-use passphrase for securing the hibernation file, which is then prompted for upon resume. (Actually, that could be really neat, even with FDE, since it would mean an attacker would have to break both the FDE key and the hibernation key in order to get access to RAM contents. This would require the user to have a very good memory though.)</li>
<li>Related: <a href="https://packages.debian.org/trixie/cryptsetup-suspend" class="inline-onebox">Debian -- Details of package cryptsetup-suspend in trixie</a> Unsure whether we’d want to use this with hibernation or not, or if it works with dracut.</li>
</ul>
          <p><a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/support-for-hibernation/1349/1</link>
        <pubDate>Sun, 02 Nov 2025 20:33:05 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1349-1</guid>
        <source url="https://forums.kicksecure.com/t/support-for-hibernation/1349.rss">Support for hibernation?</source>
      </item>
  </channel>
</rss>
