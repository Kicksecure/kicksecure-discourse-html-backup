<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Separate (some) user applications from the operating system - Development - Kicksecure Forums</title>
    <meta name="description" content="Android, iOS, macOS, and Chrome OS all provide a level of separation between user-installed applications and the operating system. The operating system may provide certain applications to the user, but those applications&amp;hellip;">
    <meta name="generator" content="Discourse 3.5.2 - https://github.com/discourse/discourse version 47399adbd4bb44cf4df8a1ae376c83d527378c0a">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="1120.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_light-default_-1_3_b9defff21b08d13cc69fa671cf78b9adfd6d2d01.css_%3b%20filename_%3dUTF-8%27%27color_definitions_light-default_-1_3_b9defff21b08d13cc69?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

<link href="../../stylesheets/common_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27common_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="common"  />

  <link href="../../stylesheets/desktop_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27desktop_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



    <link href="../../stylesheets/checklist_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27checklist_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
    <link href="../../stylesheets/discourse-details_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-details_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
    <link href="../../stylesheets/discourse-lazy-videos_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
    <link href="../../stylesheets/discourse-local-dates_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
    <link href="../../stylesheets/discourse-narrative-bot_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_38444776255f14470443461f6df0a5b22686426b61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
    <link href="../../stylesheets/discourse-presence_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
    <link href="../../stylesheets/discourse-solved_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-solved_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-solved"  />
    <link href="../../stylesheets/discourse-templates_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-templates_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-templates"  />
    <link href="../../stylesheets/discourse-topic-voting_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_38444776255f14470443461f6df0a5b22686426b61cf.cs?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-topic-voting"  />
    <link href="../../stylesheets/docker_manager_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27docker_manager_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
    <link href="../../stylesheets/footnote_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27footnote_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
    <link href="../../stylesheets/poll_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27poll_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
    <link href="../../stylesheets/discourse-topic-voting_desktop_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27discourse-topic-voting_desktop_38444776255f14470443461f6df0a5b?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-topic-voting_desktop"  />
    <link href="../../stylesheets/poll_desktop_38444776255f14470443461f6df0a5b22686426b.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_38444776255f14470443461f6df0a5b22686426b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/common_theme_3_eb6c45b414c47cf1d69cd19f601ff6a37d664a5e.css_%3b%20filename_%3dUTF-8%27%27common_theme_3_eb6c45b414c47cf1d69cd19f601ff6a37d664a5e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/common_theme_2_32d30442083790f9d550ee2919afcddf99dd6419.css_%3b%20filename_%3dUTF-8%27%27common_theme_2_32d30442083790f9d550ee2919afcddf99dd641961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="common_theme" data-theme-id="2" data-theme-name="header"/>
    <link href="../../stylesheets/desktop_theme_3_e46f64db0c690b5427f0000b2db6865ee6f3cf78.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_e46f64db0c690b5427f0000b2db6865ee6f3cf7861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>

<script defer="" src="../../theme-javascripts/6bb970c15b81e0b2379f3512812ba45e05a9b972.js_%3b%20filename_%3dUTF-8%27%276bb970c15b81e0b2379f3512812ba45e05a9b97261cf.js?__ws=forums.kicksecure.com" data-theme-id="2" nonce="hb9ueja1WyqlZUwfGh5RFbJFy"></script>

<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Separate (some) user applications from the operating system&#39;" href="1120.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/separate-some-user-applications-from-the-operating-system/1120" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/separate-some-user-applications-from-the-operating-system/1120" />
<meta property="og:title" content="Separate (some) user applications from the operating system" />
<meta name="twitter:title" content="Separate (some) user applications from the operating system" />
<meta property="og:description" content="Android, iOS, macOS, and Chrome OS all provide a level of separation between user-installed applications and the operating system. The operating system may provide certain applications to the user, but those applications are not installed by the user and generally cannot be uninstalled or replaced. User-controllable applications are separated from the rest of the system, and generally are sandboxed to prevent them from doing damage if they turn out to be malicious or become compromised.  Debian ..." />
<meta name="twitter:description" content="Android, iOS, macOS, and Chrome OS all provide a level of separation between user-installed applications and the operating system. The operating system may provide certain applications to the user, but those applications are not installed by the user and generally cannot be uninstalled or replaced. User-controllable applications are separated from the rest of the system, and generally are sandboxed to prevent them from doing damage if they turn out to be malicious or become compromised.  Debian ..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:tag" content="status_open_issue_todo" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="10 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="16 ‚ù§" />
<meta property="article:published_time" content="2025-07-02T03:21:55+00:00" />
<meta property="og:ignore_canonical" content="true" />

        <link rel="next" href="11204658.html?page=2">

    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>

<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">Kicksecure Forums</a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="1120.html">Separate (some) user applications from the operating system</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Separate (some) user applications from the operating system'>
      <link itemprop='url' href='1120.html'>
      <meta itemprop='datePublished' content='2025-07-02T03:21:55Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content='status_open_issue_todo'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="1120.html">


              <span class="crawler-post-infos">
                  <time  datetime='2025-07-02T03:21:55Z' class='post-time'>
                    July 2, 2025,  3:21am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-16T09:52:36Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Android, iOS, macOS, and Chrome OS all provide a level of separation between user-installed applications and the operating system. The operating system may provide certain applications to the user, but those applications are not installed by the user and generally cannot be uninstalled or replaced. User-controllable applications are separated from the rest of the system, and generally are sandboxed to prevent them from doing damage if they turn out to be malicious or become compromised.</p>
<p>Debian (and by extension, Kicksecure) doesn‚Äôt do this so well. All packages in the repositories are essentially operating system components, with full permissions to do anything the user account the application is launched as allows. Core components like udev and systemd are installed directly alongside productivity apps like image viewers and web browsers. This is a bit messy from the standpoint of system organization, but it also poses a significant security hazard for obvious reasons (<a href="../../../external.html?link=https://xkcd.com/1200/" rel="noopener nofollow ugc">XKCD 1200</a> sums up the issue nicely).</p>
<p>Users should be able to install arbitrary applications as OS components and give them elevated permissions, as they‚Äôve always been able to do on Kicksecure and Whonix. But users should also be able to wall off applications into a sandbox of sorts if they don‚Äôt trust those applications or may have to process untrusted data with those applications.</p>
<p>Flatpak and Snap are relatively well-known attempts at bringing sandboxing and application isolation to Linux. Both of these are not exactly awesome solutions, because:</p>
<ul>
<li>Sandboxing controls under Linux can be somewhat flimsy without putting a great deal of work into doing things like whitelisting syscalls and the like. In some instances, Linux‚Äôs sandboxing features actually worsen security (user namespaces in particular allow access to kernel facilities that aren‚Äôt usually available to unprivileged users, exposing additional attack surface; this has been the source of numerous CVEs, but user namespaces are also required by applications that do sandboxing internally, like Chromium).</li>
<li>Users can loosen sandboxing very easily with Flatpak, and without too much effort with Snap, defeating the purpose of the sandbox.</li>
<li>Flatpak and Snap sandboxing oftentimes causes application malfunctions due to restricting resources that applications legitimately need access to.</li>
<li>Applications from the Flathub repository and Snap Store can be uploaded by arbitrary users. This is in contrast to the Debian archive, which requires some level of skill and trust for a packager to gain upload access to it, and where policies help to ensure better packaging quality in general. As a result, Flatpaks and Snaps are oftentimes more broken than apt packages, and it is easy to upload malware to the repositories.
<ul>
<li>Malware actually has been uploaded to the Snap Store and has caused severe damage in the past, with at least one person <a href="../../../external.html?link=https://blog.popey.com/2024/02/exodus-bitcoin-wallet-490k-swindle/" rel="noopener nofollow ugc">losing the equivalent of $490,000</a> after plugging in cryptocurrency recovery data into a malicious Exodus Wallet snap. This particular incident underscores the fact that sandboxing apps isn‚Äôt really enough, apps can still be malicious without having to break out of a sandbox at all. <a href="../../../external.html?link=https://blog.popey.com/2024/03/exodus-wallet-part-three/" rel="noopener nofollow ugc">This same kind of attack happened on the Snap Store multiple times.</a> This is why getting apps from a trusted repository is a good idea.</li>
</ul>
</li>
</ul>
<p>What we really want is some sort of virtual machine that is integrated with the host <em>enough</em> to allow apps in the VM to feel native or close to native, but sufficiently walled off so that applications cannot do damage to the host system or escape the VM. This would allow running ‚Äúuser applications‚Äù in a very tight yet highly compatible sandbox, and would allow pulling those applications from trusted repositories like the Debian repos. It would also allow users to install applications without having to boot into a sysmaint session.</p>
<p>Chrome OS has something similar to this with <a href="../../../external.html?link=https://chromeos.dev/en/linux" rel="noopener nofollow ugc">Crostini</a>, and Windows has something similar to this with <a href="../../../external.html?link=https://learn.microsoft.com/en-us/windows/wsl/tutorials/gui-apps" rel="noopener nofollow ugc">WSLg</a>. Something with a vaguely similar user experience would likely be acceptable, especially if an ‚Äúapp store‚Äù frontend of some sort was available so the user didn‚Äôt have to use a terminal to install sandboxed applications.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="3" />
              <span class='post-likes'>3 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../operating-system-from-heaven/1153.html">Operating System from Heaven</a>
                        <meta itemprop='position' content='6'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T04:01:31Z' class='post-time'>
                    July 2, 2025,  4:01am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T04:01:31Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Created a wiki page with some ideas: <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Vm-app-manager" class="inline-onebox" rel="noopener nofollow ugc">vm-app-manager - Virtualization-powered application sandbox</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T09:44:36Z' class='post-time'>
                    July 2, 2025,  9:44am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T09:44:36Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Flatpak is also messy for other reasons. Unfortunately, not high quality packaging with the same standards and quality control as Debian. See:<br>
<a href="../../../external.html?link=https://www.kicksecure.com/wiki/Install_Software#Flatpak">Flatpak</a></p>
<hr>
<p>Some potential overlap:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Sandbox-app-launcher">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1751448625" class="site-icon" width="151" height="151">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Sandbox-app-launcher" target="_blank" rel="noopener" title="05:43PM - 22 November 2024">Kicksecure ‚Äì 22 Nov 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/360;"><img src="../../../external.html?link=https://www.kicksecure.com/w/images/6/60/Sandboxing123123.png?version=3cfd8ad0add8394094af458025316228" class="thumbnail" width="640" height="360"></div>

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Sandbox-app-launcher" target="_blank" rel="noopener">sandbox-app-launcher - Sandboxed Application Launcher</a></h3>

  <p>sandbox-app-launcher is an application launcher that starts each app inside its own restrictive sandbox. It runs each app as its own user, in a bubblewrap sandbox and confined by AppArmor.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox discoursetopic" data-onebox-src="../../../external.html?link=https://forums.whonix.org/t/system-wide-sandboxing-framework-sandbox-app-launcher/9008">
  <header class="source">
      <img src="../../../external.html?link=https://forums.whonix.org/uploads/default/optimized/2X/3/37fe81e592143b0c01c9656c44069b4bfdd3990e_2_32x32.ico" class="site-icon" width="32" height="32">

      <a href="../../../external.html?link=https://forums.whonix.org/t/system-wide-sandboxing-framework-sandbox-app-launcher/9008" target="_blank" rel="noopener" title="09:45PM - 26 February 2020">Whonix Forum ‚Äì 26 Feb 20</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:690/255;"><img src="../../../external.html?link=https://forums.whonix.org/uploads/default/original/2X/5/5ac973ff4302e69269667e09e67d850c0b628c7a.jpeg" class="thumbnail" width="690" height="255"></div>

<div class="title-wrapper">
  <h3><a href="../../../external.html?link=https://forums.whonix.org/t/system-wide-sandboxing-framework-sandbox-app-launcher/9008" target="_blank" rel="noopener">System-wide sandboxing framework - sandbox-app-launcher</a></h3>
  <div class="topic-category">
      <span class="badge-wrapper bullet">
        <span class="badge-category-bg" style="background-color: #25AAE2;"></span>
        <span class="badge-category clear-badge">
          <span class="category-name">Development</span>
        </span>
      </span>
    <div class="topic-header-extra">
      <div class="list-tags">
        <div class="discourse-tags">
          <svg class="fa d-icon d-icon-tag svg-icon svg-string"><use href="#tag"></use></svg>
            <span class="discourse-tag simple">status_open_issue_todo</span>
            <span class="discourse-tag simple">component_security</span>
        </div>
      </div>
    </div>
  </div>
</div>

  <p>We‚Äôre currently working on a full system apparmor policy to confine all userspace processes but this has 2 issues:    It doesn‚Äôt use more restrictive profiles for user applications. A PDF viewer shouldn‚Äôt have the same profile as init.    It can‚Äôt...</p>

  <p>
    <span class="label1">Reading time: 84 mins üïë</span>
      <span class="label2">Likes: 349 ‚ù§</span>
  </p>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Perhaps sandbox-app-launcher is promising?</p>
<p>It wouldn‚Äôt fully separate core system packages from user applications. Debian packaging maintainer scripts would still be trusted. During package installation, malicious or vulnerable Debian packaging maintainer could compromise the system. There are no history precedents in <a href="../../../external.html?link=http://packages.debian.org/">packages.debian.org</a> as far I am aware, but still something worth mitigating.</p>
<p>Perhaps sandbox-app-launcher, if worthwhile, could install packages inside a per-application system chroot?</p>
<hr>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>vm-app-manager - Virtualization-powered application sandbox</p>
</blockquote>
</aside>
<p>The <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Vm-app-manager#Limitations">Limitations</a> seem a deal-breaker.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T11:10:38Z' class='post-time'>
                    July 2, 2025, 11:10am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T11:10:38Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="1120" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Created a wiki page with some ideas: <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Vm-app-manager">vm-app-manager - Virtualization-powered application sandbox</a></p>
</blockquote>
</aside>
<p>Check spectrum design:</p>
<p><a href="../../../external.html?link=https://spectrum-os.org/design.html" class="onebox" target="_blank" rel="noopener">https://spectrum-os.org/design.html</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T17:38:04Z' class='post-time'>
                    July 2, 2025,  5:38pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T17:47:15Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/patrick/48/165_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>The <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Vm-app-manager#Limitations">Limitations</a> seem a deal-breaker.</p>
</blockquote>
</aside>
<p>Yeah‚Ä¶ containerization is so flimsy from what I‚Äôve seen though that it seems like a dealbreaker to me. The limitations in nested virtualization scenarios aren‚Äôt really that bad since the user is already using virtual machines, they can use multiple VMs for isolation.</p>
<p>Being unable to use virtualized apps and VirtualBox at the same time is a real issue, and one that is very hard to avoid. Maybe it would be possible to allow the applications containers to function as either containers or VMs, so that one could use containerization when necessary, and virtualization when possible.</p>
<p>Incus considers container escape to be a security vulnerability: <a href="../../../external.html?link=https://github.com/lxc/incus/security" class="inline-onebox">Security Overview ¬∑ lxc/incus ¬∑ GitHub</a> It‚Äôs an LXD fork (developed by the original LXD developers), and might be more workable (maybe even more secure?) than bwrap. I believe it‚Äôs present in Debian Trixie.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T18:21:52Z' class='post-time'>
                    July 2, 2025,  6:21pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T18:21:52Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>virtualized apps and VirtualBox at the same time is a real issue</p>
</blockquote>
</aside>
<p>I dont see the need to use virtualbox if we have KVM support. Virtualbox on gnu/linux is bad idea even more on debian.</p>
<p>So i see that this can be avoided by not having virtualbox consideration.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="5" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Maybe it would be possible to allow the applications containers to function as either containers or VMs</p>
</blockquote>
</aside>
<p>I think better to avoid the possibility to downgrade the model and allow application/s to use containers instead of being virtualized, because containers using the same system kernel will lead to bad results IMO.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-02T18:44:46Z' class='post-time'>
                    July 2, 2025,  6:44pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-02T18:44:46Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>We can‚Äôt really not consider VirtualBox - it‚Äôs the primary supported platform for Kicksecure and Whonix, and the automated installer will install VirtualBox and a Kicksecure appliance by default. It‚Äôs <em>the</em> Kicksecure platform. This is probably part of why the restrictions are a dealbreaker because of nested virtualization concerns (it will technically work but it will be painfully slow in many circumstances).</p>
<p>Containers using the same system kernel won‚Äôt be a problem if the same OS is being used both on the host and in the container, which we can do. The security concerns of containerization are still there, but if we use a mature containerization platform like Incus rather than trying to roll our own (which is what I think we were doing with sandbox-app-launcher in the past), that might not be so bad.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-03T13:16:11Z' class='post-time'>
                    July 3, 2025,  1:16pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-03T13:16:11Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Would ‚Äúdo it similar to how Android is doing it‚Äù be an option?</p>
<ul>
<li>Separate Linux user account name.</li>
<li>Separate folder.</li>
<li>Mandatory access control.</li>
<li>Secomp (optional, as feasible).</li>
</ul>
<p>Though, Android might be starting to use Android Virtualization Framework (AVF) for some apps.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-03T15:54:05Z' class='post-time'>
                    July 3, 2025,  3:54pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-03T15:54:05Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>My first thought looking at this is that user account isolation sounds neat but will probably be difficult to implement. Lots of file ownership changes would be required in order to allow the user to get files into and out of applications. AppArmor doesn‚Äôt have a sandboxing feature like SELinux appears to, though it does allow enforcing MAC. Seccomp is unsafe, Android can get away with it because Google can enforce rules about how Android apps are written and we can‚Äôt do that with Linux apps. It also sounds like Android is using some sort of chroot variant possibly (or some fancy feature of SELinux) to limit host file visibility, which would further complicate things.</p>
<p>I guess it would be better than nothing though. I‚Äôm not sure if it would be easier to implement than using a containerization engine, maybe it would be.</p>
<p>(I don‚Äôt like sandboxing approaches in general especially without seccomp, since any LPE vuln in the kernel will allow a sandbox escape, and there have been many LPE vulns in the kernel as I understand it. Virtualization would make that much, much harder.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-03T22:23:25Z' class='post-time'>
                    July 3, 2025, 10:23pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-03T22:23:25Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="arraybolt3" data-post="7" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>We can‚Äôt really not consider VirtualBox - it‚Äôs the primary supported platform for Kicksecure and Whonix, and the automated installer will install VirtualBox and a Kicksecure appliance by default.</p>
</blockquote>
</aside>
<p>These were periodic time choices, meaning in 2013~ there wasnt much of choices for new project growing up, coming 2025 this is can be considered from the past.</p>
<p>Switching to VM per app, this idea can even merge whonix into kicksecure, how? because what is whonix doing is taking OS in VM connecting it through another VM, what can be done on VM per App is that X app in VM can use Y anonymization app/s in VM or even GW in VM.</p>
<p>To have these genius futuristic ideas coming to true without having virtualbox on the other hand = Be it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-03T22:30:07Z' class='post-time'>
                    July 3, 2025, 10:30pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-03T22:30:07Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Moderation notice:</p>
<ul>
<li>This forum thread is not VirtualBox vs KVM support etc. VirtualBox support will remain. That decision is done and off-topic in this forum thread.</li>
<li>Please use a separate thread for that if you must. Related:
<ul>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/VirtualBox#Arguments_for_keeping_VirtualBox_Support">Kicksecure: Arguments for keeping VirtualBox Support</a></li>
<li><a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/VirtualBox#Arguments_for_keeping_VirtualBox_Support">Whonix: Arguments for keeping VirtualBox Support</a></li>
</ul>
</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-03T23:17:57Z' class='post-time'>
                    July 3, 2025, 11:17pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-03T23:17:57Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>One possible argument in favor of the VM-based approach is that we could run ‚Äúunsafe‚Äù apps in sysmaint sessions safely. We went to a great deal of effort to prevent people from launching Firefox in a sysmaint session because of the dangers it poses, but launching a virtual machine sandbox with Firefox in it would be much safer than standard or sandboxed Firefox. The inability to safely use a web browser in a sysmaint session <a href="../panel-items-missing-feedback/1108/7.html">is causing some frustration</a>, and while we did see that coming and decided it was worth it, being able to remove that frustration would be nice.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_13' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-04T10:41:43Z' class='post-time'>
                    July 4, 2025, 10:41am
                  </time>
                  <meta itemprop='dateModified' content='2025-07-04T10:41:43Z'>
              <span itemprop='position'>13</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Since Android is going for a virtualization based approach for some apps and since that‚Äôs more secure we might need to do the same.</p>
<p>Perhaps if running on a host operating system, we‚Äôll use per application virtualization.</p>
<p>In case of nested virtualization (if we run already inside a VM), we‚Äôll investigate that more. Provide a user configurable setting in that case perhaps. Or fallback to another solution (run without virtualization) because we‚Äôll suggest to use multiple VMs.</p>
<p>We‚Äôll need a separate ticket to investigate the security impact of nested virtualization. We‚Äôll weigh it against running applications inside a VM without nesting.</p>
<p>That is, if even possible, such as slow performance making this infeasible.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_14' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-18T16:41:29Z' class='post-time'>
                    July 18, 2025,  4:41pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-18T16:41:29Z'>
              <span itemprop='position'>14</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="arraybolt3" data-post="9" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Android can get away with it because Google can enforce rules about how Android apps are written and we can‚Äôt do that with Linux apps.</p>
</blockquote>
</aside>
<p>Could you elaborate a bit on that please?</p>
<p>I guess‚Ä¶</p>
<p>Google dictates how apps must be built, packaged, and behave if they want to be distributed through the Play Store. Google can reject apps that don‚Äôt comply with sandboxing or violate permissions. Google Android developers have to use SDK and libraries dictated by Google.</p>
<p>Why we cannot do that on general purpose Linux distributions?</p>
<ul>
<li>There is no central authority. Anyone can write and distribute a Linux application however they want. No organization (like Google on Android) can enforce mandatory sandboxing or privilege separation. More on organizational background: <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Linux_User_Experience_versus_Commercial_Operating_Systems" class="inline-onebox">Linux User Experience versus Commercial Operating Systems</a></li>
<li>Most Linux applications weren‚Äôt designed with sandboxing in mind. ‚Üí <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/About_Computer_(In)Security#Security_Mindset_of_Open_Source_Software_Ecosystem">Security Mindset of Open Source Software Ecosystem</a></li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_15' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-18T20:23:14Z' class='post-time'>
                    July 18, 2025,  8:23pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-18T20:23:14Z'>
              <span itemprop='position'>15</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="14" data-topic="1120">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/patrick/48/165_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Google dictates how apps must be built, packaged, and behave if they want to be distributed through the Play Store. Google can reject apps that don‚Äôt comply with sandboxing or violate permissions. Google Android developers have to use SDK and libraries dictated by Google.</p>
</blockquote>
</aside>
<p>Right, and beyond that the Android operating system is designed in such a way where you fundamentally can‚Äôt just ‚Äúdo whatever you want‚Äù. The way in which the typical Linux desktop works, if someone needs root access and doesn‚Äôt want to prompt for it, they can just install a polkit configuration snippet or similar as part of the installation process, and get that access. With Android, not only can you not do that by policy, you can‚Äôt do that by design. Furthermore, we have to work with an already-existing app ecosystem with Kicksecure, whereas Android was free to make their own ecosystem from scratch. They don‚Äôt need to retain compatibility with anything if they don‚Äôt want to, whereas we do have to do that.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_16' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-07-24T17:07:34Z' class='post-time'>
                    July 24, 2025,  5:07pm
                  </time>
                  <meta itemprop='dateModified' content='2025-07-24T17:07:34Z'>
              <span itemprop='position'>16</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote" data-post="1" data-topic="1165">
  <div class="title">
    <div class="quote-controls"></div>
    <img alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar">
    <a href="../for-apps-persmission-default-block-all/1165.html">For Apps Persmission: Default Block All</a> <a class="badge-category__wrapper " href="../../c/development/7.html"><span data-category-id="7" style="--category-badge-color: #25AAE2; --category-badge-text-color: #FFF;" data-drop-close="true" class="badge-category " title="Development of Kicksecure software and source code."><span class="badge-category__name">Development</span></span></a>
  </div>
  <blockquote>
    By default, when any app is installed in the VM, nothing is allowed automatically. Every permission including internet access must be explicitly granted by the user. This approach prevents any unwanted permissions from being applied silently without the user‚Äôs notice or consent. 
Inspiration for a graphical permission gears:
  </blockquote>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_17' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-11-03T17:42:40Z' class='post-time'>
                    November 3, 2025,  5:42pm
                  </time>
                  <meta itemprop='dateModified' content='2025-11-03T18:03:51Z'>
              <span itemprop='position'>17</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Some thoughts I had on this recently:</p>
<ul>
<li>KVM and VirtualBox both support nested virt, it runs acceptably well on more recent CPUs and can limp along on older ones, and more recent CPUs are necessary to mitigate some side-channel attacks anyway.</li>
<li>Xen will probably gain nested virt support soon, and it may already support it to some degree in the form of (less secure) PV virtualization, i.e. it might be possible to run PV guests within a PVH or HVM guest.</li>
<li>QEMU‚Äôs attack surface is probably rather high, Cloud Hypervisor‚Äôs is probably lower but isn‚Äôt in Debian, but there‚Äôs also <a href="../../../external.html?link=https://github.com/kvmtool/kvmtool">kvmtool</a> <s>which I believe is already in Debian</s> (edit: scratch that, I know it was in Ubuntu 16.04 but I guess it‚Äôs not in Debian any longer). It‚Äôs smaller than QEMU and a bit similar to Cloud Hypervisor, though it has the disadvantage of being written in C. Unsure if it‚Äôs intended for security-critical use cases, and it seems to be rather inactive upstream at the moment, but it might be safer than QEMU‚Ä¶ not sure.</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_18' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-11-04T18:46:10Z' class='post-time'>
                    November 4, 2025,  6:46pm
                  </time>
                  <meta itemprop='dateModified' content='2025-11-04T18:46:10Z'>
              <span itemprop='position'>18</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Only i see we can examine is KVM and Xen, others are messy to be used outside what it meant for.</p>
<p>KVM: Smoothly working with any Linux version, which resolve the headache of vbox.</p>
<p>Xen: Less attack surface than KVM but its an outsider package for linux which need its own changes and implementation with the kernel.</p>
<p>The focus should be narrowed to these two hypervisors, which implementation can be done with, is a good one.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_19' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-11-05T00:07:50Z' class='post-time'>
                    November 5, 2025, 12:07am
                  </time>
                  <meta itemprop='dateModified' content='2025-11-05T00:07:50Z'>
              <span itemprop='position'>19</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I think there‚Äôs no question that if we ever implement a virtualization-based sandbox-app-launcher, we should use KVM or Xen as a backend. VirtualBox as a backend would probably be a bit of a mess. kvmtool is another KVM frontend, as is Cloud Hypervisor.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_20' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2026-01-12T05:55:33Z' class='post-time'>
                    January 12, 2026,  5:55am
                  </time>
                  <meta itemprop='dateModified' content='2026-01-12T05:55:33Z'>
              <span itemprop='position'>20</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Discussed some aspects of this with Patrick more, I‚Äôm not sure if we‚Äôre getting closer to a concrete implementation plan or not, but here‚Äôs some rough notes about what we were thinking:</p>
<p>Right now we have two privilege levels, <code>user</code> and <code>sysmaint</code>. <code>sysmaint</code> has the power most administrative users on other distros have; it‚Äôs ‚Äúroot with light safeguards to make it harder to do something foolish on accident‚Äù. <code>user</code> is more like what non-administrative users on Windows are; they can run arbitrary applications, work with files, use the network, etc., but they can‚Äôt mess with the guts of the system. This provides some additional security since it‚Äôs harder to get a foothold in the root account, but ultimately it doesn‚Äôt do much to fight malware that wants to steal or encrypt the user‚Äôs data, except for making it more likely that a user will be mindful about what they install.</p>
<p>Our ultimate goal, however we implement it, is to add a third privilege level to this model. Let‚Äôs call it <code>untrusted-user</code> (bad name, but it gets the point across for now).</p>
<ul>
<li>The standard <code>user</code> privilege level will retain all of the power it currently has. It is also where all of the user‚Äôs trusted data will be stored.</li>
<li>The <code>untrusted-user</code> privilege level is where more dangerous applications (such as web browsers) should run. This privilege level should be resistant to <em>attacker-incited</em> persistent compromise, while simultaneously expecting temporary compromise. That is, if an attacker manages to compromise a legitimate application running as <code>untrusted-user</code>, that compromise must be able to ‚Äújust go away‚Äù somehow. While the attacker has a foothold in <code>untrusted-user</code>, our implementation must contain that compromise if at all possible so that it cannot gain access to <code>user</code> data.
<ul>
<li>This implies that <code>untrusted-user</code> will be at least semi-ephemeral; changes made by malware need to be able to be erased reliably in some fashion.</li>
</ul>
</li>
<li>It is likely that the <code>untrusted-user</code> environment will suffer from <em>user-incited</em> persistent compromise (i.e. someone intentionally installed malware into the environment). It therefore must be possible to get rid of malware of this kind in some manner.</li>
<li>Users may work with data they want to store long-term when using <code>untrusted-user</code>, so they must be able to save that data persistently. Some of that data may be trusted, in which case there needs to be a way to move it into the <code>user</code> privilege level (users will obviously have to be very careful about what data they move), while some of that data may be untrusted and needs to stay in the <code>untrusted-user</code> privilege level. Users will also need to be able to move files from the <code>user</code> privilege level to the <code>untrusted-user</code> level.</li>
<li>Users will be running resource-intensive apps (most notably web browsers) in the <code>untrusted-user</code> privilege level. They will also be running these apps within potentially resource-constrained virtual machines. Thus, performance concerns have to be taken into account. Any solution based on virtualization will have to take into account the fact that nested virtualization may be disabled or may not be available at all (such as on current versions of Qubes OS).</li>
<li>Users will be running apps that make use of Linux‚Äôs native sandboxing capabilities. The implementation of <code>untrusted-user</code> <strong>must not break or weaken these sandboxes if at all possible.</strong></li>
<li>Applications running as <code>untrusted-user</code> are going to have to do IPC with things that run as <code>user</code> (most notably Wayland, Pipewire, and terminal emulator software, but probably also others). This provides substantial attack surface; Wayland is not a simple protocol, and labwc is not written in a memory-safe language, so I would not be surprised if a motivated attacker could attack the compositor to escape the sandbox.</li>
<li>We do not know what applications the user will run in the sandbox. The sandbox should work transparently with as many existing applications as possible.</li>
<li>Users will have legitimate reasons to run things in the <code>user</code> privilege level for compatibility or performance reasons. Not everything can be pushed into a container or VM and just work. However, a subset of users will only want to use the <code>user</code> privilege level for managing application that run as <code>untrusted-user</code>, or for very basic tasks. For those users who can afford to lock down <code>user</code>, there should be an option that uses a project like <a href="../../../external.html?link=https://github.com/roddhjav/apparmor.d">apparmor.d</a> to lock down the <code>user</code> privilege level. This might be worth while to enable by default and make opt-out.</li>
</ul>
<p>There are two main sandboxing models that I can see, per-application sandboxing and per-usecase sandboxing. Firejail, Bubblewrap, Flatpak, and sandbox-app-launcher are examples of the former kind. I personally do not believe this is the best way of doing things, for a few reasons:</p>
<ul>
<li>Per-application sandboxing generally involves figuring out everything a particular application needs, allowlisting it, and then denying everything else. This means that a special profile has to be written for every application, and that lots of fiddling is needed to ensure good application compatibility. sandbox-app-launcher doesn‚Äôt seem to have had this problem, but Firejail and Bubblejail certainly do.</li>
<li>Per-application sandboxing makes it confusing, difficult, or impossible to run the same app in two different ‚Äútrust domains‚Äù. It causes similar implications when trying to run multiple apps in the same ‚Äútrust domain‚Äù.</li>
<li>Because each application is isolated independently of others, one cannot easily sandbox utilities that are primarily used as parts of larger systems. For instance, it‚Äôs hard to imagine a useful generic sandbox for <code>netcat</code>. Per-usecase sandboxing allows one to sandbox these lower-level utilities meaningfully (for instance, maybe my ‚Äúsoftware-dev‚Äù environment should only allow <code>netcat</code> to reach out to <code>termbin.com</code>, while my ‚Äúdocument-processing‚Äù environment should allow it to reach out to a local network printer for‚Ä¶ some reason‚Ä¶ this is a bad example but you get my point).</li>
<li>Because each application is isolated independently of others, IPC becomes a concern. Should a sandboxed Tor Browser be able to ask my file manager to open a directory and show me the contents? On the surface, the answer is ‚Äúyes‚Äù, because I might want to use its ‚ÄúOpen containing folder‚Äù feature after downloading something. But what if the browser is compromised, and it‚Äôs able to use the ability to open my file manager by itself as part of a social engineering attack, trying to convince me to upload sensitive data somewhere? It shouldn‚Äôt be able to do that. With per-usecase sandboxing, I can say that Tor Browser should be allowed to communicate with <em>anything</em> within its sandbox, for any reason, but <em>nothing</em> outside of its sandbox. If the browser then decides to open a file manager window out of nowhere, it will be recognizably not my normal file manager, and it won‚Äôt be able to show me any sensitive files, so the attack‚Äôs likelihood of success goes down.</li>
<li>Sandboxing of server-like ‚Äúapplications‚Äù becomes harder, especially if they depend on and integrate with things like systemd.</li>
</ul>
<p>Per-usecase sandboxing is basically what containers and VMs give us. VMs are better from a security standpoint in a lot of ways, but due to resource constraints and compatibility issues, we can‚Äôt rely on them alone like I was suggesting previously. Containers are somewhat scary because they run directly on the host kernel, meaning that any host kernel bug in code accessible to the container can be exploited, potentially allowing an attacker to obtain kernel-level privileges. That being said, they‚Äôre better than nothing, and they allow working around many of the limitations of virtual machines (for instance, 3d acceleration can work inside containers).</p>
<p>There are a lot of existing containerization systems out there; Docker, LXC, LXD, Incus, systemd-nspawn, libvirt-lxc, etc. Which one of these would be good to build on top of, I‚Äôm not quite sure yet, but I initially think either systemd-nspawn or libvirt-lxc would be a good option. One nice thing about libvirt-lxc is that it allows defining a container in much the same way one would define a virtual machine, and libvirt provides both container and virtual machine functionality. This might permit implementing both VM-based sandboxing and container-based sandboxing in the same application. Something similar could be done with systemd-nspawn and systemd-vmspawn possibly, but unfortunately systemd-vmspawn is not present in Debian Trixie, so this may not be the best option.</p>
<p>In my mind, an ideal sandboxing solution would look something like this:</p>
<ul>
<li>There‚Äôs a privileged daemon (let‚Äôs call it <code>sandboxd</code>), which listens for requests to create and manage sandboxes. <code>sandboxd</code> creates sandboxes by using <code>mmdebstrap</code> to create a Debian rootfs with proper UIDs and GIDs so that an unprivileged sandbox can be booted. This daemon runs as root so that it can make the needed ownership changes after bootstrapping a new sandbox.</li>
<li>There‚Äôs a user-accessible application (call it <code>sandboxctl</code>) that talks to the daemon in order to do things like create, delete, rename, query information about, start, and stop sandboxes. It can also request files to be moved between the user‚Äôs home folder and the sandbox‚Äôs home folder, or can request a directory to be transparently passed through.</li>
<li>A number of validating proxies for basic, unavoidable IPC are provided with the system. These proxies do things like virtualize Wayland, Pipewire, and console access, preventing malicious interactions with parts of the system that run under the <code>user</code> privilege level.</li>
<li>A number of basic permissions exist (‚Äúallow network‚Äù, ‚Äúallow GUI‚Äù, ‚Äúallow audio‚Äù, ‚Äúallow mic‚Äù, ‚Äúallow 3d accel‚Äù, etc.). These permissions can be toggled on or off at the trust domain level. Wherever possible, validating proxies are used to enable these permissions rather than just passing through bits of the host system to the container. In some situation though, host passthrough will likely be unavoidable, for instance for passing through something like <code>/dev/dri/renderD128</code> for 3d acceleration.</li>
<li>A helper application using seccomp-bpf will be provided that will deny the ability to create user namespaces to most applications in some way (handwaving here, haven‚Äôt thought this through fully). Only specific applications that need user namespaces such as web browsers will be run without this application wrapping them, thus allowing us to have the lessened kernel attack surface of ‚Äúno user namespaces‚Äù, and the better in-browser security that comes with user namespaces.</li>
<li>Sandboxes can be booted with an optional RAM-based overlay within the sandbox to make them ephemeral. Only specific folders within the sandbox‚Äôs home folder such as Documents would be exempted (bind mounting would be needed for this). This would allow a user to make a sandbox ‚Äúforget‚Äù a compromise, even one that used files like <code>~/.bashrc</code> for persistence, by simply rebooting the sandbox. For software updates and installation, the sandbox could be booted in a fully persistent mode.</li>
</ul>
<p>This is the basic architecture in my mind. This would meet all of the criteria above AFAICT.</p>
<p>The hardest part of this is probably going to be the validating proxies. What might be doable instead is to run a real Wayland compositor and audio server within the sandbox, then use simpler protocols like VNC and audio streaming to get video and audio out of the container. A terminal emulator could then be run within the sandbox rather than using a <code>user</code>-privileged terminal emulator to interface with the sandbox. The performance impact of this might be substantial, and it could make things like the clipboard harder to use, but perhaps not impossible. Research would have to be done into this.</p>
<p>Everything after this is research I did into a bunch of existing sandboxing mechanisms and why I think they probably aren‚Äôt suitable for what we want to do.</p>
<ul>
<li>VirtualBox and KVM are both very resource intensive. They require lots of disk space, lots of memory, lots of CPU power, and destroy the ability to use graphics hardware acceleration (which is necessary to do things like watch videos at reasonable resolutions). They require hardware virtualization features, making them unsuitable for use within Qubes or environments where nested virtualization isn‚Äôt available or is painfully slow.</li>
<li>Flatpak uses a combination of namespaces, cgroups, and seccomp to sandbox applications. While good in theory, in practice this results in a lot of problems:
<ul>
<li>Many Flatpaks have very loose permissions, and those that don‚Äôt oftentimes don‚Äôt work right.</li>
<li>seccomp is used to deny access to features that may increase kernel attack surface, like user namespaces. This breaks Chrome‚Äôs sandbox among other things, making it more dangerous to use a Flatpak-packaged browser than an apt-packaged one.</li>
<li>Sandboxed applications connect directly to the Wayland compositor, which is unsafe as described above.</li>
<li>The way in which Flatpaks bundle dependencies means that oftentimes Flatpaks can contain insecure dependencies, resulting in security problems. <a href="../../../external.html?link=https://flatkill.org/">https://flatkill.org/</a> goes into a lot of detail on that.</li>
</ul>
</li>
<li>Snap suffers from similar issues as Flatpak, though it may not be as bad from a dependency standpoint if it uses packages from the Ubuntu archive. It may also handle nested sandboxing better. It‚Äôs a semi-closed-source system dependent upon Canonical though, so it may be better avoided.</li>
<li>Bubblewrap can be used on its own, without Flatpak. Depending on what exactly is being done, this <em>can</em> be a viable sandboxing mechanism, it might be usable instead of systemd-nspawn or libvirt-lxc. I‚Äôm not sure if it has advantages beyond these mechanisms yet, it might complicate attempts to make VM-based sandboxing work.</li>
<li>I took a look at Landlock. It looks like a rather interesting way to do some of the things AppArmor does, but without needing privileges. It can be used to do things like make an application that says ‚ÄúI need to be able to read from this dir, read and write this other dir, and read, write, and execute this third dir, and that‚Äôs it.‚Äù Then the kernel will keep it from doing anything other than the things it locked itself into doing.
<ul>
<li>This isn‚Äôt really what we‚Äôre looking for I would argue. It might be interesting for some specific usecases, but‚Ä¶ we already have AppArmor for this sort of thing. This is a variant on mandatory access control, which doesn‚Äôt provide the compatibility we‚Äôre looking for.</li>
</ul>
</li>
<li>AppArmor is something we‚Äôre already familiar with, as we actively use it to do things like sandbox Tor Browser.
<ul>
<li>This requires a custom policy to be written for each sandboxed application, which is a pain, and it also doesn‚Äôt do much to work with applications that don‚Äôt work if you deny them resources that are potentially dangerous. It also doesn‚Äôt allow isolating data into separate <code>untrusted-user</code> environments.</li>
</ul>
</li>
<li>Firejail is designed to sandbox individual applications using individually written profiles. It also allows the user to create custom profiles for applications that don‚Äôt have profiles written for them already. It sandboxes the applications that already exist on the root filesystem.
<ul>
<li>It‚Äôs SUID-root, which is problematic since we‚Äôre trying to get rid of such applications.</li>
<li>While simple to use in theory, it seems to require the user to know that they‚Äôre doing a bit more than I personally would prefer. Rather than saying ‚Äúthis set of apps has its own environment‚Äù, it says ‚Äúhere are the parts of the <code>user</code> environment this particular app can access.‚Äù This is possibly dangerous since it blurs the lines between the privilege levels we want to establish. For instance, a browser should naturally be allowed to save things in Downloads, but what if you have sensitive company data in your Downloads folder, and your browser gets compromised and uploads it?</li>
<li>There has been at least one TOCTOU vuln in Firejail which allowed an attacker to escalate their privileges to root. This is arguably proof that Firejail as an SUID application is a less-than-great idea. <a href="../../../external.html?link=https://unparalleled.eu/blog/2021/20210208-rigged-race-against-firejail-for-local-root/" class="inline-onebox">Rigged Race Against Firejail for Local Root</a> is a good example. There have been other vulnerabilities in Firejail that make this look dangerous.</li>
</ul>
</li>
</ul>
<p>This is a bit long, but hopefully it will be useful.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>

      <div role='navigation' itemscope itemtype='http://schema.org/SiteNavigationElement' class="topic-body crawler-post">
            <span itemprop='name'><b><a rel="next" itemprop="url" href="11204658.html?page=2">next page ‚Üí</a></b></span>
      </div>

    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
