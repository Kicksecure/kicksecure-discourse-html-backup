<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Enable and use zRAM instead for swap - Development - Kicksecure Forums</title>
    <meta name="description" content="Its enabled by default in fedora and ubuntu, would be good to have it on kicksecure. 
As suggested here to be used on SSD, without the need to use swap:">
    <meta name="generator" content="Discourse 3.4.0 - https://github.com/discourse/discourse version 22f2a554ef3d1e1494defd49ba4c8aec9c821aae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="654.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e77.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e776?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a839.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a83961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Enable and use zRAM instead for swap&#39;" href="654.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654" />
<meta property="og:title" content="Enable and use zRAM instead for swap" />
<meta name="twitter:title" content="Enable and use zRAM instead for swap" />
<meta property="og:description" content="Its enabled by default in fedora and ubuntu, would be good to have it on kicksecure.  As suggested here to be used on SSD, without the need to use swap:" />
<meta name="twitter:description" content="Its enabled by default in fedora and ubuntu, would be good to have it on kicksecure.  As suggested here to be used on SSD, without the need to use swap:" />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 ❤" />
<meta property="article:published_time" content="2024-10-31T21:31:54+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="654.html">Enable and use zRAM instead for swap</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Enable and use zRAM instead for swap'>
      <link itemprop='url' href='654.html'>
      <meta itemprop='datePublished' content='2024-10-31T21:31:54Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="654.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-10-31T21:31:54Z' class='post-time'>
                    October 31, 2024,  9:31pm
                  </time>
                  <meta itemprop='dateModified' content='2024-10-31T21:31:54Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Its enabled by default in fedora and ubuntu, would be good to have it on kicksecure.</p>
<p>As suggested here to be used on SSD, <strong>without</strong> the need to use swap:</p>
<div class="youtube-onebox lazy-video-container" data-video-id="b4vTKg-qW_0" data-video-title="Debian 12: Fighting with OpenSUSE Snapper!" data-video-start-time="260" data-provider-name="youtube">
  <a href="../../../external.html?link=https://www.youtube.com/watch?v=b4vTKg-qW_0&amp;t=260" target="_blank" class="video-thumbnail" rel="noopener">
    <img class="youtube-thumbnail" src="../../../external.html?link=https://img.youtube.com/vi/b4vTKg-qW_0/maxresdefault.jpg" title="Debian 12: Fighting with OpenSUSE Snapper!" width="690" height="388">
  </a>
</div>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-01T17:18:57Z' class='post-time'>
                    November 1, 2024,  5:18pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-01T17:18:57Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>There are a couple aspects to this that need to be explored.</p>
<p>For one, there’s zram and zswap. zram is fully ephemeral - no data in RAM ever touches the disk in any form, encrypted or otherwise. This helps reduce disk wear-and-tear, and could be theoretically useful from a security standpoint. However, it does mean that systems with lower RAM can only get so much out of zram - the amount of stuff you can have in RAM increases, but there’s an upper limit that depends on what kind of data you’re working on.</p>
<p>zswap on the other hand is basically zram and a swapfile combined. Data is compressed in RAM first, and then infrequently used data is swapped out to disk. This gives you speed benefits, and it lets you fit more stuff in your RAM than normal while also allowing you to have the “virtually infinite memory” capabilities of a normal swapfile. However, it’s a bit trickier to configure, and it does end up with memory contents written to disk which could be bad from a security standpoint (though I think swap-file-creator is encrypting the swapfile).</p>
<p>I personally prefer zram on my systems, however for VMs with only 2 or 3 GB RAM zswap might be more practical. swap-file-creator might be a good place to configure this?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-01T21:36:38Z' class='post-time'>
                    November 1, 2024,  9:36pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-01T21:36:38Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thanks for the input, i see only to use zram, no need for anything else, as i dont think any disk swap is needed in nowadays hardware.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-02T09:08:22Z' class='post-time'>
                    November 2, 2024,  9:08am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-02T09:08:22Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <ul>
<li>Suspend to RAM (aka suspend)</li>
<li>Suspend to disk (aka hibernate)</li>
</ul>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>(though I think swap-file-creator is encrypting the swapfile).</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="3" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>dont think any disk swap is needed in nowadays hardware.</p>
</blockquote>
</aside>
<p>hibernate requires swap.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>swap-file-creator might be a good place to configure this?</p>
</blockquote>
</aside>
<p>Yes.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>I personally prefer zram on my systems, however for VMs with only 2 or 3 GB RAM zswap might be more practical.</p>
</blockquote>
</aside>
<p>A different configuration is needed for host versus VMs?</p>
<p>What advantages and disadvantage we’d get wiht zram, zwap,</p>
<ul>
<li>inside VM,</li>
<li>on the host operating system?</li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-02T14:03:38Z' class='post-time'>
                    November 2, 2024,  2:03pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-02T14:03:38Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>hibernate requires swap.</p>
</blockquote>
</aside>
<p>Unsupported feature (by default).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-03T00:22:48Z' class='post-time'>
                    November 3, 2024, 12:22am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-03T00:22:48Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>A different configuration is needed for host versus VMs?</p>
<p>What advantages and disadvantage we’d get wiht zram, zwap,</p>
<ul>
<li>inside VM,</li>
<li>on the host operating system?</li>
</ul>
</blockquote>
</aside>
<p>It’s not so much a question of whether it’s in a VM or on the host, as it is a question of how much RAM there is. zram has the advantages of being totally ephemeral and very fast, but it can only increase available RAM so much. According to <a href="../../../external.html?link=https://wiki.gentoo.org/wiki/Zram" class="inline-onebox" rel="noopener nofollow ugc">zram - Gentoo wiki</a>, zram offers about a 3:1 compression ratio. This doesn’t let you just say “a 4 GB RAM system will act like it has 12 GB”, since you have to account for overhead, but assuming you have 1 GB of uncompressed RAM at any one time and the remainder is compressed, you could expand 4 GB to approximately (3 * 3) + 1 = 10 GB. 3 GB could be expanded to about 7 GB. 2 GB could expand to about 4 GB, which is where you start getting cramped. Moderate-to-light web browsing gets hard at that point.</p>
<p>zswap of course gets around this issue by allowing you to also swap RAM contents out to disk, but that’s much slower and also not totally ephemeral. (Certainly with encryption it’s close to impossible to ever read the RAM contents, but in theory just not saving memory to disk is even more secure.) Also the overhead of encrypting and decrypting swap contents makes things even slower.</p>
<p>Perhaps we could use zswap for systems with &lt;= 2 GB RAM, and zram otherwise?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-05T10:25:11Z' class='post-time'>
                    November 5, 2024, 10:25am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-05T10:25:11Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group quote-modified" data-username="nurmagoz" data-post="5" data-topic="654" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>hibernate requires swap.</p>
</blockquote>
</aside>
<p>Unsupported feature (by default).</p>
</blockquote>
</aside>
<p>Supported.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="1" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>Its enabled by default in fedora and ubuntu,</p>
</blockquote>
</aside>
<p>what another distribution does or not does is by itself not an argument. → <a href="../../../external.html?link=https://www.whonix.org/wiki/Dev/Operating_System#Why_don.27t_you_do_what_.3Cother_operating_system.3E_does.3F">Why don’t you do what <code>&lt;other operating system&gt;</code> does?</a> applies.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="6" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Perhaps we could use zswap for systems with &lt;= 2 GB RAM, and zram otherwise?</p>
</blockquote>
</aside>
<p>Before re-inventing here… What are their settings of other distributions?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-08T02:20:06Z' class='post-time'>
                    November 8, 2024,  2:20am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-08T02:20:06Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="7" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Before re-inventing here… What are their settings of other distributions?</p>
</blockquote>
</aside>
<ul>
<li>Kubuntu 24.04
<ul>
<li>Doesn’t use zram or zswap by default at all.</li>
</ul>
</li>
<li>Ubuntu Desktop 24.04
<ul>
<li>Apparently <em>also</em> doesn’t use zram or zswap by default at all anymore!</li>
</ul>
</li>
<li>Fedora 40
<ul>
<li>zram enabled by default. Places swap on zram, with the zram device set to 50% of RAM size. (<a href="../../../external.html?link=https://fedoraproject.org/wiki/Changes/SwapOnZRAM" class="inline-onebox" rel="noopener nofollow ugc">Changes/SwapOnZRAM - Fedora Project Wiki</a>) This mentions the device size is capped at 4 GB, however on my 16 GB VM the zram device is 8 GB so maybe they increased that. Algorithm used is <code>lzo-rle</code>, which is fast but doesn’t compress all that well.</li>
</ul>
</li>
<li>Debian
<ul>
<li>Not enabled by default, no recommendations for size or algorithm, mentions using zram-tools or systemd-zram-generator for easier management of zram devices.</li>
</ul>
</li>
<li>Arch Linux
<ul>
<li>Not enabled by default, <a href="../../../external.html?link=https://wiki.archlinux.org/title/Zram" rel="noopener nofollow ugc">documentation</a> suggests creating a device half the size of available memory but mentions that making a device with a size equal to or larger than available memory is acceptable. Suggests using the zstd algorithm, which compresses better, and mentions that real-world use often shows a 3:1 compression ratio.</li>
</ul>
</li>
<li>Manjaro
<ul>
<li>Not enabled by default, <a href="../../../external.html?link=https://forum.manjaro.org/t/howto-install-and-configure-zram-using-zram-generator/168610" rel="noopener nofollow ugc">documentation</a> suggests creating a device twice the size of available memory. Also suggests using the zstd algorithm.</li>
</ul>
</li>
<li>Gentoo
<ul>
<li>Not enabled by default, <a href="../../../external.html?link=https://wiki.gentoo.org/wiki/Zram" rel="noopener nofollow ugc">documentation</a> (which is very thorough) mentions a plethora of different sizes and algorithms and makes no effort to recommend any particular size or algorithm that I can tell. Also mentions the 3:1 compression ratio.</li>
</ul>
</li>
</ul>
<p>So really it’s all over the map. Personally, I’ve previously used a zram device equal to the size of my physical memory with lzo-rle compression, but recently have been experimenting with a zram device size of (physical memory size - 1 GB) * 3 with zstd to see how it goes. Personally I think using zstd rather than lzo-rle is a very good idea if we’re going to try using zram devices larger than physical memory, since it should compress better according to <a href="../../../external.html?link=https://github.com/ecdye/zram-config/blob/main/README.md#configure" class="inline-onebox" rel="noopener nofollow ugc">zram-config/README.md at main · ecdye/zram-config · GitHub</a></p>
<blockquote>
<p><code>lzo-rle</code> is the fastest with <code>zstd</code> having much better text compression.</p>
</blockquote>
<aside class="quote no-group" data-username="Patrick" data-post="4" data-topic="654">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>hibernate requires swap.</p>
</blockquote>
</aside>
<p>I personally would shy away from supporting hibernation. It’s incompatible with Secure Boot, systems sometimes experience malfunctions when using it with Linux (maybe even oftentimes), and it requires that RAM contents be saved to disk either unencrypted or with a recoverable encryption key, which is a substantial reduction of security since now otherwise volatile data is now persistent.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-11T15:38:19Z' class='post-time'>
                    November 11, 2024,  3:38pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-11T15:38:19Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Until we decide the future of swap in Kicksecure…</p>
<p>Let’s break support for hibernation by default. Then swap-file-creator could also create a smaller swap file by default.</p>
<p>Related:</p>
<ul>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Swap-file-creator" class="inline-onebox">swap-file-creator</a></li>
<li>
<pre><code>calculate-swap-size
</code></pre>
</li>
</ul>
<blockquote>
<p>Usage: calculate-swap-size [RAM in MB] [Hibernation (yes/no)]</p>
</blockquote>
<p>Examples:</p>
<ul>
<li>
<pre><code>calculate-swap-size 4096 yes
</code></pre>
</li>
</ul>
<blockquote>
<p>Calculating swap size…<br>
RAM in MB: 4096<br>
Hibernation considered: yes<br>
RAM in GB (approximated for calculation): 4<br>
RAM &gt; 2GB and &lt;= 8GB with hibernation: Swap size is 2 times the RAM<br>
Calculated Swap Size in MB: 8192</p>
</blockquote>
<ul>
<li>
<pre><code>calculate-swap-size 4096 no
</code></pre>
</li>
</ul>
<blockquote>
<p>Calculating swap size…<br>
RAM in MB: 4096<br>
Hibernation considered: no<br>
RAM in GB (approximated for calculation): 4<br>
RAM &gt; 2GB and &lt;= 8GB without hibernation: Swap size equals RAM<br>
Calculated Swap Size in MB: 4096</p>
</blockquote>
<p>A smaller swap file by default is a small progress.</p>
<p>Once decided what to do about zwap / zram, we might even deprecate the current default file based swap.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-15T11:18:45Z' class='post-time'>
                    November 15, 2024, 11:18am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-15T11:18:45Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="onebox githubcommit" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">github.com/Kicksecure/swap-file-creator</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">no longer consider hibernation by default</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-11-15" data-time="11:16:30" data-timezone="UTC">11:16AM - 15 Nov 24 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 1 files with 4 additions and 1 deletions">
        <a href="../../../external.html?link=https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener">
          <span class="added">+4</span>
          <span class="removed">-1</span>
        </a>
      </div>
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">to have a smaller default swap file by default

and because hibernation is not y<span class="show-more-container"><a href="../../../external.html?link=https://github.com/Kicksecure/swap-file-creator/commit/528694be791b126da112cbf71276a1dacd9273f6" target="_blank" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">et compatible with Secure Boot

https://forums.kicksecure.com/t/enable-and-use-zram-instead-for-swap/654/8</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/suse211213'><span itemprop='name'>suse211213</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-01-04T03:00:38Z' class='post-time'>
                    January 4, 2025,  3:00am
                  </time>
                  <meta itemprop='dateModified' content='2025-01-04T03:00:38Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Until now i know about zram</p>
<p>Is zram swap encrypted on encrypted partitions?</p>
<p>Any way to determine if its encrypted<br>
Lsblk lsbels only root partition as crypt</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-01-05T08:07:03Z' class='post-time'>
                    January 5, 2025,  8:07am
                  </time>
                  <meta itemprop='dateModified' content='2025-01-05T08:07:03Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>zram is inside RAM. And RAM is unencrypted by default.</p>
<p>RAM Encryption is very difficult to accomplish. Off-topic in this forum thread. See also:</p>
<ul>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dev/confidential_computing#RAM_Encryption">RAM Encryption</a></li>
<li><a href="../ram-encryption-confidential-cloud/635.html" class="inline-onebox">RAM encryption / Confidential Cloud</a></li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
