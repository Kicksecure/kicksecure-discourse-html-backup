<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Kicksecure 18 Released! Major Release Upgrade!</title>
    <link>https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375</link>
    <description># Download

* https://www.whonix.org/wiki/Download
  * VirtualBox: https://www.kicksecure.com/wiki/VirtualBox
  * KVM:  https://www.kicksecure.com/wiki/KVM
  * Qubes: https://forums.kicksecure.com/t/kicksecure-18-for-qubes-released-major-release-upgrade/1377
 
([What is a release upgrade?](https://www.kicksecure.com/wiki/Release_Upgrade))

----

# Upgrade

Alternatively, an in-place release upgrade is possible using the instructions: https://www.kicksecure.com/wiki/Release_Upgrade_17_to_18

----

This release would not have been possible without the numerous supporters of Kicksecure!

----

Please Donate!

https://www.kicksecure.com/wiki/Donate

----

Please Contribute!

https://www.kicksecure.com/wiki/Contribute

----

# Major Changes

* port to Debian 13 / trixie
* https://www.kicksecure.com/wiki/Ram-wipe
  * external security audit of ram-wipe: https://blog.3mdeb.com/2025/2025-08-27-ram-wipe-further-analysis/
* install USBGuard by default: https://www.kicksecure.com/wiki/USBGuard
  * https://forums.kicksecure.com/t/usbguard-what-should-we-allow-or-disallow-by-default/1248
* https://forums.whonix.org/t/port-to-wayland/17380
  * Non-Qubes only
  * Qubes: see [Qubes ticket](https://github.com/QubesOS/qubes-issues/issues/3366)
  * related: https://forums.kicksecure.com/t/wayland-only-or-noland/1170
* [port to LXQt](https://forums.whonix.org/t/lxqt-wayland-support/18178)
* `[EDIT]` [bring back Btrfs support in ISO installer](https://forums.kicksecure.com/t/use-btrfs-as-the-default-journaling-file-system/626/12)
* port to [privleap](https://www.kicksecure.com/wiki/Privleap)
* [no longer install `xpdf` by default](https://forums.whonix.org/t/choosing-qt-wayland-compatible-software-for-lxqt/22332/24) (due to port to Wayland)
* investigated https://www.kicksecure.com/wiki/VirtualBox/Green_Turtle_Issue issue and provided Hyper-V disable scripts
* [Switch to using deb822 sources](https://forums.kicksecure.com/t/apt-sources-list-one-line-format-versus-deb822-style-format/267)
* `backlight-tool-dist`: New privleap, LXQt compatible backlight adjustment tool.
* https://www.kicksecure.com/wiki/Keyboard_Layout new tools:
  * `set-system-keymap`
  * `set-console-keymap`
  * `set-labwc-keymap`
  * `set-grub-keymap`
* disable clipboard sharing by default for VM images (since broken by Wayland)
  * VirtualBox: https://www.kicksecure.com/wiki/VirtualBox/Guest_Additions
  * KVM: [Clipboard Sharing](https://www.whonix.org/wiki/KVM#Clipboard_Sharing)
  * Qubes: Unaffected. No changes.
* GRUB boot menu now has a keyboard selection menu. (This is documented in chapter [Temporary Kernel Boot Parameter Change](https://www.kicksecure.com/wiki/Grub#Temporary_Kernel_Boot_Parameter_Change).)
* Boot performance and RAM savings improvements.
* Consistent naming of meta packages.
* VirtualBox / KVM: Fix auto adjustment of window size in Wayland using `wlr-resize-watcher` (in package `vm-config-dist`).

# Changelog up to 18.0.8.7

* bootclockrandomization:
  * Fix output on non-English locale systems
* desktop-config-dist:
  * Fix taskbar and screen background if broken due to unclean shutdown.
* developer-meta-files:
  * Check if on expected branch
  * Check for empty directories
* helper-scripts:
  * set keymap scripts: port to localectl-static for higher reliability inside chroot
  * luks-path-check: fix detection when using Btrfs (to fix swap-file-creator on Btrfs failing to detect encrypted LUKS device)
  * Optimize stsponge memory usage, add NUL byte check to stdisplay malicious Unicode test
  * `set-system-keymap` now also runs `set-grub-keymap`
  * Rename `strip-html` -&gt; `strip-markup`
  * Refactor strip_markup and sanitize_string libraries, add tests
  * Check if Tor is dormant and re-activate Tor
  * Add `tor-dormant-check`
  * Add `tor-signal-newnym`
  * Keyboard layout script and localectl-static fixes / optimization
* kicksecure-meta-packages:
  * Install `tor-ctrl` by default.
  * Add `firmware-carl9170`
  * Add new meta package `firmware-freedom`
* rads:
  * No longer switch to virtual terminal 2 as it is no longer required in Debian Trixie https://forums.whonix.org/t/no-login-prompt-getty-started-on-tty1-anymore-in-whonix-16-debian-bullseye-based/12475
  * Fix on systems with non-English system language
* ram-wipe:
  * Code simplification
  * Fix: no longer enable kexec because ram-wipe fortunately no longer requires kexec. The new default (set by security-misc) is to keep kexec disabled even if ram-wipe is installed, which is installed by default.
  * Fix false-positive detection of remaining encrypted disk still being mounted (https://forums.kicksecure.com/t/question-about-ram-wipe/1374)
* sdwdate-gui:
  * Make sdwdate-gui-qubes-proxy much less likely to fail, to avoid systemd showing the system as degraded incorrectly
  * Fix cosmetic issue in Qubes sys-net journal: `sdwdate-gui-qubes@0-1443-1000.service: Failed with result &#39;protocol&#39;.`
* security-misc:
  * Fix block-unsafe-logins when running as non-root, add swaylock to list of safe auth services
  * Documentation improvements.
  * Remove the option to reduce the MCE tolerance level
  * Provide options to enable AMD SME and SEV
  * Provide options to panic upon receiving NMIs
  * Set `net.ipv4.tcp_tw_reuse=0`
  * Add docs on logging martian packets
  * Set `bdev_allow_write_mounted=0`
  * Set `kpti=1`
  * Set `proc_mem.force_override=ptrace`
  * Add another method to disable 32-bit legacy vsyscalls
* serial-console-enable:
  * Remove gfxterm, as it results in multiple conflicting GRUB menu displays under KVM
* swap-file-creator:
  * Fix swap file creation on `Btrfs` filesystem.
  * Also parse `.conf` files in `/etc/default/swap-file-creator.d` and `/usr/local/etc/default/swap-file-creator.d` folders
* systemcheck:
  * Fix crypt-check to work (https://forums.kicksecure.com/t/systemcheck-incorrectly-warns-that-full-disk-encryption-fde-is-absent/1381)
  * Check both systemd system and systemd user units that are hung in state failed, activating, or deactivating
  * Silence SRSO warning when running in VMs or containers
  * Fix systemcheck first line (header) when running in non-US languages
  * Fix: no longer matching `debug:` in critical messages
  * Improve notification of critical kernel messages related to hardware errors
* tb-updater:
  * Install latest TBB version even if hardcoded version number is out of date
  * Use hardcoded version number as minimum version, but download higher versions if available
  * Fix desktop icon by adding `StartupWMClass=Tor Browser Downloader (AnonDist)` https://forums.whonix.org/t/whonix-18-0-7-5-major-release-upgrade-testers-wanted/22469/11
* tb-starter:
  * Fix desktop icon by adding `StartupWMClass=Tor Browser` https://forums.whonix.org/t/whonix-18-0-7-5-major-release-upgrade-testers-wanted/22469/11
* tor-ctrl:
  * Fix end-of-options parsing
* usability-misc:
  * Add optional `check-user-slice-on-shutdown.service` systemd unit for debugging stuck user processes in `session-c1` slice on shutdown
  * Disable `orca-kill-at-shutdown.service` by default because it might slow down shutdown
* user-sysmaint-split:
  * Show a notification and log an entry to the system journal if a qrexec action is blocked in sysmaint mode
  * Better error handling in case the disk is read-only without ephemeral overlay
* sysmaint-panel:
  * Lowercase names of packages being installed, update apt lists if the package isn&#39;t initially found
* derivative-maker:
  * Fix: avoid need for `localectl` on the build host
  * ISO builds: require command line parameter `--freedom true` or `--freedom false` by default for `--architecture` `amd64` (and `i386`) only. (Other architectures do not need this as there are no nonfreedom firmware packages installed in any case.)
  * Always install meta package `firmware-freedom` / `firmware-nonfreedom` on the ISO by default for official builds. See also: https://www.kicksecure.com/wiki/Dev/nonfree
* anon-connection-wizard:
  * Sync hardcoded bridges with Tor Browser, rename meek-azure -&gt; meek since the current Meek bridge does not appear to use Azure
* tor-control-panel:
  * Rename meek-azure -&gt; meek since the current Meek bridge does not appear to use Azure

# Changelog up to 18.0.7.5 (testers-only version)

* anon-apt-sources-list:
  * Replace `Xfce` with `LXQt` where appropriate.
  * Switch to using `deb822` sources.

* anon-connection-wizard:
  * Remove remaining `pkexec` references, use `privleap` only.
  * Avoid an either/or dependency bug.

* anon-shared-build-apt-sources-tpo:
  * Switch to using `deb822` sources.

* bindp:
  * Use a `Makefile` when building `bindp` in the `postinst` script.
  * Improve security and clean up the code.

* bootclockrandomization:
  * Remove features from `msgcollector` that do not work with Wayland.

* browser-choice:
  * Port to `package-installed-check`.
  * Add dependency on `helper-scripts`.
  * Use `apt-get-noninteractive`.
  * Fix Tor Browser plugin behavior and disable the install option for packages that are already installed.
  * Explain how to install Tor Browser in the user account without installing it into the `sysmaint` account.
  * fix: No longer depend on `tb-updater` and `tb-starter`.
  * Use the Qubes update proxy for all HTTP requests when running in a TemplateVM.
  * Add notifications when a browser installation or removal completes.
  * Fix privileged vs unprivileged execution logic.
  * Do not offer to start a browser in a Qubes TemplateVM.
  * Fix the user session warning message on Qubes OS.
  * Switch to using `deb822` sources.

* calamares-settings-debian:
  * Double the length of most timeouts to accommodate slow installation target media.

* debug-misc:
  * Disable `panic_on_oom`.
  * Disable `security-misc`&#39;s `/usr/lib/sysctl.d/30_security-misc_ptrace-disable.conf`. See https://github.com/Kicksecure/security-misc/issues/321
  * Remove `initramfs-tools` support.
  * Reorder settings to be consistent with `security-misc`.
  * Remove `sysctl kernel.panic=-1`.
  * Update `sysctl` settings related to kernel panics.

* desktop-config-dist:
  * Prevent `lxqt-powermanagement` from overriding system-wide defaults with auto-configuration.
  * Redirect output from greeter-launched `labwc` sessions to the system journal to make debugging easier.
  * Fix a black screen issue for users who had already triggered it.
  * Fix a black screen issue when the first user session reboot or shutdown is done via the command line.
  * Run `livecheck-lsblk.service` after `systemd-tmpfiles-setup.service`.
  * Refuse to log into a full graphical session in `sysmaint` mode or as the `sysmaint` user.
  * Update default power management settings.
  * Prevent more than one `livecheck` window from being open at the same time.
  * Improve `backlight-tool-dist` debug messages and make messaging clearer when there is no brightness to restore.
  * Add a generic lock screen background.
  * Move Waybar configuration for `sysmaint` sessions to `*-base-files` packages.
  * Avoid `greetd` getting stuck on a black screen when authentication fails.
  * Add missing dependencies for `wlr-resize-watcher`, `python3-pyudev` and `wlr-randr`.
  * Create a backlight helper tool, bind it to brightness keys and enable brightness restore on login.
  * Switch `greetd` `labwc` configuration to a configuration directory so keyboard layout can be changed in the greeter.
  * Disable the color change on Waybar&#39;s volume widget when hovering.
  * Move `swaylock` configuration out of `desktop-config-dist`.
  * Move `zsh` configuration to `usability-misc`.
  * Make the battery indicator in `sysmaint` sessions detect AC plug/unplug events more quickly.
  * Fix Qt application theming under Qubes OS.
  * Slow down the mouse pointer; the previous configuration made it too fast.
  * Signal to the system when the Wayland session has started.
  * Export `XDG_CONFIG_DIRS` and `XDG_DATA_DIRS` correctly.
  * Hide unnecessary error output (`stderr`) where appropriate.
  * Set `WLR_RENDERER` only on non-Qubes and non-VM systems.
  * Under Qubes OS, do not set `GDK_BACKEND` and `QT_QPA_PLATFORM` because Qubes does not support Wayland yet. See https://github.com/QubesOS/qubes-issues/issues/3366
  * Fix `xdg-desktop-portal` support in `sysmaint` sessions and remove unnecessary dependencies.
  * Make `Ctrl+Alt+T` launch `QTerminal`.
  * Turn off the empty tooltip on the Waybar clock.
  * Add a volume widget to Waybar.
  * Make the Waybar clock update every second.
  * Do not run the `greetd` configuration builder in Qubes.
  * Add desktop configuration for `LXQt + labwc`.
  * Show a notification about the system&#39;s live state at login when not booting in persistent mode.

* developer-meta-files:
  * Reject cache directories.
  * Check for empty directories.
  * Add more maintenance automation.
  * Install `qubes-core-agent-dom0-updates` by default in Kicksecure for Qubes.
  * Add a wrapper for `dm-tor-update-repository` to `dm-packaging-helper-script`.
  * Create the `dm-tor-update-repository` script.
  * Automatically update the VirtualBox Windows SHA256 file.
  * Automatically update the Windows download link.
  * Support scripted `git push` for Windows-related components.
  * Support scripted `git push` for Qubes templates.

* dist-base-files:
  * Fix strings in the GRUB menu for user session advanced settings.
  * Fix anon-base-files machine ID prompt and `/etc/hosts` warning. See https://forums.whonix.org/t/setting-up-anon-base-files-shows-machine-id-prompt-followed-by-ominous-warning-ominous-warning-etc-hosts-is-not-linked-to-either-hosts-whonix-or-hosts-whonix-orig/8045/14
  * Stop disabling UUIDs in `grub.cfg`.
  * fix: Avoid calling `daily activities` for `SYSMAINT Session`; use `system maintenance tasks` instead.
  * Remove support for `initramfs-tools`.
  * Fix `leapctl` errors with `greetd` and fix GRUB boot entries.
  * Do not source Bash scripts from POSIX `sh` `grub.d` scripts.
  * Enable Dracut hostonly sloppy mode.
  * Update core GRUB configuration generator scripts for Debian Trixie.

* genmkfile:
  * Check for empty directories.
  * Fix `genmkfile deb-cleanup` to also delete `orig.tar.xz`.
  * Delete the `genmkfile` temporary directory at the end.
  * Add a feature to auto-generate `debian/*.install` files based on `#` (hash) in filenames.
  * Make `deb-cleanup` work with `dh_clean`.
  * Fix running `genmkfile installcheck` as non-root.

* grub-live:
  * Switch back to the `overlay-root` module and `rootovl` parameter for live boot; `rd.live.overlay.overlayfs` is broken with BTRFS.
  * Set the `nohibernate` kernel parameter (thanks to @desi_fubu for the suggestion). See https://forums.kicksecure.com/t/support-for-hibernation/1349/6
  * Fix a `live-hardener` submount edge case, improve performance of submount detection and add regression tests (mostly done by ChatGPT Codex).
  * Improve regression test coverage of `live-hardener`, fix bugs and avoid misleading error messages in logs.
  * Ensure the `dmsquash-live` module is present in the initramfs and omit the Debian-specific `overlay-root` module.
  * Remove support for `initramfs-tools`.
  * Place `live-hardener`&#39;s overlay repository under `/run` to avoid issues when `/var` is on a separate partition.
  * Fix `live-hardener` behavior when dealing with mount points under non-root mount points.

* helper-scripts:
  * Add `/usr/libexec/helper-scripts/system-ready-check-user`.
  * Try to prevent `/tmp/user/100*` from becoming owned by `root` because of `lockfile.sh`.
  * Add `/usr/libexec/helper-scripts/systemd-notify.bsh`.
  * `curl-prgrs`: also handle the `-o` argument.
  * `/usr/libexec/helper-scripts/curl-prgrs`: fix argument quoting.
  * Port to `package-installed-check`.
  * Split out `/usr/libexec/helper-scripts/package_installed_check` and `/usr/libexec/helper-scripts/package_installed_check.sh`.
  * Add a `--no-update-grub` option to `set-grub-keymap`, and refactor and improve the help output in `set-keyboard-layout.sh`.
  * Adjust how standard input is read in the GRUB keyboard layout setter.
  * Add the `set-grub-keymap` script and refactor `localectl` availability checks in `set-keyboard-layout.sh`.
  * `set-system-console`: improve the code that regenerates the initramfs.
  * Keyboard layout scripts: use standard output for informational messages, regenerate initramfs images during layout changes, make non-standard options work in interactive mode, enable `pipefail`, and change `--persist` to `--no-persist`.
  * Add `luks-path-check`.
  * `dummy-dependency`: use `apt-get-noninteractive` (but keep `--yes` opt-in).
  * `set-console-keymap`: restart `keyboard-setup.service`.
  * Handle more cases where `localectl` is unavailable.
  * `/usr/libexec/helper-scripts/sudo-tools-enable`: add `su-to-root`.
  * Import `br_add_to_file` from `systemcheck`.
  * Fix return codes of `linux_user_account_shell_to_zsh`. This fixes a bug when installing `user-sysmaint-split`.
  * `set-system-keymap`: improve error handling.
  * Reload `labwc` keyboard layout after changing the system keyboard layout.
  * Improve `system-ready-check`.
  * `/usr/libexec/helper-scripts/pkg_manager_running_check` function `check_package_manager_running_helper`: change API to `return 0` on success and non-zero on error.
  * Add tests for the `run_as_target_user` function.
  * Remove unneeded `TMP=/tmp`.
  * `tor-circuit-established-check`: exit with status `0` if a circuit is established, and non-zero otherwise.
  * Create `query-sock-pid` script and library.
  * Improve `read_integer_file`.
  * Import `read_integer_file` from `desktop-config-dist`.
  * Improve lock screen notifications and their integration with `LXQt`.
  * Move the `lock-screen` script to `/usr/bin/`.
  * Use `systemctl --no-pager --no-block` where appropriate to avoid blocking on output.
  * Split Tor service wait logic out of `qubes.UpdatesProxy.anondist` into `try-wait-for-tor-service-running`.
  * Add `leaprun system-ready-check`.
  * Code simplification: use `ischroot` and remove `/usr/libexec/helper-scripts/in-chroot.sh`.
  * Add `set-console-keymap` script.
  * Add `git.sh`.
  * Use standardized detection of `kernel_cmdline`.
  * Import `user-sysmaint-split-check` from `browser-choice`.
  * Add new function `sudo_error_exit_if_unavailable`.
  * Add `in-chroot.sh` library and avoid calling `localectl` in a chroot in `set-keyboard-layout.sh`.
  * Display keyboard layout change success messages in both interactive and non-interactive modes.
  * Add `disallowed-test`.
  * Reload `labwc` if it is running, and show output.
  * Add explicit checks for running as `root` vs non-root.
  * Improve error handling.
  * `set-system-keymap`: filter out spurious error messages:
    ```text
    cat: &#39;/sys/bus/usb/devices/*:*/bInterfaceClass&#39;: No such file or directory
    cat: &#39;/sys/bus/usb/devices/*:*/bInterfaceSubClass&#39;: No such file or directory
    cat: &#39;/sys/bus/usb/devices/*:*/bInterfaceProtocol&#39;: No such file or directory
    ```
  * Show `/etc/default/keyboard` contents before executing `dpkg-reconfigure --frontend=noninteractive keyboard-configuration`.
  * Add a `set-keymap` test plan.
  * Add `/usr/libexec/helper-scripts/boot-session-detection.sh` and refactor related code.
  * Fix bugs in `set-keyboard-layout.sh`.
  * Apply an ephemeral keyboard layout change fix from ChatGPT Codex with minor adjustments and set the executable bit on `set-keyboard-layout.sh`.
  * Refactor `set-labwc-keymap` into a library and two frontends.
  * Add an interactive UI option and start menu entry for `set-labwc-keymap`.
  * Fix several `autologinchange` issues (collapsing lines in `greetd` incorrectly, failing to remove effectively empty `greetd` configuration files, and using `echo` instead of `printf`).
  * Add `lockfile-test`.
  * Add `/usr/libexec/helper-scripts/lockfile.sh`.
  * Add `random_alpha_numeric` helper.
  * Use `passwordless-root --qubes-rw` in `dev-root` when necessary.
  * Use `/etc`-based sudo enablement in `passwordless-root` under Qubes by default and require `--qubes-rw` for the persistent-in-AppVM mechanism.
  * Move `passwordless-root` from `usability-misc` to `helper-scripts`.
  * Fix usage of `start-stop-daemon` in `dist-virtual-keyboard`.
  * Allow deleting configuration entries in `config_builder`.
  * Polish `set-labwc-keymap` argument parsing, write messages to `stderr`, and add `--no-reload`, `--config`, and end-of-options arguments.
  * `set-labwc-keymap`: use `overwrite` and show the contents of the created `~/.config/labwc/environment` file.
  * `dist-virtual-keyboard`: port to `start-stop-daemon`.
  * Create `set-labwc-keymap` script.
  * Move `dist-virtual-keyboard` from `usability-misc` to `helper-scripts`.
  * Add `env-sorted` (`env -0 | sort -z | tr &#39;\0&#39; &#39;\n&#39;`). Thanks to Iguananaut. See https://stackoverflow.com/questions/60756020/print-environment-variables-sorted-by-name-including-variables-with-newlines
  * Only include the `abstractions/tor` AppArmor file if it exists.
  * Fix backing device detection for the live ISO root filesystem.
  * Add Wayland screen locker support to the `lock-screen` script.
  * `origins-parser`: fix cover status when `/etc/dpkg/origins/kicksecure` and `/etc/dpkg/origins/whonix` are no longer symlinks to `/etc/dpkg/origins/default`.
  * `origins-parser`: make initialization more robust.
  * Remove no longer required `apt-get-update-plus`. `upgrade-nonroot` now uses `/usr/bin/apt-get --update full-upgrade` instead.
  * Stop modifying `.bashrc` to keep behavior consistent with `zsh`.
  * `dummy-dependency`: use a single `apt-get` command to remove the original package and install the dummy package.
  * Avoid using `shell=True`.
  * `get-backing-devices-for-mountpoint`: improve parsing of `/dev/dm*` devices.
  * `get-backing-devices-for-mountpoint`: make symlink resolution more robust.
  * `get-backing-devices-for-mountpoint`: make parsing of loop devices more robust.
  * Fix live mode tests.
  * Allow overriding `kernel_cmdline` for test mode.
  * Remove tabs from scripts where not needed.
  * Exit with a non-zero status on error.
  * `dummy-dependency`: add `--cache-only` option.
  * `dummy-dependency`: implement actual package removal or purge.
  * Switch `dummy-dependency` from using `Breaks/Replaces/Provides` to using `Conflicts/Provides`.
  * Add `str-replace-many`.
  * Move `dpkg-noninteractive` from `usability-misc` to `helper-scripts`.
  * Prevent `light_sleep` from crashing scripts that use `set -e`.
  * Remove `initramfs-tools`-specific debug helper script.
  * Add memory-efficient sleep alternative `light_sleep`.
  * `LXQt` porting: add a configuration build utility, revise live mode detection for Trixie, and make `package_installed_check.bsh` callable as a script.
  * Move `upgrade-nonroot` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-reset` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-noninteractive` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-update-plus` from `usability-misc` to `helper-scripts`.
  * Move `security-misc/apt-get-update*` to `helper-scripts`.
  * Add `GATEWAY_IP6` variable.

* icon-pack-dist:
  * Add a rounded version of the Kicksecure logo for the start button.

* initializer-dist:
  * Remove invalid or broken sources list files during build.

* kicksecure-base-files:
  * Tell the user how to leave a GRUB submenu.
  * Remove the network icon from the desktop.
  * Use `lock-screen` from `helper-scripts` for screen locking, add a lock screen background and remove the now redundant Waybar battery widget.
  * Move Waybar configuration for `sysmaint` sessions to `*-base-files` packages.
  * Add `swaylock` configuration for Kicksecure.
  * Disable the `pcmanfm-qt` thumbnailer and ensure `pcmanfm-qt` system-wide settings are honored in both user and `sysmaint` sessions.
  * Stop modifying `.bashrc` to keep behavior consistent with `zsh`.
  * Add `/usr/share/kicksecure` to `XDG_CONFIG_DIRS`, add a desktop background for Kicksecure LXQt, and add `lxqt-panel` and `pcmanfm-qt` configuration.
  * Bump the Kicksecure version.
  * Advertise a Kicksecure feature flag to enable `sdwdate-gui` communication.

* kicksecure-meta-packages:
  * Install `vm-config-dist` everywhere also on host operating systems (ISO) for better support if run inside VMs.
  * Install `usbguard` by default.
  * Install `nmap` by default (includes `nping`, a TCP-based ping utility useful for debugging network issues). See https://forums.whonix.org/t/ping-operation-permitted/11056
  * Install `qubes-core-agent-dom0-updates` by default in Kicksecure for Qubes.
  * Remove `upower` from Qubes machines.
  * Remove `smart-notifier` from Qubes machines.
  * Switch `kicksecure-qubes-cli` from `firmware-nonfreedom` to `firmware-nonfreedom-network`.
  * Install `extrepo-offline-data` by default.
  * Install `firmware-nonfreedom` by default on Qubes, useful for `sys-net`.
  * Add `liblxqt-backlight-helper` to `dist-baremetal-gui-lxqt`.
  * Add `qubes-notification-agent` to GUI Qubes systems.
  * Add `kanshi` to `dist-nonqubes-gui-lxqt`.
  * Do not install `wvkbd` in Qubes.
  * Add `wvkbd` virtual keyboard to `dist-general-gui-lxqt`.
  * Use the `PCManFM-Qt` Qubes file manager helper.
  * Install `ram-wipe` by default on Kicksecure bare metal.
  * Switch image viewer from `lximage-qt` to `loupe`.
  * Add `wpasupplicant` to Kicksecure on Qubes and bare metal.
  * Adjust dependencies for the `security-misc` split.
  * Merge `qubes-whonix` metapackages into the main metapackages.
  * Fix metapackage bugs.
  * Add `usbguard-notifier` to the `dist-general-gui-all` metapackage.
  * Add `qubes-core-agent-network-manager` to `dist-qubes-cli`. This package is required for `NetVM`; otherwise `/usr/lib/qubes/network-manager-prepare-conf-dir` is missing and the journal will show:
    &gt; NetworkManager.service: Unable to locate executable &#39;/usr/lib/qubes/network-manager-prepare-conf-dir&#39;: No such file or directory
  * Fix spacing and add `Breaks/Replaces` against Xfce metapackages.
  * Add missing firmware packages and a missing `Flameshot` dependency.
  * Avoid an either/or dependency bug and rework the `dummy-dependency` system.
  * Use `Conflicts` rather than `Breaks` to fix the Lintian warning:
    &gt; dummy-dependency-lxqt-policykit: breaks-without-version lxqt-policykit
  * Replace `screengrab` with `flameshot`.
  * Adjust for Qubes OS compatibility.
  * Do not install `labwc` on Qubes OS.
  * Fix some incorrect package dependencies.
  * Restructure metapackages.
  * Add a hard dependency on `systemd-cryptsetup`.
  * Adjust `grub-live` installation code for removal of `initramfs-tools` support.
  * Remove `initramfs-tools` support.
  * Switch the desktop to `LXQt`.
  * Add a dependency on `USBGuard` to enable `security-misc`&#39;s USBGuard configuration.

* legacy-dist:
  * Port to the new `package-installed-check` library.
  * Move `sdwdate-gui` configuration migration code to the `sdwdate-gui` `postinst` script.
  * Rewrite `sdwdate-gui` configuration `gateway=sys-whonix` to `gateway=&quot;sys-whonix&quot;`.
  * Remove `/etc/dracut.conf.d/30-repart.conf` during upgrades because it causes spurious errors on Trixie when run within Dracut on Trixie.
  * Remove `xscreensaver` during release upgrades to Trixie.
  * Replace `lightdm` (or the active display manager) with `greetd` on upgrade.
  * Release upgrade: Qubes R4.2 workaround: `dummy-dependency qubes-core-agent-pcmanfm-qt`.
  * Add a CLI deprecation popup message to the Debian maintainer `postinst` script.
  * Add CLI support.
  * Implement `--force` for release-upgrade.
  * Prohibit release upgrades by default on Qubes R4.2 and require Qubes R4.3.
  * Mark CLI as not yet deprecated where appropriate.
  * Document that Kicksecure 17 and Whonix 17 will remain supported until one month after Qubes R4.3 stable has been released. See https://github.com/QubesOS/qubes-issues/issues/10219
  * Rework the `dummy-dependency` metapackage system.
  * Fix checking whether the `tor@default` systemd unit is running only when a Qubes Template has been detected.
  * Add metapackage transition handling.
  * Show the deprecation popup also in Qubes.
  * Skip SSH confirmation if `DEBIAN_FRONTEND=noninteractive`.
  * Bump Kicksecure/Whonix major version number to 18.
  * Remove `tb-default-browser` during updates. (Merged into package `open-link-confirmation`.)
  * Allow release info origin and label changes during Bookworm -&gt; Trixie upgrades.
  * Add an SSH warning in `release-upgrade` due to new SSH client and server configuration files.
  * Disable a probably unnecessary repository change in `release-upgrade`.

* libvirt-dist:
  * Disable clipboard sharing.
  * Add IPv6 support to the Whonix external network.
  * Change `Xfce` to `LXQt` where appropriate.

* live-config-dist:
  * Double the length of most timeouts to accommodate slow installation target media.
  * Use standardized detection of `kernel_cmdline`.
  * Port to using `set-system-keymap` from `helper-scripts`.
  * Set keyboard layout for the greeter as well.
  * Enhance keyboard layout helper code to work with `labwc` and handle XKB variants and options.
  * Fix Calamares launch under Wayland.
  * Remove obsolete code from `install-host`.

* lxqt-wayland-session:
  * Do not disable hardware cursors in virtual machines.
  * Enable merged configuration in `labwc`.
  * Enable `dh_clean` to clean up build artifacts.
  * Silence `lxqt-river-init` Lintian warning and fix the copyright file.
  * Update to `lxqt-wayland-session` 0.2.0 and apply Kicksecure-specific patches.
  * Initial commit of this package.

* mediawiki-shell:
  * Refactor the code and improve correctness (thanks to Ben Grande).

* msgcollector:
  * `msgprogressbar`: use a timeout.
  * `/usr/libexec/msgcollector/msgprogressbar`: handle the `SIGINT` signal.
  * Use `light_sleep`.
  * Set `KillSignal=SIGKILL` so stuck processes are forcefully terminated if needed.
  * `/usr/libexec/msgcollector/msgprogressbar`: fix terminating the parent program when the progress bar is closed.
  * Avoid an either/or dependency bug.
  * Switch to the `LXQt` notifier.
  * Replace a recurring 10 second sleep with `light_sleep`.
  * Remove Wayland-incompatible features from `msgcollector`.

* open-link-confirmation:
  * Use standardized detection of `kernel_cmdline`.
  * Add `tb-default-browser` transitional package.
  * Fix XDG handling and remove now obsolete `tb-default-browser`.
  * Configure Firefox so it does not ask to be the default browser.
  * Add HTML and XML MIME types to `x-www-browser` and select `torbrowser` as the default browser on Whonix-Workstation.

* privleap:
  * Add a check for insecure configuration file permissions.
  * Explicitly drop all supplementary groups.
  * Rework the `leaprun` signal handler to reduce the risk of terminate messages not being sent.
  * Remove sockets for disallowed users on configuration reload.
  * Avoid allowing anyone to run an action that has user or group restrictions for only nonexistent users or groups.
  * Make `privleapd` pick up changes to group ownership immediately and disconnect disallowed users who still manage to connect. Include minor test refactoring (inspired by ChatGPT Codex).
  * Harden `umask` as defense in depth against socket ownership vulnerabilities.
  * Fix an incorrect function call for normalizing a group ID.
  * Add username/UID to authorized/unauthorized messages in `leaprun`, and refactor tests to be easier to work with.
  * Fix `leaprun` documentation.
  * Make adjustments to pass `black`, `mypy`, `pylint` and regression tests under Trixie.

* rads:
  * Increase RAM requirements for GUI and pause for five seconds after displaying a low RAM warning.
  * Remove an unnecessary dependency on `systemd`.
  * Adjust for Wayland.

* ram-wipe:
  * Comment changes for the `security-misc` split.
  * Clarify lack of `initramfs-tools` support.
  * Remove `sdmem` and the second-stage `kexec` RAM wipe. Kernel memory zeroing with `init_on_free=1` makes the second pass redundant. See https://www.kicksecure.com/wiki/Dev/RAM_Wipe#ram-wipe_improvements (thanks to Kamil Aronowski `&lt;kamil.aronowski@3mdeb.com&gt;`).

* repository-dist:
  * Use layouts in `repository-dist-wizard` rather than manual positioning to prevent UI issues and allow resizing.
  * Extend the signing key validity.
  * Stop unnecessarily using `dh_python`.
  * Check if `/etc/apt/sources.list.d/derivative.list` exists before deleting it to avoid repeated verbose deletion messages.
  * Switch to using `deb822` sources.

* sdwdate:
  * Trim about a quarter second off of `sdwdate`&#39;s apparent startup time by notifying `systemd` of startup earlier.
  * Move `sclockadj` build into `postinst` and remove an obsolete `adduser` call.
  * Remove a down `onion.debian.org` time source:
    `http://iebkxzjscv4jgaucepdbdf4b7bqmcwd5peulm5cbpoavlsnkfhda5gyd.onion` (see archived link https://web.archive.org/web/20210430195930/https://onion.debian.org/).
  * Remove `Mullvad` time sources referenced here: https://forums.whonix.org/t/suggest-trustworthy-tor-hidden-services-as-time-sources-for-sdwdate/856/254
  * Add a Startpage onion URL (thanks to Nurmagoz).
  * Collect all SecureDrop URLs in one place (thanks to Nurmagoz).
  * Fix `Depends: util-linux-extra` (provides `hwclock`).
  * Remove down or duplicated time sources.
  * Port to `privleap` and remove the dependency on `sudo`.
  * Harden the C code to make it more robust and secure.
  * Stop using `dh_python` to avoid replacing shebangs:
    `dh_python3` was replacing shebangs in:
    * `debian/sdwdate/usr/share/sdwdate/get-time-from-servers-test`
    * `debian/sdwdate/usr/share/sdwdate/onion-list-all`
    * `debian/sdwdate/usr/share/sdwdate/onion-tester`
    * `debian/sdwdate/usr/bin/url_to_unixtime`
  * Add Mullvad search engine `leta` onion mirror (thanks to Nurmagoz).
  * Stop using the `sleep` binary; this is no longer necessary.

* sdwdate-gui:
  * Tell `systemd` when `sdwdate-gui-qubes@.service` is initialized and running.
  * Send repeated Tor status messages if the server restarts.
  * Do not make the `sdwdate-gui-qubes` service fail if the `sdwdate-gui-server` VM is not running.
  * Prevent `sdwdate-gui-qubes-proxy-helper` from possibly delaying boot.
  * Fix menu flashing and CPU usage issues, and prevent massive notification floods when `qrexec` fails; harden code paths.
  * Move `sdwdate-gui` configuration migration code to the `sdwdate-gui` `postinst`.
  * Improve handling of invalid data (based on ChatGPT Codex suggestions).
  * Add better exception handling for configuration file parse failures and refactor the main loop in `sdwdate_gui_client` to satisfy `pylint`.
  * Add `Depends: python3-pyinotify`.
  * Fix icon change failures when a Whonix-Workstation is shut down and remove confusing information from a docstring.
  * Autodetect the server socket location rather than hardcoding it in `sdwdate-gui-qubes-proxy-helper`.
  * Remove no longer necessary dependencies on `sudo`.
  * Port `sdwdate_gui_client.py` to `asyncio`/`pyinotify` instead of Qt.
  * Rename `sdwdate.Connect(Check)` to `sdwdate-gui.Connect(Check)`.
  * Change the `sdwdate-gui` tooltip to indicate that right-click opens the menu.
  * Avoid hanging with an error icon if Tor or `sdwdate` is not started when `sdwdate-gui-client` starts.
  * Make `sdwdate-gui` configuration parsing more robust, also parse `/usr/local/etc/sdwdate-gui.d`.
  * Enable Qubes-related services only on Qubes OS.
  * Disable left-click on the `sdwdate-gui` icon.
  * Add `rm_conffile` commands for migration to the new `sdwdate-gui` architecture.
  * Add more `sdwdate-gui` rewrite bug fixes.
  * Fix memory management issues in client and server.
  * Rewrite `sdwdate-gui` to use a client-server model.

* security-misc:
  * Add a `pkexec` remembered-permissions fix for `permission-hardener` and fix some `postinst` bugs.
  * Remove obsolete migration code for `permission-hardener` and add initial state installation code.
  * Do not break passwordless sudo in unrestricted admin mode.
  * Port to `package-installed-check`.
  * Fix passwordless login for sensitive accounts and only deny passwordless privilege escalation.
  * Add `kill-vboxdrmclient-on-shutdown.service`.
  * Prevent non-`sysmaint` logins in `sysmaint` mode and unsafe passwordless logins in user mode.
  * Revert &quot;Force immediate kernel panic on OOM&quot;. See https://github.com/Kicksecure/security-misc/issues/324#issuecomment-3507949741
  * Suppress `usbguard` startup unless a USB controller is visible to `lspci`.
  * Move `usbguard` reject rules to the top.
  * Update `README.md` with information about Flatpak authentication hardening.
  * Remove Unicode characters where they were problematic.
  * Lock down Flatpak software management. Now requires sysmaint session if using user-sysmaint-split.
  * Use standardized detection of `kernel_cmdline`.
  * Do not start `usbguard-notifier` if `/sys/bus/usb` does not exist.
  * Fix `USBGuard-notifier` `accept` / `reject` buttons. See https://forums.kicksecure.com/t/usbguard-what-should-we-allow-or-disallow-by-default/1248/49
  * Set USBGuard to permit USB hubs and Qubes USB passthrough.
  * Allow listing USB devices via `usbguard`.
  * Separate `ptrace()` disabling into its own file.
  * [reverted] Force immediate kernel panic on OOM. This is intended to avoid security features such as the screen locker, `kloak` and `emerg-shutdown` being terminated when the system runs out of memory. See https://forums.whonix.org/t/screen-locker-in-security-can-we-disable-these-at-least-4-backdoors/8128/14 and https://github.com/Kicksecure/security-misc/issues/324 (`vm.panic_on_oom=2`). [reverted] (Needs future work.)
  * Update documentation on `slab_debug` for future improvements.
  * Add documentation about risks associated with IPv6 Router Advertisements.
  * Fix `emerg-shutdown` `gcc` build.
  * Allow users in the `qubes` group to access USBGuard IPC.
  * Disable usage of `ptrace()` by all processes.
  * Add additional hardening to `emerg-shutdown`.
  * Add a notice on public releases in the README.
  * Update strings for the `security-misc` split.
  * `security-misc` -&gt; `security-misc-shared` package migration. See https://github.com/Kicksecure/security-misc/issues/187
  * Add `Replaces: security-misc`
  * Add `security-misc-server` placeholder
  * Implement packaging split for `security-misc`
  * Add `genmkfile debdistfile`.
  * Split `security-misc` into `security-misc-shared`, `security-misc-desktop` and `security-misc-server`, rename files. See https://github.com/Kicksecure/security-misc/issues/187
  * Enable `vmscape=force`.
  * Allow users in the `sudo` group to use `usbguard-notifier`.
  * Update SRSO documentation.
  * Allow USB devices that are already connected at USBGuard start time.
  * Enable USB video and audio devices, and reject USB RNDIS devices.
  * Disable RNDIS due to unfixable security issues.
  * Remove `initramfs-tools` support.
  * Disable `memlockd` service by default and fix its systemd path.
  * Disable `emerg-shutdown` and `ensure-shutdown` on Qubes OS.
  * Fix XDG handling, replace Xfce references with LXQt where appropriate, and make USBGuard configuration work correctly.
  * Update documentation on instant reboot on kernel panic.
  * Update documentation on the `oops` boot parameter.
  * Add a reference on `conntrack` helpers.
  * Enable `ia32_emulation=0`.
  * Temporarily revert IA32 documentation updates (earlier IA32 doc changes were later reverted).
  * Update the kernel panic service description.
  * Set `sysctl kernel.panic=-1`.
  * Clarify documentation on panics on `oops` and warnings (later reverted by IA32 doc revert).
  * Clarify documentation on disabling 32-bit x86 support (later reverted by IA32 doc revert).
  * Polish USBGuard configuration.
  * Remove obsolete Thunderbird configuration hardening.
  * Set hard and soft limits on core file size at the same time.
  * Move `security-misc/apt-get-update*` to `helper-scripts`.
  * Add SSH hardening configuration.
  * Update documentation on recovery restrictions.
  * Update various documents.
  * Upgrade `sysctl` settings and related documentation on kernel panics.
  * Enable `cfi=kcfi`.
  * Set soft limit for core dumps to 0 (thanks to `nexus$`).

* setup-dist:
  * Adjust for new `rads` filenames.

* setup-wizard-dist:
  * Port to `package-installed-check`.
  * Autostart `setup-wizard-dist` when `/etc/systemcheck.d/autostart` or `/usr/local/etc/systemcheck.d/autostart` exists (developer feature).
  * Skip the finish page inside Qubes.
  * Show which `done` file has been found in terminal output for easier debugging.
  * Fix keyboard layout change instructions for Whonix-Gateway.
  * Adjust keyboard layout change instructions for `labwc`.

* swap-file-creator:
  * Allow running `swap-file-creator` inside Xen / Qubes when `DO_PRE_CHECK=no` is set.
  * Use a configuration file to allow users to disable the LUKS check and fix related issues.
  * Move to `helper-scripts`.
  * Speed up skipping behavior under Qubes.
  * Allow forcing creation of a swapfile on unencrypted systems, do not remove the swapfile if unnecessary, and adjust wording.
  * Stop creating encrypted swapfiles; only create swapfiles on LUKS volumes, delete swapfiles on shutdown, and improve `do_stop` reliability.
  * Remove `initramfs-tools` support.

* sysmaint-panel:
  * Adjust to the new `lock-screen` script location.
  * Hide `set system keymap` and `toggle on-screen keyboard` buttons on Qubes OS.
  * Add a button for `set-system-keymap`.
  * Add a display configuration button.
  * Add on-screen keyboard and `LXQt` configuration buttons, and reformat code with `black`.
  * Remove dependency on `usability-misc` (required functionality moved to `helper-scripts`).
  * Move `security-misc/apt-get-update*` to `helper-scripts`.

* systemcheck:
  * Detect the potential VirtualBox green turtle issue.
  * Check for `self-detected stall on CPU`.
  * Improve the system ready check.
  * Point out both failed and activating systemd units.
  * Tone down `tirdad` checks in Qubes when using `--verbose`.
  * Port to shell-based `br_add` (`helper-scripts`, `strings.bsh`) to fix:
    `/usr/libexec/systemcheck/check_services.bsh: line 51: /usr/libexec/msgcollector/br_add: Argument list too long`
  * Silence more journal warnings.
  * Prevent a silenced harmless `labwc` error message from causing `systemcheck` to fail.
  * Silence another journal warning.
  * Wait for both of these commands:
    * `systemctl --wait is-system`
    * `systemctl --user --wait is-system`
  * Fix AppArmor tests when using a non-English system locale.
  * Port to `light_sleep`.
  * Simplify the login security table now that the `sysmaint` account is no longer locked by default.
  * Improve the system ready check further.
  * Report if no systemd units failed in verbose mode.
  * Always check for failed systemd units, not only with `--verbose`.
  * Check if `man` is functional.
  * Remove undocumented `--test-connect` feature to simplify the code.
  * Polish control port and systemd status messages (thanks to `assisted-by-ai` bot).
  * Fix some mistakes in journal ignore lines and add more patterns.
  * Add new command line tool `updatecheck` and rename `usr/libexec/systemcheck/updatecheck` to `usr/bin/updatecheck`.
  * `updatecheck`: add `leaprun system-ready-check`.
  * `updatecheck`: improve error handling.
  * Remove an unnecessary dependency on `systemd`.
  * Fix broken pipe handling.
  * Disable `lockfile` due to bugs.
  * Wait for `multi-user.target` or `sysmaint.target`.
  * Prevent duplicate runs of `systemcheck` using a lockfile.
  * Use standardized detection of `kernel_cmdline`.
  * In `ex_funct`, fall back to the failed command&#39;s exit code if `EXIT_CODE` is empty or 0.
  * Use `curl --proxy-user` for better stream isolation.
  * Suggest migrating from `/etc/apt/sources.list/derivative.list` to `/etc/apt/sources.list/derivative.sources` using the `repository-dist` utility.
  * Remove the `user-sysmaint-split` exception for Whonix-Gateway.
  * Isolate log checking code so less privileged users cannot leak journal and `dmesg` logs.
  * Only include the `abstractions/tor` AppArmor file if it exists.
  * Make disk encryption checks substantially more robust.
  * Silence more journal warnings.
  * Remove the virtualizer success check, because `systemd-detect-virt` exits non-zero on bare metal.
  * Document a USB module load order issue under VirtualBox and silence the corresponding warning.
  * Silence more bogus journal warnings.
  * Fix Qubes network settings checks inside Qubes `sys-net`.
  * Move the deprecation notice to `legacy-dist`.
  * Hide confusing output from:
    ```text
    systemctl --global disable updatecheck.service
    The unit files have no installation config (WantedBy=, RequiredBy=, UpheldBy=, Also=, or Alias= settings in the [Install] section, and DefaultInstance= for template units). This means they are not meant to be enabled or disabled using systemctl. Possible reasons for having these kinds of units are:
    * A unit may be statically enabled by being symlinked from another unit&#39;s .wants/, .requires/, or .upholds/ directory.
    * A unit&#39;s purpose may be to act as a helper for some other unit which has a requirement dependency on it.
    * A unit may be started when needed via activation (socket, path, timer, D-Bus, udev, scripted systemctl call, ...).
    * In case of template units, the unit is meant to be enabled with some instance name specified.
    ```
  * Comment and dependency changes for the `security-misc` split.
  * Switch to using `light_sleep` in `canary-daemon`.
  * Switch to using `deb822` sources.
  * Move `security-misc/apt-get-update*` to `helper-scripts`.

* tb-starter:
  * Do not make Tor Browser the default image viewer.
  * Adjust for Wayland compatibility and remove the obsolete `tb-default-browser` dependency.

* tb-updater:
  * Remove an unnecessary dependency on `sudo`.
  * Use `curl --proxy-user` for stream isolation.
  * Un-reverse `chroot-pre` and `chroot-post`.
  * Re-enable `chroot` handling and make it safer.
  * Adjust for LXQt/Wayland and remove obsolete dependency on `tb-default-browser`.
  * Fix default behavior in Qubes Templates: skip the network interface availability test by default, because Qubes Templates are non-networked by default. (Thanks to `baxter`.) See https://forums.whonix.org/t/tor-browser-downloader-fails-in-whonix-workstation-17-template/22060

* tor-control-panel:
  * Fix the journal log viewer.
  * Avoid an either/or dependency bug.

* usability-misc:
  * Skip `set-grub-keymap` in Qubes.
  * Silence spurious messages from Lintian.
  * Do not try to run `set-grub-keymap` in a chroot at all.
  * Do not update GRUB when building GRUB keyboard layouts if running in a chroot.
  * Fix GRUB keyboard options menu and generate GRUB keyboard layouts on upgrade or installation when possible.
  * Move the keyboard menu to the bottom of the boot menu.
  * Add a keyboard layout menu to GRUB.
  * Detect `user-sysmaint-split`.
  * `dist-installer-cli`: fix by running `chmod o+r` on created sources list files.
  * Remove a problematic `tty` check from `50_default_editor.sh`.
  * Simplify code by merging `/usr/libexec/default-editor/default_editor.sh` into `/etc/profile.d/50_default_editor.sh`.
  * `/usr/libexec/default-editor/default_editor.sh`: set default editor to `featherpad` (part of the port to LXQt).
  * Polish additional `dist-installer` messaging grammar (thanks to `assisted-by-ai` bot).
  * Add tests for `run_as_target_user`.
  * Enable `systemd-journald` audit transport, required by `apparmor-info` and `apparmor-watch`. Run `deb-systemd-helper enable systemd-journald-audit.socket`. Debian no longer enables `systemd-journald-audit.socket` by default (see [Debian bug #1038993](https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1038993)).
  * Keep `polkit-mate-authentication-agent-1` from launching when it is unnecessary.
  * Suppress startup of USBGuard-related units if no USB controller is found on the system.
  * Add a missing `preinst` script header.
  * `dist-installer-cli` (Trixie-based): install VirtualBox from the Oracle repository because VirtualBox is not yet in Debian `fasttrack` and Debian `unstable` is no longer compatible with Trixie.
  * Move `passwordless-root` from `usability-misc` to `helper-scripts`.
  * Move `dist-virtual-keyboard` from `usability-misc` to `helper-scripts`.
  * `dist-virtual-keyboard`: port to `start-stop-daemon`.
  * Add a wrapper script and desktop files for the virtual keyboard.
  * Switch default file manager to `PCManFM-Qt`.
  * `dist-installer-cli`: use a more minimal APT pinning configuration.
  * `dist-installer-cli`: adjust APT pinning to handle cases where `sid` is used instead of the generic `unstable` suite.
  * `dist-installer-cli`: implement `--noupgrade` development option to ignore pending upgrades.
  * `dist-installer-cli`: Fedora VirtualBox version bump.
  * `dist-installer-cli`: fix APT pinning to prefer `stable` (`trixie` at the time of writing) over `unstable`.
  * `dist-installer-cli`: fix so it does not enable the `unstable` repository as a fallback.
  * `dist-installer-cli`: support new key location `/usr/share/keyrings/debian-archive-keyring.pgp`.
  * `dist-installer-cli`: test whether the `signed-by` key exists.
  * `dist-installer-cli`: add Kali `signed-by` handling.
  * Move `config-package-dev` displace handling from `desktop-config-dist` to `usability-misc`.
  * Fix packaging: migrate `zsh` configuration files for `config-package-dev`.
  * Restore the `Flameshot` executable displace that was dropped by accident.
  * Add `Breaks`/`Replaces` against `desktop-config-dist (&lt;&lt; 3:13.8-1)`.
  * Delete superfluous man pages.
  * Import `zsh` configuration from `desktop-config-dist`.
  * `dist-installer-cli`: string changes for `security-misc` split.
  * `curl-download` / `scurl-download`: port to `wcurl`.
  * Add `Flameshot` compatibility wrapper.
  * Fix VirtualBox with Linux 6.12 and higher.
  * Keep VirtualBox and KVM from conflicting.
  * Move `dpkg-noninteractive` from `usability-misc` to `helper-scripts`.
  * Adjust for Wayland/LXQt.
  * `dist-installer-cli`: add `deb822` support, make variable handling safer, and rename some variables.
  * `dist-installer-cli`: reduce `testing` and `unstable` pin priority to avoid unintentionally upgrading a system to Testing or Sid.
  * Move `upgrade-nonroot` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-reset` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-noninteractive` from `usability-misc` to `helper-scripts`.
  * Move `apt-get-update-plus` from `usability-misc` to `helper-scripts`.
  * Remove `apt-cacher-ng-prepare/undo`; image builds now use `approx` instead.

* user-sysmaint-split:
  * Remove `qubes-whonix-sysinit.service`.
  * Ensure `sysmaint` account password is unlocked upon creation since a PAM-based locking mechanism is used.
  * Add `After=systemd-tmpfiles-setup.service` to wait for `systemd-tmpfiles-setup.service` to create `/run/qubes-rpc`.
  * Add `sysmaint-boot` dependency on `kill-vboxdrmclient-on-shutdown.service`.
  * Stop locking the `sysmaint` account and remove `xscreensaver` code.
  * Improve exposure of informational and error messages in `sysmaint-boot.service`.
  * Hide the `gsmartcontrol` start menu entry because it is incompatible with `user-sysmaint-split`.
  * Restrict `su-to-root` (similar to `sudo`) so it is non-executable for non-root users, making failures clearer.
  * Clean up a previous `sysmaint` graphical session when starting a new one if needed.
  * Fix `lxqt-powermanagement` startup; it was starting too early.
  * Start `lxqt-powermanagement` in `sysmaint` sessions for sleep and screen locking.
  * Add more important systemd units to `sysmaint-boot.target`.
  * Start `qubes-bind-dirs.service` in `sysmaint` sessions.
  * Start `qubes-updates-proxy.service` in `sysmaint` sessions to fix template updates when Whonix-Gateway (`sys-whonix`) is booted in `sysmaint` mode.
  * Use standardized detection of `kernel_cmdline`.
  * Change default to `sysmaint_session_wayland=&#39;yes&#39;`.
  * Enable backlight restore in `sysmaint` sessions.
  * Run `wlr-resize-watcher` in `sysmaint` sessions.
  * Enable passwordless root in Qubes unrestricted admin mode when the user password is locked.
  * Avoid crashing `greetd` when `sysmaint` autologin is disabled.
  * Stop logging into a full desktop session when `sysmaint` autologin is disabled.
  * Enable merged configuration in `labwc`.
  * Export `LABWC_PID` to allow easier compositor reconfiguration.
  * Set `XDG_SESSION_TYPE` correctly in `sysmaint` sessions.
  * Stop disabling UUIDs in `grub.cfg`.
  * Fix `sysmaint` Wayland session startup on physical hardware.
  * Adjust comments and dependencies for the `security-misc` split.
  * Signal to the system when the Wayland session has started.
  * Fix memory ballooning under Qubes OS.
  * Avoid spurious error messages if `/etc/X11/default-display-manager` does not exist.
  * Fix `sysmaint` session Qt theming.
  * Unmute audio in the `sysmaint` session since there is no easy way for users to unmute it otherwise.
  * Autostart `LXQt` notification service.
  * Switch back from `lxqt-policykit` to `mate-polkit`.
  * Remove `initramfs-tools` support.
  * Improve Wayland support.
  * Do not source Bash scripts from POSIX `sh` `grub.d` scripts.
  * Do not unset `GRUB_DEVICE_UUID` unless using `initramfs-tools`.

* vm-config-dist:
  * Set `labwc` resolution to `1024x768` by default under Xen. This is to work arround various Qubes HVM upstream issues: https://forums.kicksecure.com/t/kicksecure-for-qubes-hvm-issues/1372
  * Port to `package-installed-check`.
  * Bring back `vbox-guest-installer`.
  * Delay `suppress-power-management-in-vms.service` until `tmp.mount` is finished.
  * Ensure `vm-config-dist` `XDG_CONFIG_DIRS` settings take precedence over `desktop-config-dist`.
  * Make `vm-config-dist` safe for installation on all platforms and remove unneeded code.
  * Disable `wlr_resize_watcher` on physical hardware, remove `/mnt/shared` bookmarks on platforms other than VirtualBox and KVM, and make `postinst` safe.
  * Use better settings for disabling `LXQt` power management.
  * Suppress VM power management under `LXQt`.
  * Switch from `glxinfo` to `eglinfo` in `/etc/profile.d/20_software_rendering_in_vms.sh`.
  * Simplify code by removing unmaintained KDE-related functionality.
  * Stop shipping `config-package-dev displace` for `/etc/gdm3/daemon.conf.dist` and `undisplace` for the same file, because `gdm3` is no longer supported out of the box. Autologin in VMs is now handled by `autologinchange`.
  * `wlr_resize_watcher`: set all displays to `1920x1080` when dynamic resizing is not possible.
  * Do not start `wlr-resize-watcher` needlessly in Qubes.
  * Add `Depends: python3-pyudev` for `wlr-resize-watcher`.
  * Suppress unwanted PIDs being written to stdout in `wlr-resize-watcher`.
  * In `wlr-resize-watcher`, do not error out if an expected but nonessential component is missing.
  * Add hypervisor-specific graphics helper checks to `wlr_resize_watcher`.
  * Make `wlr_resize_watcher.py` valid as a standalone Python executable.
  * Clean up and reformat `wlr_resize_watcher` with `black`.
  * Fix `wlr_resize_watcher` `mypy` and `pylint` issues.
  * Add a tool for dynamic resolution resizing on `wlroots`-based compositors.
  * Fix `spice-vdagent` wrapper.
  * Fix `AC97` audio speed.
  * Make `spice-vdagent` able to launch under Wayland via `Xwayland`.
  * Switch from `p7zip-full` to `7zip`.
  * Fix XDG handling.

* qubes-template-kicksecure:
  * Fix failure to install `firmware-nonfreedom` during template build.
  * Fix metapackage name and point to the `trixie-developers` repository.
  * Use `pcmanfm-qt` instead of `Thunar`.
  * Remove `apt-key` call, which no longer exists in Debian 13.
  * Switch to `LXQt`.
  * Switch to using `deb822` sources.

* derivative-maker:
  * Fix theming for the ISO keyboard layout menu.
  * Avoid shredding the hostname when the build host&#39;s hostname matches.
  * Port to `package-installed-check`.
  * Generate GRUB keyboard layout files during image builds.
  * Fix more reliable `chmod +r` for `debian.sources`.
  * Make `grml-debootstrap` able to set locale to `en_US.UTF-8` during image builds.
  * Do not yet install VirtualBox by default inside the `cowbuilder` chroot. Enable after running `build-steps.d/*_create-vbox-vm` inside the chroot. (Needs further work.)
  * Enable passwordless sudo for the current user (`$USER`) after the build process starts to avoid `sudo: a password is required` errors.
  * For ISO builds, ensure `/etc/apt/sources.list.d/debian.sources` is readable by &quot;others&quot;.
  * Update VirtualBox download links for the Whonix Windows Installer.
  * Stop downloading VirtualBox from Debian `unstable` / `sid` because it is no longer compatible with `trixie`.
  * Install `user-sysmaint-split` by default also on Whonix-Gateway VMs.
  * Clear repository metadata from `approx`&#39;s cache before a build.
  * Add VirtualBox guest additions from Debian `unstable` to the ISO.
  * Use consistent options for `dist-installer-cli` (VirtualBox installer by Kicksecure developers) on the build host and inside `pbuilder-chroot-script-virtualbox`.
  * Simplify code.
  * Isolate the APT state directory when using temporary APT repositories.
  * Fix stray mount device tests when using `--target root`.
  * VirtualBox version bump.
  * Run `virtualbox-installer` with `--noupdate` because the system has already been updated; this avoids race conditions when new updates appear during the build.
  * Disable VBox clipboard sharing and drag and drop.
  * Fix `tirdad` package cleanup and switch back to AC97 audio for VirtualBox.
  * Add `lxqt-wayland-session`.
  * Bump RAM for CLI VMs to `768M` to prevent freezing.
  * Fix Kicksecure CLI VM builds (now referred to as `server`).
  * Code cleanup: Remove no longer Ubuntu sources which were no longer used for many years.
  * Fix origin and label for Trixie.
  * Revert incorrect `bullseye` / `bookworm` labels.
  * Add temporary workarounds for the port to Trixie.
  * `check-operating-system-version`: allow Bookworm to build Trixie based images.
  * Remove support for `initramfs-tools`.
  * Port to Debian Trixie.

----

# Full difference of all changes

[https://github.com/Kicksecure/derivative-maker/compare/17.4.4.6-developers-only...18.0.8.7-developers-only](https://github.com/Kicksecure/derivative-maker/compare/17.4.4.6-developers-only...18.0.8.7-developers-only)

----

(This forum post was previously a call for testers. No release critical bugs where found during the testing period. This forum post was therefore [transformed](https://forums.whonix.org/t/transform-whonix-testers-wanted-forum-news-post-into-whonix-release-forum-news-post-ok/11405) into a stable release announcement. See edit history.)</description>
    
    <lastBuildDate>Fri, 12 Dec 2025 15:56:38 +0000</lastBuildDate>
    <category>News</category>
    <atom:link href="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Kicksecure 18 Released! Major Release Upgrade!</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>(This forum post was previously a call for testers. No release critical bugs where found during the testing period. This forum post was therefore <a href="https://forums.whonix.org/t/transform-whonix-testers-wanted-forum-news-post-into-whonix-release-forum-news-post-ok/11405">transformed</a> into a stable release announcement. See edit history.)</p>
          <p><a href="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/4</link>
        <pubDate>Fri, 12 Dec 2025 15:56:38 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1375-4</guid>
        <source url="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375.rss">Kicksecure 18 Released! Major Release Upgrade!</source>
      </item>
      <item>
        <title>Kicksecure 18 Released! Major Release Upgrade!</title>
        <dc:creator><![CDATA[james369]]></dc:creator>
        <description><![CDATA[
            <p>Hi, I already am running kicksecure 17 on a macbook 11,3 and it works fine.  I downloaded the testing iso, burnt to usb, held down option and selected the usb.  I tried every grub entry option and after I select it, it runs a line or  2 (something about dracut) and then the laptop just turns off.</p>
<p>I tried to edit the grub entries to add <code>nomodeset</code> but that also had the same result.   I re-downloaded the iso, tried a different usb and get the same result.</p>
<p>As a test I downloaded the xfce kicksecure, did exactly the same method of writing it to the same USB etc.. and it booted into the usb livemode with no errors. So it is surely something with this 18.0.7.5 iso.</p>
<p>I just noticed there is a 18.0.7.6 in the op, I will try that now.</p>
<p>Wonderful! It works a dream! ( whatever you changed from .5 to .6 worked.)<br>
Thanks to all, it looks great.</p>
          <p><a href="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/3</link>
        <pubDate>Tue, 09 Dec 2025 22:30:27 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1375-3</guid>
        <source url="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375.rss">Kicksecure 18 Released! Major Release Upgrade!</source>
      </item>
      <item>
        <title>Kicksecure 18 Released! Major Release Upgrade!</title>
        <dc:creator><![CDATA[linuxer]]></dc:creator>
        <description><![CDATA[
            <p>Fantastic work!</p>
          <p><a href="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/2</link>
        <pubDate>Wed, 03 Dec 2025 18:05:32 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1375-2</guid>
        <source url="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375.rss">Kicksecure 18 Released! Major Release Upgrade!</source>
      </item>
      <item>
        <title>Kicksecure 18 Released! Major Release Upgrade!</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <h1><a name="p-3686-download-1" class="anchor" href="https://forums.kicksecure.com#p-3686-download-1"></a>Download</h1>
<ul>
<li><a href="https://www.whonix.org/wiki/Download" class="inline-onebox">Download Whonix (FREE)</a>
<ul>
<li>VirtualBox: <a href="https://www.kicksecure.com/wiki/VirtualBox" class="inline-onebox">Kicksecure for Windows, macOS, Linux inside VirtualBox</a></li>
<li>KVM:  <a href="https://www.kicksecure.com/wiki/KVM" class="inline-onebox">Kicksecure for KVM</a></li>
<li>Qubes: <a href="https://forums.kicksecure.com/t/kicksecure-18-for-qubes-released-major-release-upgrade/1377" class="inline-onebox">Kicksecure 18 for Qubes Released! Major Release Upgrade!</a></li>
</ul>
</li>
</ul>
<p>(<a href="https://www.kicksecure.com/wiki/Release_Upgrade">What is a release upgrade?</a>)</p>
<hr>
<h1><a name="p-3686-upgrade-2" class="anchor" href="https://forums.kicksecure.com#p-3686-upgrade-2"></a>Upgrade</h1>
<p>Alternatively, an in-place release upgrade is possible using the instructions: <a href="https://www.kicksecure.com/wiki/Release_Upgrade_17_to_18" class="inline-onebox">Release Upgrade Kicksecure 17 to Kicksecure 18</a></p>
<hr>
<p>This release would not have been possible without the numerous supporters of Kicksecure!</p>
<hr>
<p>Please Donate!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Donate">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1765531825" class="site-icon" alt="" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener" title="08:43AM - 10 October 2024">Kicksecure  10 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:640/432;"><img src="https://www.kicksecure.com/w/images/8/83/Payment.jpg?version=82f3e45ee49a6c0df81431424ee3fc2f" class="thumbnail" alt="" width="640" height="432"></div>

<h3><a href="https://www.kicksecure.com/wiki/Donate" target="_blank" rel="noopener">Donating to Kicksecure</a></h3>

  <p>PayPal, Bitcoin (BTC), Monero (XMR), Ethereum (ETH) or Token, Credit Card, Bank Wire, Others</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<p>Please Contribute!</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://www.kicksecure.com/wiki/Contribute">
  <header class="source">
      <img src="https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1765531825" class="site-icon" alt="" width="40" height="40">

      <a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener" title="02:15PM - 07 August 2025">Kicksecure  7 Aug 25</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:483/500;"><img src="https://www.kicksecure.com/w/images/0/07/Computer_n_screen.png?version=b6cc9963027950ad5fd1793106674efb" class="thumbnail" alt="" width="483" height="500"></div>

<h3><a href="https://www.kicksecure.com/wiki/Contribute" target="_blank" rel="noopener">Contribute to Kicksecure</a></h3>

  <p>Spread, Follow, Develop, Testing, Donate. Contribute to Freedom Software / Open Source.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<hr>
<h1><a name="p-3686-major-changes-3" class="anchor" href="https://forums.kicksecure.com#p-3686-major-changes-3"></a>Major Changes</h1>
<ul>
<li>port to Debian 13 / trixie</li>
<li><a href="https://www.kicksecure.com/wiki/Ram-wipe" class="inline-onebox">ram-wipe - Wipe RAM on shutdown and reboot</a>
<ul>
<li>external security audit of ram-wipe: <a href="https://blog.3mdeb.com/2025/2025-08-27-ram-wipe-further-analysis/" class="inline-onebox">Thoughts dereferenced from the scratchpad noise. | ram-wipe: Further analysis</a></li>
</ul>
</li>
<li>install USBGuard by default: <a href="https://www.kicksecure.com/wiki/USBGuard" class="inline-onebox">USBGuard - protect your computer against rogue USB devices</a>
<ul>
<li><a href="https://forums.kicksecure.com/t/usbguard-what-should-we-allow-or-disallow-by-default/1248" class="inline-onebox">USBGuard - what should we allow or disallow by default?</a></li>
</ul>
</li>
<li><a href="https://forums.whonix.org/t/port-to-wayland/17380" class="inline-onebox">port to Wayland - Development - Whonix Forum</a>
<ul>
<li>Non-Qubes only</li>
<li>Qubes: see <a href="https://github.com/QubesOS/qubes-issues/issues/3366">Qubes ticket</a></li>
<li>related: <a href="https://forums.kicksecure.com/t/wayland-only-or-noland/1170" class="inline-onebox">Wayland only or Noland</a></li>
</ul>
</li>
<li><a href="https://forums.whonix.org/t/lxqt-wayland-support/18178">port to LXQt</a></li>
<li><code>[EDIT]</code> <a href="https://forums.kicksecure.com/t/use-btrfs-as-the-default-journaling-file-system/626/12">bring back Btrfs support in ISO installer</a></li>
<li>port to <a href="https://www.kicksecure.com/wiki/Privleap">privleap</a></li>
<li><a href="https://forums.whonix.org/t/choosing-qt-wayland-compatible-software-for-lxqt/22332/24">no longer install <code>xpdf</code> by default</a> (due to port to Wayland)</li>
<li>investigated <a href="https://www.kicksecure.com/wiki/VirtualBox/Green_Turtle_Issue" class="inline-onebox">VirtualBox - Green Turtle Issue</a> issue and provided Hyper-V disable scripts</li>
<li><a href="https://forums.kicksecure.com/t/apt-sources-list-one-line-format-versus-deb822-style-format/267">Switch to using deb822 sources</a></li>
<li><code>backlight-tool-dist</code>: New privleap, LXQt compatible backlight adjustment tool.</li>
<li><a href="https://www.kicksecure.com/wiki/Keyboard_Layout" class="inline-onebox">Keyboard Layout</a> new tools:
<ul>
<li><code>set-system-keymap</code></li>
<li><code>set-console-keymap</code></li>
<li><code>set-labwc-keymap</code></li>
<li><code>set-grub-keymap</code></li>
</ul>
</li>
<li>disable clipboard sharing by default for VM images (since broken by Wayland)
<ul>
<li>VirtualBox: <a href="https://www.kicksecure.com/wiki/VirtualBox/Guest_Additions" class="inline-onebox">VirtualBox Guest Additions: Clipboard Sharing, Shared Folder, and More</a></li>
<li>KVM: <a href="https://www.whonix.org/wiki/KVM#Clipboard_Sharing">Clipboard Sharing</a></li>
<li>Qubes: Unaffected. No changes.</li>
</ul>
</li>
<li>GRUB boot menu now has a keyboard selection menu. (This is documented in chapter <a href="https://www.kicksecure.com/wiki/Grub#Temporary_Kernel_Boot_Parameter_Change">Temporary Kernel Boot Parameter Change</a>.)</li>
<li>Boot performance and RAM savings improvements.</li>
<li>Consistent naming of meta packages.</li>
<li>VirtualBox / KVM: Fix auto adjustment of window size in Wayland using <code>wlr-resize-watcher</code> (in package <code>vm-config-dist</code>).</li>
</ul>
<h1><a name="p-3686-changelog-up-to-18087-4" class="anchor" href="https://forums.kicksecure.com#p-3686-changelog-up-to-18087-4"></a>Changelog up to 18.0.8.7</h1>
<ul>
<li>bootclockrandomization:
<ul>
<li>Fix output on non-English locale systems</li>
</ul>
</li>
<li>desktop-config-dist:
<ul>
<li>Fix taskbar and screen background if broken due to unclean shutdown.</li>
</ul>
</li>
<li>developer-meta-files:
<ul>
<li>Check if on expected branch</li>
<li>Check for empty directories</li>
</ul>
</li>
<li>helper-scripts:
<ul>
<li>set keymap scripts: port to localectl-static for higher reliability inside chroot</li>
<li>luks-path-check: fix detection when using Btrfs (to fix swap-file-creator on Btrfs failing to detect encrypted LUKS device)</li>
<li>Optimize stsponge memory usage, add NUL byte check to stdisplay malicious Unicode test</li>
<li><code>set-system-keymap</code> now also runs <code>set-grub-keymap</code></li>
<li>Rename <code>strip-html</code>  <code>strip-markup</code></li>
<li>Refactor strip_markup and sanitize_string libraries, add tests</li>
<li>Check if Tor is dormant and re-activate Tor</li>
<li>Add <code>tor-dormant-check</code></li>
<li>Add <code>tor-signal-newnym</code></li>
<li>Keyboard layout script and localectl-static fixes / optimization</li>
</ul>
</li>
<li>kicksecure-meta-packages:
<ul>
<li>Install <code>tor-ctrl</code> by default.</li>
<li>Add <code>firmware-carl9170</code></li>
<li>Add new meta package <code>firmware-freedom</code></li>
</ul>
</li>
<li>rads:
<ul>
<li>No longer switch to virtual terminal 2 as it is no longer required in Debian Trixie <a href="https://forums.whonix.org/t/no-login-prompt-getty-started-on-tty1-anymore-in-whonix-16-debian-bullseye-based/12475" class="inline-onebox">no login prompt / getty not started on tty1 anymore in Whonix 16 (Debian bullseye based) - Development - Whonix Forum</a></li>
<li>Fix on systems with non-English system language</li>
</ul>
</li>
<li>ram-wipe:
<ul>
<li>Code simplification</li>
<li>Fix: no longer enable kexec because ram-wipe fortunately no longer requires kexec. The new default (set by security-misc) is to keep kexec disabled even if ram-wipe is installed, which is installed by default.</li>
<li>Fix false-positive detection of remaining encrypted disk still being mounted (<a href="https://forums.kicksecure.com/t/question-about-ram-wipe/1374" class="inline-onebox">Question about RAM Wipe</a>)</li>
</ul>
</li>
<li>sdwdate-gui:
<ul>
<li>Make sdwdate-gui-qubes-proxy much less likely to fail, to avoid systemd showing the system as degraded incorrectly</li>
<li>Fix cosmetic issue in Qubes sys-net journal: <code>sdwdate-gui-qubes@0-1443-1000.service: Failed with result 'protocol'.</code></li>
</ul>
</li>
<li>security-misc:
<ul>
<li>Fix block-unsafe-logins when running as non-root, add swaylock to list of safe auth services</li>
<li>Documentation improvements.</li>
<li>Remove the option to reduce the MCE tolerance level</li>
<li>Provide options to enable AMD SME and SEV</li>
<li>Provide options to panic upon receiving NMIs</li>
<li>Set <code>net.ipv4.tcp_tw_reuse=0</code></li>
<li>Add docs on logging martian packets</li>
<li>Set <code>bdev_allow_write_mounted=0</code></li>
<li>Set <code>kpti=1</code></li>
<li>Set <code>proc_mem.force_override=ptrace</code></li>
<li>Add another method to disable 32-bit legacy vsyscalls</li>
</ul>
</li>
<li>serial-console-enable:
<ul>
<li>Remove gfxterm, as it results in multiple conflicting GRUB menu displays under KVM</li>
</ul>
</li>
<li>swap-file-creator:
<ul>
<li>Fix swap file creation on <code>Btrfs</code> filesystem.</li>
<li>Also parse <code>.conf</code> files in <code>/etc/default/swap-file-creator.d</code> and <code>/usr/local/etc/default/swap-file-creator.d</code> folders</li>
</ul>
</li>
<li>systemcheck:
<ul>
<li>Fix crypt-check to work (<a href="https://forums.kicksecure.com/t/systemcheck-incorrectly-warns-that-full-disk-encryption-fde-is-absent/1381" class="inline-onebox">Systemcheck incorrectly warns that full disk encryption (FDE) is absent</a>)</li>
<li>Check both systemd system and systemd user units that are hung in state failed, activating, or deactivating</li>
<li>Silence SRSO warning when running in VMs or containers</li>
<li>Fix systemcheck first line (header) when running in non-US languages</li>
<li>Fix: no longer matching <code>debug:</code> in critical messages</li>
<li>Improve notification of critical kernel messages related to hardware errors</li>
</ul>
</li>
<li>tb-updater:
<ul>
<li>Install latest TBB version even if hardcoded version number is out of date</li>
<li>Use hardcoded version number as minimum version, but download higher versions if available</li>
<li>Fix desktop icon by adding <code>StartupWMClass=Tor Browser Downloader (AnonDist)</code> <a href="https://forums.whonix.org/t/whonix-18-0-7-5-major-release-upgrade-testers-wanted/22469/11" class="inline-onebox">Whonix 18.0.8.7 Released! Major Release Upgrade! - #11 by anontroll - News - Whonix Forum</a></li>
</ul>
</li>
<li>tb-starter:
<ul>
<li>Fix desktop icon by adding <code>StartupWMClass=Tor Browser</code> <a href="https://forums.whonix.org/t/whonix-18-0-7-5-major-release-upgrade-testers-wanted/22469/11" class="inline-onebox">Whonix 18.0.8.7 Released! Major Release Upgrade! - #11 by anontroll - News - Whonix Forum</a></li>
</ul>
</li>
<li>tor-ctrl:
<ul>
<li>Fix end-of-options parsing</li>
</ul>
</li>
<li>usability-misc:
<ul>
<li>Add optional <code>check-user-slice-on-shutdown.service</code> systemd unit for debugging stuck user processes in <code>session-c1</code> slice on shutdown</li>
<li>Disable <code>orca-kill-at-shutdown.service</code> by default because it might slow down shutdown</li>
</ul>
</li>
<li>user-sysmaint-split:
<ul>
<li>Show a notification and log an entry to the system journal if a qrexec action is blocked in sysmaint mode</li>
<li>Better error handling in case the disk is read-only without ephemeral overlay</li>
</ul>
</li>
<li>sysmaint-panel:
<ul>
<li>Lowercase names of packages being installed, update apt lists if the package isnt initially found</li>
</ul>
</li>
<li>derivative-maker:
<ul>
<li>Fix: avoid need for <code>localectl</code> on the build host</li>
<li>ISO builds: require command line parameter <code>--freedom true</code> or <code>--freedom false</code> by default for <code>--architecture</code> <code>amd64</code> (and <code>i386</code>) only. (Other architectures do not need this as there are no nonfreedom firmware packages installed in any case.)</li>
<li>Always install meta package <code>firmware-freedom</code> / <code>firmware-nonfreedom</code> on the ISO by default for official builds. See also: <a href="https://www.kicksecure.com/wiki/Dev/nonfree" class="inline-onebox">Non-Freedom Firmware and Drivers</a></li>
</ul>
</li>
<li>anon-connection-wizard:
<ul>
<li>Sync hardcoded bridges with Tor Browser, rename meek-azure  meek since the current Meek bridge does not appear to use Azure</li>
</ul>
</li>
<li>tor-control-panel:
<ul>
<li>Rename meek-azure  meek since the current Meek bridge does not appear to use Azure</li>
</ul>
</li>
</ul>
<h1><a name="p-3686-changelog-up-to-18075-testers-only-version-5" class="anchor" href="https://forums.kicksecure.com#p-3686-changelog-up-to-18075-testers-only-version-5"></a>Changelog up to 18.0.7.5 (testers-only version)</h1>
<ul>
<li>
<p>anon-apt-sources-list:</p>
<ul>
<li>Replace <code>Xfce</code> with <code>LXQt</code> where appropriate.</li>
<li>Switch to using <code>deb822</code> sources.</li>
</ul>
</li>
<li>
<p>anon-connection-wizard:</p>
<ul>
<li>Remove remaining <code>pkexec</code> references, use <code>privleap</code> only.</li>
<li>Avoid an either/or dependency bug.</li>
</ul>
</li>
<li>
<p>anon-shared-build-apt-sources-tpo:</p>
<ul>
<li>Switch to using <code>deb822</code> sources.</li>
</ul>
</li>
<li>
<p>bindp:</p>
<ul>
<li>Use a <code>Makefile</code> when building <code>bindp</code> in the <code>postinst</code> script.</li>
<li>Improve security and clean up the code.</li>
</ul>
</li>
<li>
<p>bootclockrandomization:</p>
<ul>
<li>Remove features from <code>msgcollector</code> that do not work with Wayland.</li>
</ul>
</li>
<li>
<p>browser-choice:</p>
<ul>
<li>Port to <code>package-installed-check</code>.</li>
<li>Add dependency on <code>helper-scripts</code>.</li>
<li>Use <code>apt-get-noninteractive</code>.</li>
<li>Fix Tor Browser plugin behavior and disable the install option for packages that are already installed.</li>
<li>Explain how to install Tor Browser in the user account without installing it into the <code>sysmaint</code> account.</li>
<li>fix: No longer depend on <code>tb-updater</code> and <code>tb-starter</code>.</li>
<li>Use the Qubes update proxy for all HTTP requests when running in a TemplateVM.</li>
<li>Add notifications when a browser installation or removal completes.</li>
<li>Fix privileged vs unprivileged execution logic.</li>
<li>Do not offer to start a browser in a Qubes TemplateVM.</li>
<li>Fix the user session warning message on Qubes OS.</li>
<li>Switch to using <code>deb822</code> sources.</li>
</ul>
</li>
<li>
<p>calamares-settings-debian:</p>
<ul>
<li>Double the length of most timeouts to accommodate slow installation target media.</li>
</ul>
</li>
<li>
<p>debug-misc:</p>
<ul>
<li>Disable <code>panic_on_oom</code>.</li>
<li>Disable <code>security-misc</code>s <code>/usr/lib/sysctl.d/30_security-misc_ptrace-disable.conf</code>. See <a href="https://github.com/Kicksecure/security-misc/issues/321" class="inline-onebox">Force disable usage of `ptrace()` until reboot / Increase `kernel.yama.ptrace_scope`: `2`  `3`  Issue #321  Kicksecure/security-misc  GitHub</a></li>
<li>Remove <code>initramfs-tools</code> support.</li>
<li>Reorder settings to be consistent with <code>security-misc</code>.</li>
<li>Remove <code>sysctl kernel.panic=-1</code>.</li>
<li>Update <code>sysctl</code> settings related to kernel panics.</li>
</ul>
</li>
<li>
<p>desktop-config-dist:</p>
<ul>
<li>Prevent <code>lxqt-powermanagement</code> from overriding system-wide defaults with auto-configuration.</li>
<li>Redirect output from greeter-launched <code>labwc</code> sessions to the system journal to make debugging easier.</li>
<li>Fix a black screen issue for users who had already triggered it.</li>
<li>Fix a black screen issue when the first user session reboot or shutdown is done via the command line.</li>
<li>Run <code>livecheck-lsblk.service</code> after <code>systemd-tmpfiles-setup.service</code>.</li>
<li>Refuse to log into a full graphical session in <code>sysmaint</code> mode or as the <code>sysmaint</code> user.</li>
<li>Update default power management settings.</li>
<li>Prevent more than one <code>livecheck</code> window from being open at the same time.</li>
<li>Improve <code>backlight-tool-dist</code> debug messages and make messaging clearer when there is no brightness to restore.</li>
<li>Add a generic lock screen background.</li>
<li>Move Waybar configuration for <code>sysmaint</code> sessions to <code>*-base-files</code> packages.</li>
<li>Avoid <code>greetd</code> getting stuck on a black screen when authentication fails.</li>
<li>Add missing dependencies for <code>wlr-resize-watcher</code>, <code>python3-pyudev</code> and <code>wlr-randr</code>.</li>
<li>Create a backlight helper tool, bind it to brightness keys and enable brightness restore on login.</li>
<li>Switch <code>greetd</code> <code>labwc</code> configuration to a configuration directory so keyboard layout can be changed in the greeter.</li>
<li>Disable the color change on Waybars volume widget when hovering.</li>
<li>Move <code>swaylock</code> configuration out of <code>desktop-config-dist</code>.</li>
<li>Move <code>zsh</code> configuration to <code>usability-misc</code>.</li>
<li>Make the battery indicator in <code>sysmaint</code> sessions detect AC plug/unplug events more quickly.</li>
<li>Fix Qt application theming under Qubes OS.</li>
<li>Slow down the mouse pointer; the previous configuration made it too fast.</li>
<li>Signal to the system when the Wayland session has started.</li>
<li>Export <code>XDG_CONFIG_DIRS</code> and <code>XDG_DATA_DIRS</code> correctly.</li>
<li>Hide unnecessary error output (<code>stderr</code>) where appropriate.</li>
<li>Set <code>WLR_RENDERER</code> only on non-Qubes and non-VM systems.</li>
<li>Under Qubes OS, do not set <code>GDK_BACKEND</code> and <code>QT_QPA_PLATFORM</code> because Qubes does not support Wayland yet. See <a href="https://github.com/QubesOS/qubes-issues/issues/3366" class="inline-onebox">Use Wayland instead of X11 to increase performance and improve security  Issue #3366  QubesOS/qubes-issues  GitHub</a></li>
<li>Fix <code>xdg-desktop-portal</code> support in <code>sysmaint</code> sessions and remove unnecessary dependencies.</li>
<li>Make <code>Ctrl+Alt+T</code> launch <code>QTerminal</code>.</li>
<li>Turn off the empty tooltip on the Waybar clock.</li>
<li>Add a volume widget to Waybar.</li>
<li>Make the Waybar clock update every second.</li>
<li>Do not run the <code>greetd</code> configuration builder in Qubes.</li>
<li>Add desktop configuration for <code>LXQt + labwc</code>.</li>
<li>Show a notification about the systems live state at login when not booting in persistent mode.</li>
</ul>
</li>
<li>
<p>developer-meta-files:</p>
<ul>
<li>Reject cache directories.</li>
<li>Check for empty directories.</li>
<li>Add more maintenance automation.</li>
<li>Install <code>qubes-core-agent-dom0-updates</code> by default in Kicksecure for Qubes.</li>
<li>Add a wrapper for <code>dm-tor-update-repository</code> to <code>dm-packaging-helper-script</code>.</li>
<li>Create the <code>dm-tor-update-repository</code> script.</li>
<li>Automatically update the VirtualBox Windows SHA256 file.</li>
<li>Automatically update the Windows download link.</li>
<li>Support scripted <code>git push</code> for Windows-related components.</li>
<li>Support scripted <code>git push</code> for Qubes templates.</li>
</ul>
</li>
<li>
<p>dist-base-files:</p>
<ul>
<li>Fix strings in the GRUB menu for user session advanced settings.</li>
<li>Fix anon-base-files machine ID prompt and <code>/etc/hosts</code> warning. See <a href="https://forums.whonix.org/t/setting-up-anon-base-files-shows-machine-id-prompt-followed-by-ominous-warning-ominous-warning-etc-hosts-is-not-linked-to-either-hosts-whonix-or-hosts-whonix-orig/8045/14" class="inline-onebox">Setting up anon-base-files shows machine-id prompt followed by "OMINOUS WARNING" - *** OMINOUS WARNING ***: /etc/hosts is not linked to either hosts.whonix or hosts.whonix-orig - #14 by Patrick - Qubes-Whonix - Whonix Forum</a></li>
<li>Stop disabling UUIDs in <code>grub.cfg</code>.</li>
<li>fix: Avoid calling <code>daily activities</code> for <code>SYSMAINT Session</code>; use <code>system maintenance tasks</code> instead.</li>
<li>Remove support for <code>initramfs-tools</code>.</li>
<li>Fix <code>leapctl</code> errors with <code>greetd</code> and fix GRUB boot entries.</li>
<li>Do not source Bash scripts from POSIX <code>sh</code> <code>grub.d</code> scripts.</li>
<li>Enable Dracut hostonly sloppy mode.</li>
<li>Update core GRUB configuration generator scripts for Debian Trixie.</li>
</ul>
</li>
<li>
<p>genmkfile:</p>
<ul>
<li>Check for empty directories.</li>
<li>Fix <code>genmkfile deb-cleanup</code> to also delete <code>orig.tar.xz</code>.</li>
<li>Delete the <code>genmkfile</code> temporary directory at the end.</li>
<li>Add a feature to auto-generate <code>debian/*.install</code> files based on <code>#</code> (hash) in filenames.</li>
<li>Make <code>deb-cleanup</code> work with <code>dh_clean</code>.</li>
<li>Fix running <code>genmkfile installcheck</code> as non-root.</li>
</ul>
</li>
<li>
<p>grub-live:</p>
<ul>
<li>Switch back to the <code>overlay-root</code> module and <code>rootovl</code> parameter for live boot; <code>rd.live.overlay.overlayfs</code> is broken with BTRFS.</li>
<li>Set the <code>nohibernate</code> kernel parameter (thanks to <a class="mention" href="https://forums.kicksecure.com/u/desi_fubu">@desi_fubu</a> for the suggestion). See <a href="https://forums.kicksecure.com/t/support-for-hibernation/1349/6" class="inline-onebox">Support for hibernation? - #6 by desi_fubu</a></li>
<li>Fix a <code>live-hardener</code> submount edge case, improve performance of submount detection and add regression tests (mostly done by ChatGPT Codex).</li>
<li>Improve regression test coverage of <code>live-hardener</code>, fix bugs and avoid misleading error messages in logs.</li>
<li>Ensure the <code>dmsquash-live</code> module is present in the initramfs and omit the Debian-specific <code>overlay-root</code> module.</li>
<li>Remove support for <code>initramfs-tools</code>.</li>
<li>Place <code>live-hardener</code>s overlay repository under <code>/run</code> to avoid issues when <code>/var</code> is on a separate partition.</li>
<li>Fix <code>live-hardener</code> behavior when dealing with mount points under non-root mount points.</li>
</ul>
</li>
<li>
<p>helper-scripts:</p>
<ul>
<li>Add <code>/usr/libexec/helper-scripts/system-ready-check-user</code>.</li>
<li>Try to prevent <code>/tmp/user/100*</code> from becoming owned by <code>root</code> because of <code>lockfile.sh</code>.</li>
<li>Add <code>/usr/libexec/helper-scripts/systemd-notify.bsh</code>.</li>
<li><code>curl-prgrs</code>: also handle the <code>-o</code> argument.</li>
<li><code>/usr/libexec/helper-scripts/curl-prgrs</code>: fix argument quoting.</li>
<li>Port to <code>package-installed-check</code>.</li>
<li>Split out <code>/usr/libexec/helper-scripts/package_installed_check</code> and <code>/usr/libexec/helper-scripts/package_installed_check.sh</code>.</li>
<li>Add a <code>--no-update-grub</code> option to <code>set-grub-keymap</code>, and refactor and improve the help output in <code>set-keyboard-layout.sh</code>.</li>
<li>Adjust how standard input is read in the GRUB keyboard layout setter.</li>
<li>Add the <code>set-grub-keymap</code> script and refactor <code>localectl</code> availability checks in <code>set-keyboard-layout.sh</code>.</li>
<li><code>set-system-console</code>: improve the code that regenerates the initramfs.</li>
<li>Keyboard layout scripts: use standard output for informational messages, regenerate initramfs images during layout changes, make non-standard options work in interactive mode, enable <code>pipefail</code>, and change <code>--persist</code> to <code>--no-persist</code>.</li>
<li>Add <code>luks-path-check</code>.</li>
<li><code>dummy-dependency</code>: use <code>apt-get-noninteractive</code> (but keep <code>--yes</code> opt-in).</li>
<li><code>set-console-keymap</code>: restart <code>keyboard-setup.service</code>.</li>
<li>Handle more cases where <code>localectl</code> is unavailable.</li>
<li><code>/usr/libexec/helper-scripts/sudo-tools-enable</code>: add <code>su-to-root</code>.</li>
<li>Import <code>br_add_to_file</code> from <code>systemcheck</code>.</li>
<li>Fix return codes of <code>linux_user_account_shell_to_zsh</code>. This fixes a bug when installing <code>user-sysmaint-split</code>.</li>
<li><code>set-system-keymap</code>: improve error handling.</li>
<li>Reload <code>labwc</code> keyboard layout after changing the system keyboard layout.</li>
<li>Improve <code>system-ready-check</code>.</li>
<li><code>/usr/libexec/helper-scripts/pkg_manager_running_check</code> function <code>check_package_manager_running_helper</code>: change API to <code>return 0</code> on success and non-zero on error.</li>
<li>Add tests for the <code>run_as_target_user</code> function.</li>
<li>Remove unneeded <code>TMP=/tmp</code>.</li>
<li><code>tor-circuit-established-check</code>: exit with status <code>0</code> if a circuit is established, and non-zero otherwise.</li>
<li>Create <code>query-sock-pid</code> script and library.</li>
<li>Improve <code>read_integer_file</code>.</li>
<li>Import <code>read_integer_file</code> from <code>desktop-config-dist</code>.</li>
<li>Improve lock screen notifications and their integration with <code>LXQt</code>.</li>
<li>Move the <code>lock-screen</code> script to <code>/usr/bin/</code>.</li>
<li>Use <code>systemctl --no-pager --no-block</code> where appropriate to avoid blocking on output.</li>
<li>Split Tor service wait logic out of <code>qubes.UpdatesProxy.anondist</code> into <code>try-wait-for-tor-service-running</code>.</li>
<li>Add <code>leaprun system-ready-check</code>.</li>
<li>Code simplification: use <code>ischroot</code> and remove <code>/usr/libexec/helper-scripts/in-chroot.sh</code>.</li>
<li>Add <code>set-console-keymap</code> script.</li>
<li>Add <code>git.sh</code>.</li>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>Import <code>user-sysmaint-split-check</code> from <code>browser-choice</code>.</li>
<li>Add new function <code>sudo_error_exit_if_unavailable</code>.</li>
<li>Add <code>in-chroot.sh</code> library and avoid calling <code>localectl</code> in a chroot in <code>set-keyboard-layout.sh</code>.</li>
<li>Display keyboard layout change success messages in both interactive and non-interactive modes.</li>
<li>Add <code>disallowed-test</code>.</li>
<li>Reload <code>labwc</code> if it is running, and show output.</li>
<li>Add explicit checks for running as <code>root</code> vs non-root.</li>
<li>Improve error handling.</li>
<li><code>set-system-keymap</code>: filter out spurious error messages:<pre><code class="lang-plaintext">cat: '/sys/bus/usb/devices/*:*/bInterfaceClass': No such file or directory
cat: '/sys/bus/usb/devices/*:*/bInterfaceSubClass': No such file or directory
cat: '/sys/bus/usb/devices/*:*/bInterfaceProtocol': No such file or directory
</code></pre>
</li>
<li>Show <code>/etc/default/keyboard</code> contents before executing <code>dpkg-reconfigure --frontend=noninteractive keyboard-configuration</code>.</li>
<li>Add a <code>set-keymap</code> test plan.</li>
<li>Add <code>/usr/libexec/helper-scripts/boot-session-detection.sh</code> and refactor related code.</li>
<li>Fix bugs in <code>set-keyboard-layout.sh</code>.</li>
<li>Apply an ephemeral keyboard layout change fix from ChatGPT Codex with minor adjustments and set the executable bit on <code>set-keyboard-layout.sh</code>.</li>
<li>Refactor <code>set-labwc-keymap</code> into a library and two frontends.</li>
<li>Add an interactive UI option and start menu entry for <code>set-labwc-keymap</code>.</li>
<li>Fix several <code>autologinchange</code> issues (collapsing lines in <code>greetd</code> incorrectly, failing to remove effectively empty <code>greetd</code> configuration files, and using <code>echo</code> instead of <code>printf</code>).</li>
<li>Add <code>lockfile-test</code>.</li>
<li>Add <code>/usr/libexec/helper-scripts/lockfile.sh</code>.</li>
<li>Add <code>random_alpha_numeric</code> helper.</li>
<li>Use <code>passwordless-root --qubes-rw</code> in <code>dev-root</code> when necessary.</li>
<li>Use <code>/etc</code>-based sudo enablement in <code>passwordless-root</code> under Qubes by default and require <code>--qubes-rw</code> for the persistent-in-AppVM mechanism.</li>
<li>Move <code>passwordless-root</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Fix usage of <code>start-stop-daemon</code> in <code>dist-virtual-keyboard</code>.</li>
<li>Allow deleting configuration entries in <code>config_builder</code>.</li>
<li>Polish <code>set-labwc-keymap</code> argument parsing, write messages to <code>stderr</code>, and add <code>--no-reload</code>, <code>--config</code>, and end-of-options arguments.</li>
<li><code>set-labwc-keymap</code>: use <code>overwrite</code> and show the contents of the created <code>~/.config/labwc/environment</code> file.</li>
<li><code>dist-virtual-keyboard</code>: port to <code>start-stop-daemon</code>.</li>
<li>Create <code>set-labwc-keymap</code> script.</li>
<li>Move <code>dist-virtual-keyboard</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Add <code>env-sorted</code> (<code>env -0 | sort -z | tr '\0' '\n'</code>). Thanks to Iguananaut. See <a href="https://stackoverflow.com/questions/60756020/print-environment-variables-sorted-by-name-including-variables-with-newlines">https://stackoverflow.com/questions/60756020/print-environment-variables-sorted-by-name-including-variables-with-newlines</a></li>
<li>Only include the <code>abstractions/tor</code> AppArmor file if it exists.</li>
<li>Fix backing device detection for the live ISO root filesystem.</li>
<li>Add Wayland screen locker support to the <code>lock-screen</code> script.</li>
<li><code>origins-parser</code>: fix cover status when <code>/etc/dpkg/origins/kicksecure</code> and <code>/etc/dpkg/origins/whonix</code> are no longer symlinks to <code>/etc/dpkg/origins/default</code>.</li>
<li><code>origins-parser</code>: make initialization more robust.</li>
<li>Remove no longer required <code>apt-get-update-plus</code>. <code>upgrade-nonroot</code> now uses <code>/usr/bin/apt-get --update full-upgrade</code> instead.</li>
<li>Stop modifying <code>.bashrc</code> to keep behavior consistent with <code>zsh</code>.</li>
<li><code>dummy-dependency</code>: use a single <code>apt-get</code> command to remove the original package and install the dummy package.</li>
<li>Avoid using <code>shell=True</code>.</li>
<li><code>get-backing-devices-for-mountpoint</code>: improve parsing of <code>/dev/dm*</code> devices.</li>
<li><code>get-backing-devices-for-mountpoint</code>: make symlink resolution more robust.</li>
<li><code>get-backing-devices-for-mountpoint</code>: make parsing of loop devices more robust.</li>
<li>Fix live mode tests.</li>
<li>Allow overriding <code>kernel_cmdline</code> for test mode.</li>
<li>Remove tabs from scripts where not needed.</li>
<li>Exit with a non-zero status on error.</li>
<li><code>dummy-dependency</code>: add <code>--cache-only</code> option.</li>
<li><code>dummy-dependency</code>: implement actual package removal or purge.</li>
<li>Switch <code>dummy-dependency</code> from using <code>Breaks/Replaces/Provides</code> to using <code>Conflicts/Provides</code>.</li>
<li>Add <code>str-replace-many</code>.</li>
<li>Move <code>dpkg-noninteractive</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Prevent <code>light_sleep</code> from crashing scripts that use <code>set -e</code>.</li>
<li>Remove <code>initramfs-tools</code>-specific debug helper script.</li>
<li>Add memory-efficient sleep alternative <code>light_sleep</code>.</li>
<li><code>LXQt</code> porting: add a configuration build utility, revise live mode detection for Trixie, and make <code>package_installed_check.bsh</code> callable as a script.</li>
<li>Move <code>upgrade-nonroot</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-reset</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-noninteractive</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-update-plus</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>security-misc/apt-get-update*</code> to <code>helper-scripts</code>.</li>
<li>Add <code>GATEWAY_IP6</code> variable.</li>
</ul>
</li>
<li>
<p>icon-pack-dist:</p>
<ul>
<li>Add a rounded version of the Kicksecure logo for the start button.</li>
</ul>
</li>
<li>
<p>initializer-dist:</p>
<ul>
<li>Remove invalid or broken sources list files during build.</li>
</ul>
</li>
<li>
<p>kicksecure-base-files:</p>
<ul>
<li>Tell the user how to leave a GRUB submenu.</li>
<li>Remove the network icon from the desktop.</li>
<li>Use <code>lock-screen</code> from <code>helper-scripts</code> for screen locking, add a lock screen background and remove the now redundant Waybar battery widget.</li>
<li>Move Waybar configuration for <code>sysmaint</code> sessions to <code>*-base-files</code> packages.</li>
<li>Add <code>swaylock</code> configuration for Kicksecure.</li>
<li>Disable the <code>pcmanfm-qt</code> thumbnailer and ensure <code>pcmanfm-qt</code> system-wide settings are honored in both user and <code>sysmaint</code> sessions.</li>
<li>Stop modifying <code>.bashrc</code> to keep behavior consistent with <code>zsh</code>.</li>
<li>Add <code>/usr/share/kicksecure</code> to <code>XDG_CONFIG_DIRS</code>, add a desktop background for Kicksecure LXQt, and add <code>lxqt-panel</code> and <code>pcmanfm-qt</code> configuration.</li>
<li>Bump the Kicksecure version.</li>
<li>Advertise a Kicksecure feature flag to enable <code>sdwdate-gui</code> communication.</li>
</ul>
</li>
<li>
<p>kicksecure-meta-packages:</p>
<ul>
<li>Install <code>vm-config-dist</code> everywhere also on host operating systems (ISO) for better support if run inside VMs.</li>
<li>Install <code>usbguard</code> by default.</li>
<li>Install <code>nmap</code> by default (includes <code>nping</code>, a TCP-based ping utility useful for debugging network issues). See <a href="https://forums.whonix.org/t/ping-operation-permitted/11056" class="inline-onebox">Ping operation permitted? - Support - Whonix Forum</a></li>
<li>Install <code>qubes-core-agent-dom0-updates</code> by default in Kicksecure for Qubes.</li>
<li>Remove <code>upower</code> from Qubes machines.</li>
<li>Remove <code>smart-notifier</code> from Qubes machines.</li>
<li>Switch <code>kicksecure-qubes-cli</code> from <code>firmware-nonfreedom</code> to <code>firmware-nonfreedom-network</code>.</li>
<li>Install <code>extrepo-offline-data</code> by default.</li>
<li>Install <code>firmware-nonfreedom</code> by default on Qubes, useful for <code>sys-net</code>.</li>
<li>Add <code>liblxqt-backlight-helper</code> to <code>dist-baremetal-gui-lxqt</code>.</li>
<li>Add <code>qubes-notification-agent</code> to GUI Qubes systems.</li>
<li>Add <code>kanshi</code> to <code>dist-nonqubes-gui-lxqt</code>.</li>
<li>Do not install <code>wvkbd</code> in Qubes.</li>
<li>Add <code>wvkbd</code> virtual keyboard to <code>dist-general-gui-lxqt</code>.</li>
<li>Use the <code>PCManFM-Qt</code> Qubes file manager helper.</li>
<li>Install <code>ram-wipe</code> by default on Kicksecure bare metal.</li>
<li>Switch image viewer from <code>lximage-qt</code> to <code>loupe</code>.</li>
<li>Add <code>wpasupplicant</code> to Kicksecure on Qubes and bare metal.</li>
<li>Adjust dependencies for the <code>security-misc</code> split.</li>
<li>Merge <code>qubes-whonix</code> metapackages into the main metapackages.</li>
<li>Fix metapackage bugs.</li>
<li>Add <code>usbguard-notifier</code> to the <code>dist-general-gui-all</code> metapackage.</li>
<li>Add <code>qubes-core-agent-network-manager</code> to <code>dist-qubes-cli</code>. This package is required for <code>NetVM</code>; otherwise <code>/usr/lib/qubes/network-manager-prepare-conf-dir</code> is missing and the journal will show:
<blockquote>
<p>NetworkManager.service: Unable to locate executable /usr/lib/qubes/network-manager-prepare-conf-dir: No such file or directory</p>
</blockquote>
</li>
<li>Fix spacing and add <code>Breaks/Replaces</code> against Xfce metapackages.</li>
<li>Add missing firmware packages and a missing <code>Flameshot</code> dependency.</li>
<li>Avoid an either/or dependency bug and rework the <code>dummy-dependency</code> system.</li>
<li>Use <code>Conflicts</code> rather than <code>Breaks</code> to fix the Lintian warning:
<blockquote>
<p>dummy-dependency-lxqt-policykit: breaks-without-version lxqt-policykit</p>
</blockquote>
</li>
<li>Replace <code>screengrab</code> with <code>flameshot</code>.</li>
<li>Adjust for Qubes OS compatibility.</li>
<li>Do not install <code>labwc</code> on Qubes OS.</li>
<li>Fix some incorrect package dependencies.</li>
<li>Restructure metapackages.</li>
<li>Add a hard dependency on <code>systemd-cryptsetup</code>.</li>
<li>Adjust <code>grub-live</code> installation code for removal of <code>initramfs-tools</code> support.</li>
<li>Remove <code>initramfs-tools</code> support.</li>
<li>Switch the desktop to <code>LXQt</code>.</li>
<li>Add a dependency on <code>USBGuard</code> to enable <code>security-misc</code>s USBGuard configuration.</li>
</ul>
</li>
<li>
<p>legacy-dist:</p>
<ul>
<li>Port to the new <code>package-installed-check</code> library.</li>
<li>Move <code>sdwdate-gui</code> configuration migration code to the <code>sdwdate-gui</code> <code>postinst</code> script.</li>
<li>Rewrite <code>sdwdate-gui</code> configuration <code>gateway=sys-whonix</code> to <code>gateway="sys-whonix"</code>.</li>
<li>Remove <code>/etc/dracut.conf.d/30-repart.conf</code> during upgrades because it causes spurious errors on Trixie when run within Dracut on Trixie.</li>
<li>Remove <code>xscreensaver</code> during release upgrades to Trixie.</li>
<li>Replace <code>lightdm</code> (or the active display manager) with <code>greetd</code> on upgrade.</li>
<li>Release upgrade: Qubes R4.2 workaround: <code>dummy-dependency qubes-core-agent-pcmanfm-qt</code>.</li>
<li>Add a CLI deprecation popup message to the Debian maintainer <code>postinst</code> script.</li>
<li>Add CLI support.</li>
<li>Implement <code>--force</code> for release-upgrade.</li>
<li>Prohibit release upgrades by default on Qubes R4.2 and require Qubes R4.3.</li>
<li>Mark CLI as not yet deprecated where appropriate.</li>
<li>Document that Kicksecure 17 and Whonix 17 will remain supported until one month after Qubes R4.3 stable has been released. See <a href="https://github.com/QubesOS/qubes-issues/issues/10219" class="inline-onebox">decide availability of Kicksecure, and Whonix 18 (Debian trixie based) on Qubes R4.2 versus R4.3  Issue #10219  QubesOS/qubes-issues  GitHub</a></li>
<li>Rework the <code>dummy-dependency</code> metapackage system.</li>
<li>Fix checking whether the <code>tor@default</code> systemd unit is running only when a Qubes Template has been detected.</li>
<li>Add metapackage transition handling.</li>
<li>Show the deprecation popup also in Qubes.</li>
<li>Skip SSH confirmation if <code>DEBIAN_FRONTEND=noninteractive</code>.</li>
<li>Bump Kicksecure/Whonix major version number to 18.</li>
<li>Remove <code>tb-default-browser</code> during updates. (Merged into package <code>open-link-confirmation</code>.)</li>
<li>Allow release info origin and label changes during Bookworm  Trixie upgrades.</li>
<li>Add an SSH warning in <code>release-upgrade</code> due to new SSH client and server configuration files.</li>
<li>Disable a probably unnecessary repository change in <code>release-upgrade</code>.</li>
</ul>
</li>
<li>
<p>libvirt-dist:</p>
<ul>
<li>Disable clipboard sharing.</li>
<li>Add IPv6 support to the Whonix external network.</li>
<li>Change <code>Xfce</code> to <code>LXQt</code> where appropriate.</li>
</ul>
</li>
<li>
<p>live-config-dist:</p>
<ul>
<li>Double the length of most timeouts to accommodate slow installation target media.</li>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>Port to using <code>set-system-keymap</code> from <code>helper-scripts</code>.</li>
<li>Set keyboard layout for the greeter as well.</li>
<li>Enhance keyboard layout helper code to work with <code>labwc</code> and handle XKB variants and options.</li>
<li>Fix Calamares launch under Wayland.</li>
<li>Remove obsolete code from <code>install-host</code>.</li>
</ul>
</li>
<li>
<p>lxqt-wayland-session:</p>
<ul>
<li>Do not disable hardware cursors in virtual machines.</li>
<li>Enable merged configuration in <code>labwc</code>.</li>
<li>Enable <code>dh_clean</code> to clean up build artifacts.</li>
<li>Silence <code>lxqt-river-init</code> Lintian warning and fix the copyright file.</li>
<li>Update to <code>lxqt-wayland-session</code> 0.2.0 and apply Kicksecure-specific patches.</li>
<li>Initial commit of this package.</li>
</ul>
</li>
<li>
<p>mediawiki-shell:</p>
<ul>
<li>Refactor the code and improve correctness (thanks to Ben Grande).</li>
</ul>
</li>
<li>
<p>msgcollector:</p>
<ul>
<li><code>msgprogressbar</code>: use a timeout.</li>
<li><code>/usr/libexec/msgcollector/msgprogressbar</code>: handle the <code>SIGINT</code> signal.</li>
<li>Use <code>light_sleep</code>.</li>
<li>Set <code>KillSignal=SIGKILL</code> so stuck processes are forcefully terminated if needed.</li>
<li><code>/usr/libexec/msgcollector/msgprogressbar</code>: fix terminating the parent program when the progress bar is closed.</li>
<li>Avoid an either/or dependency bug.</li>
<li>Switch to the <code>LXQt</code> notifier.</li>
<li>Replace a recurring 10 second sleep with <code>light_sleep</code>.</li>
<li>Remove Wayland-incompatible features from <code>msgcollector</code>.</li>
</ul>
</li>
<li>
<p>open-link-confirmation:</p>
<ul>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>Add <code>tb-default-browser</code> transitional package.</li>
<li>Fix XDG handling and remove now obsolete <code>tb-default-browser</code>.</li>
<li>Configure Firefox so it does not ask to be the default browser.</li>
<li>Add HTML and XML MIME types to <code>x-www-browser</code> and select <code>torbrowser</code> as the default browser on Whonix-Workstation.</li>
</ul>
</li>
<li>
<p>privleap:</p>
<ul>
<li>Add a check for insecure configuration file permissions.</li>
<li>Explicitly drop all supplementary groups.</li>
<li>Rework the <code>leaprun</code> signal handler to reduce the risk of terminate messages not being sent.</li>
<li>Remove sockets for disallowed users on configuration reload.</li>
<li>Avoid allowing anyone to run an action that has user or group restrictions for only nonexistent users or groups.</li>
<li>Make <code>privleapd</code> pick up changes to group ownership immediately and disconnect disallowed users who still manage to connect. Include minor test refactoring (inspired by ChatGPT Codex).</li>
<li>Harden <code>umask</code> as defense in depth against socket ownership vulnerabilities.</li>
<li>Fix an incorrect function call for normalizing a group ID.</li>
<li>Add username/UID to authorized/unauthorized messages in <code>leaprun</code>, and refactor tests to be easier to work with.</li>
<li>Fix <code>leaprun</code> documentation.</li>
<li>Make adjustments to pass <code>black</code>, <code>mypy</code>, <code>pylint</code> and regression tests under Trixie.</li>
</ul>
</li>
<li>
<p>rads:</p>
<ul>
<li>Increase RAM requirements for GUI and pause for five seconds after displaying a low RAM warning.</li>
<li>Remove an unnecessary dependency on <code>systemd</code>.</li>
<li>Adjust for Wayland.</li>
</ul>
</li>
<li>
<p>ram-wipe:</p>
<ul>
<li>Comment changes for the <code>security-misc</code> split.</li>
<li>Clarify lack of <code>initramfs-tools</code> support.</li>
<li>Remove <code>sdmem</code> and the second-stage <code>kexec</code> RAM wipe. Kernel memory zeroing with <code>init_on_free=1</code> makes the second pass redundant. See <a href="https://www.kicksecure.com/wiki/Dev/RAM_Wipe#ram-wipe_improvements" class="inline-onebox">RAM Wipe Development Notes</a> (thanks to Kamil Aronowski <code>&lt;kamil.aronowski@3mdeb.com&gt;</code>).</li>
</ul>
</li>
<li>
<p>repository-dist:</p>
<ul>
<li>Use layouts in <code>repository-dist-wizard</code> rather than manual positioning to prevent UI issues and allow resizing.</li>
<li>Extend the signing key validity.</li>
<li>Stop unnecessarily using <code>dh_python</code>.</li>
<li>Check if <code>/etc/apt/sources.list.d/derivative.list</code> exists before deleting it to avoid repeated verbose deletion messages.</li>
<li>Switch to using <code>deb822</code> sources.</li>
</ul>
</li>
<li>
<p>sdwdate:</p>
<ul>
<li>Trim about a quarter second off of <code>sdwdate</code>s apparent startup time by notifying <code>systemd</code> of startup earlier.</li>
<li>Move <code>sclockadj</code> build into <code>postinst</code> and remove an obsolete <code>adduser</code> call.</li>
<li>Remove a down <code>onion.debian.org</code> time source:<br>
<code>http://iebkxzjscv4jgaucepdbdf4b7bqmcwd5peulm5cbpoavlsnkfhda5gyd.onion</code> (see archived link <a href="https://web.archive.org/web/20210430195930/https://onion.debian.org/">https://web.archive.org/web/20210430195930/https://onion.debian.org/</a>).</li>
<li>Remove <code>Mullvad</code> time sources referenced here: <a href="https://forums.whonix.org/t/suggest-trustworthy-tor-hidden-services-as-time-sources-for-sdwdate/856/254" class="inline-onebox">Suggest Trustworthy Tor Hidden Services as Time Sources for sdwdate - #254 by Patrick - Development - Whonix Forum</a></li>
<li>Add a Startpage onion URL (thanks to Nurmagoz).</li>
<li>Collect all SecureDrop URLs in one place (thanks to Nurmagoz).</li>
<li>Fix <code>Depends: util-linux-extra</code> (provides <code>hwclock</code>).</li>
<li>Remove down or duplicated time sources.</li>
<li>Port to <code>privleap</code> and remove the dependency on <code>sudo</code>.</li>
<li>Harden the C code to make it more robust and secure.</li>
<li>Stop using <code>dh_python</code> to avoid replacing shebangs:<br>
<code>dh_python3</code> was replacing shebangs in:
<ul>
<li><code>debian/sdwdate/usr/share/sdwdate/get-time-from-servers-test</code></li>
<li><code>debian/sdwdate/usr/share/sdwdate/onion-list-all</code></li>
<li><code>debian/sdwdate/usr/share/sdwdate/onion-tester</code></li>
<li><code>debian/sdwdate/usr/bin/url_to_unixtime</code></li>
</ul>
</li>
<li>Add Mullvad search engine <code>leta</code> onion mirror (thanks to Nurmagoz).</li>
<li>Stop using the <code>sleep</code> binary; this is no longer necessary.</li>
</ul>
</li>
<li>
<p>sdwdate-gui:</p>
<ul>
<li>Tell <code>systemd</code> when <code>sdwdate-gui-qubes@.service</code> is initialized and running.</li>
<li>Send repeated Tor status messages if the server restarts.</li>
<li>Do not make the <code>sdwdate-gui-qubes</code> service fail if the <code>sdwdate-gui-server</code> VM is not running.</li>
<li>Prevent <code>sdwdate-gui-qubes-proxy-helper</code> from possibly delaying boot.</li>
<li>Fix menu flashing and CPU usage issues, and prevent massive notification floods when <code>qrexec</code> fails; harden code paths.</li>
<li>Move <code>sdwdate-gui</code> configuration migration code to the <code>sdwdate-gui</code> <code>postinst</code>.</li>
<li>Improve handling of invalid data (based on ChatGPT Codex suggestions).</li>
<li>Add better exception handling for configuration file parse failures and refactor the main loop in <code>sdwdate_gui_client</code> to satisfy <code>pylint</code>.</li>
<li>Add <code>Depends: python3-pyinotify</code>.</li>
<li>Fix icon change failures when a Whonix-Workstation is shut down and remove confusing information from a docstring.</li>
<li>Autodetect the server socket location rather than hardcoding it in <code>sdwdate-gui-qubes-proxy-helper</code>.</li>
<li>Remove no longer necessary dependencies on <code>sudo</code>.</li>
<li>Port <code>sdwdate_gui_client.py</code> to <code>asyncio</code>/<code>pyinotify</code> instead of Qt.</li>
<li>Rename <code>sdwdate.Connect(Check)</code> to <code>sdwdate-gui.Connect(Check)</code>.</li>
<li>Change the <code>sdwdate-gui</code> tooltip to indicate that right-click opens the menu.</li>
<li>Avoid hanging with an error icon if Tor or <code>sdwdate</code> is not started when <code>sdwdate-gui-client</code> starts.</li>
<li>Make <code>sdwdate-gui</code> configuration parsing more robust, also parse <code>/usr/local/etc/sdwdate-gui.d</code>.</li>
<li>Enable Qubes-related services only on Qubes OS.</li>
<li>Disable left-click on the <code>sdwdate-gui</code> icon.</li>
<li>Add <code>rm_conffile</code> commands for migration to the new <code>sdwdate-gui</code> architecture.</li>
<li>Add more <code>sdwdate-gui</code> rewrite bug fixes.</li>
<li>Fix memory management issues in client and server.</li>
<li>Rewrite <code>sdwdate-gui</code> to use a client-server model.</li>
</ul>
</li>
<li>
<p>security-misc:</p>
<ul>
<li>Add a <code>pkexec</code> remembered-permissions fix for <code>permission-hardener</code> and fix some <code>postinst</code> bugs.</li>
<li>Remove obsolete migration code for <code>permission-hardener</code> and add initial state installation code.</li>
<li>Do not break passwordless sudo in unrestricted admin mode.</li>
<li>Port to <code>package-installed-check</code>.</li>
<li>Fix passwordless login for sensitive accounts and only deny passwordless privilege escalation.</li>
<li>Add <code>kill-vboxdrmclient-on-shutdown.service</code>.</li>
<li>Prevent non-<code>sysmaint</code> logins in <code>sysmaint</code> mode and unsafe passwordless logins in user mode.</li>
<li>Revert Force immediate kernel panic on OOM. See <a href="https://github.com/Kicksecure/security-misc/issues/324#issuecomment-3507949741" class="inline-onebox">Consider enabling `panic_on_oom`  Issue #324  Kicksecure/security-misc  GitHub</a></li>
<li>Suppress <code>usbguard</code> startup unless a USB controller is visible to <code>lspci</code>.</li>
<li>Move <code>usbguard</code> reject rules to the top.</li>
<li>Update <code>README.md</code> with information about Flatpak authentication hardening.</li>
<li>Remove Unicode characters where they were problematic.</li>
<li>Lock down Flatpak software management. Now requires sysmaint session if using user-sysmaint-split.</li>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>Do not start <code>usbguard-notifier</code> if <code>/sys/bus/usb</code> does not exist.</li>
<li>Fix <code>USBGuard-notifier</code> <code>accept</code> / <code>reject</code> buttons. See <a href="https://forums.kicksecure.com/t/usbguard-what-should-we-allow-or-disallow-by-default/1248/49" class="inline-onebox">USBGuard - what should we allow or disallow by default? - #49 by Patrick</a></li>
<li>Set USBGuard to permit USB hubs and Qubes USB passthrough.</li>
<li>Allow listing USB devices via <code>usbguard</code>.</li>
<li>Separate <code>ptrace()</code> disabling into its own file.</li>
<li>[reverted] Force immediate kernel panic on OOM. This is intended to avoid security features such as the screen locker, <code>kloak</code> and <code>emerg-shutdown</code> being terminated when the system runs out of memory. See <a href="https://forums.whonix.org/t/screen-locker-in-security-can-we-disable-these-at-least-4-backdoors/8128/14" class="inline-onebox">Screen Locker (In)Security - Can we disable these at least 4 backdoors? - #14 by arraybolt3 - Development - Whonix Forum</a> and <a href="https://github.com/Kicksecure/security-misc/issues/324" class="inline-onebox">Consider enabling `panic_on_oom`  Issue #324  Kicksecure/security-misc  GitHub</a> (<code>vm.panic_on_oom=2</code>). [reverted] (Needs future work.)</li>
<li>Update documentation on <code>slab_debug</code> for future improvements.</li>
<li>Add documentation about risks associated with IPv6 Router Advertisements.</li>
<li>Fix <code>emerg-shutdown</code> <code>gcc</code> build.</li>
<li>Allow users in the <code>qubes</code> group to access USBGuard IPC.</li>
<li>Disable usage of <code>ptrace()</code> by all processes.</li>
<li>Add additional hardening to <code>emerg-shutdown</code>.</li>
<li>Add a notice on public releases in the README.</li>
<li>Update strings for the <code>security-misc</code> split.</li>
<li><code>security-misc</code>  <code>security-misc-shared</code> package migration. See <a href="https://github.com/Kicksecure/security-misc/issues/187" class="inline-onebox">Split the `security-misc` into `security-misc-shared`, `security-misc-desktop` and `security-misc-server`  Issue #187  Kicksecure/security-misc  GitHub</a></li>
<li>Add <code>Replaces: security-misc</code></li>
<li>Add <code>security-misc-server</code> placeholder</li>
<li>Implement packaging split for <code>security-misc</code></li>
<li>Add <code>genmkfile debdistfile</code>.</li>
<li>Split <code>security-misc</code> into <code>security-misc-shared</code>, <code>security-misc-desktop</code> and <code>security-misc-server</code>, rename files. See <a href="https://github.com/Kicksecure/security-misc/issues/187" class="inline-onebox">Split the `security-misc` into `security-misc-shared`, `security-misc-desktop` and `security-misc-server`  Issue #187  Kicksecure/security-misc  GitHub</a></li>
<li>Enable <code>vmscape=force</code>.</li>
<li>Allow users in the <code>sudo</code> group to use <code>usbguard-notifier</code>.</li>
<li>Update SRSO documentation.</li>
<li>Allow USB devices that are already connected at USBGuard start time.</li>
<li>Enable USB video and audio devices, and reject USB RNDIS devices.</li>
<li>Disable RNDIS due to unfixable security issues.</li>
<li>Remove <code>initramfs-tools</code> support.</li>
<li>Disable <code>memlockd</code> service by default and fix its systemd path.</li>
<li>Disable <code>emerg-shutdown</code> and <code>ensure-shutdown</code> on Qubes OS.</li>
<li>Fix XDG handling, replace Xfce references with LXQt where appropriate, and make USBGuard configuration work correctly.</li>
<li>Update documentation on instant reboot on kernel panic.</li>
<li>Update documentation on the <code>oops</code> boot parameter.</li>
<li>Add a reference on <code>conntrack</code> helpers.</li>
<li>Enable <code>ia32_emulation=0</code>.</li>
<li>Temporarily revert IA32 documentation updates (earlier IA32 doc changes were later reverted).</li>
<li>Update the kernel panic service description.</li>
<li>Set <code>sysctl kernel.panic=-1</code>.</li>
<li>Clarify documentation on panics on <code>oops</code> and warnings (later reverted by IA32 doc revert).</li>
<li>Clarify documentation on disabling 32-bit x86 support (later reverted by IA32 doc revert).</li>
<li>Polish USBGuard configuration.</li>
<li>Remove obsolete Thunderbird configuration hardening.</li>
<li>Set hard and soft limits on core file size at the same time.</li>
<li>Move <code>security-misc/apt-get-update*</code> to <code>helper-scripts</code>.</li>
<li>Add SSH hardening configuration.</li>
<li>Update documentation on recovery restrictions.</li>
<li>Update various documents.</li>
<li>Upgrade <code>sysctl</code> settings and related documentation on kernel panics.</li>
<li>Enable <code>cfi=kcfi</code>.</li>
<li>Set soft limit for core dumps to 0 (thanks to <code>nexus$</code>).</li>
</ul>
</li>
<li>
<p>setup-dist:</p>
<ul>
<li>Adjust for new <code>rads</code> filenames.</li>
</ul>
</li>
<li>
<p>setup-wizard-dist:</p>
<ul>
<li>Port to <code>package-installed-check</code>.</li>
<li>Autostart <code>setup-wizard-dist</code> when <code>/etc/systemcheck.d/autostart</code> or <code>/usr/local/etc/systemcheck.d/autostart</code> exists (developer feature).</li>
<li>Skip the finish page inside Qubes.</li>
<li>Show which <code>done</code> file has been found in terminal output for easier debugging.</li>
<li>Fix keyboard layout change instructions for Whonix-Gateway.</li>
<li>Adjust keyboard layout change instructions for <code>labwc</code>.</li>
</ul>
</li>
<li>
<p>swap-file-creator:</p>
<ul>
<li>Allow running <code>swap-file-creator</code> inside Xen / Qubes when <code>DO_PRE_CHECK=no</code> is set.</li>
<li>Use a configuration file to allow users to disable the LUKS check and fix related issues.</li>
<li>Move to <code>helper-scripts</code>.</li>
<li>Speed up skipping behavior under Qubes.</li>
<li>Allow forcing creation of a swapfile on unencrypted systems, do not remove the swapfile if unnecessary, and adjust wording.</li>
<li>Stop creating encrypted swapfiles; only create swapfiles on LUKS volumes, delete swapfiles on shutdown, and improve <code>do_stop</code> reliability.</li>
<li>Remove <code>initramfs-tools</code> support.</li>
</ul>
</li>
<li>
<p>sysmaint-panel:</p>
<ul>
<li>Adjust to the new <code>lock-screen</code> script location.</li>
<li>Hide <code>set system keymap</code> and <code>toggle on-screen keyboard</code> buttons on Qubes OS.</li>
<li>Add a button for <code>set-system-keymap</code>.</li>
<li>Add a display configuration button.</li>
<li>Add on-screen keyboard and <code>LXQt</code> configuration buttons, and reformat code with <code>black</code>.</li>
<li>Remove dependency on <code>usability-misc</code> (required functionality moved to <code>helper-scripts</code>).</li>
<li>Move <code>security-misc/apt-get-update*</code> to <code>helper-scripts</code>.</li>
</ul>
</li>
<li>
<p>systemcheck:</p>
<ul>
<li>Detect the potential VirtualBox green turtle issue.</li>
<li>Check for <code>self-detected stall on CPU</code>.</li>
<li>Improve the system ready check.</li>
<li>Point out both failed and activating systemd units.</li>
<li>Tone down <code>tirdad</code> checks in Qubes when using <code>--verbose</code>.</li>
<li>Port to shell-based <code>br_add</code> (<code>helper-scripts</code>, <code>strings.bsh</code>) to fix:<br>
<code>/usr/libexec/systemcheck/check_services.bsh: line 51: /usr/libexec/msgcollector/br_add: Argument list too long</code></li>
<li>Silence more journal warnings.</li>
<li>Prevent a silenced harmless <code>labwc</code> error message from causing <code>systemcheck</code> to fail.</li>
<li>Silence another journal warning.</li>
<li>Wait for both of these commands:
<ul>
<li><code>systemctl --wait is-system</code></li>
<li><code>systemctl --user --wait is-system</code></li>
</ul>
</li>
<li>Fix AppArmor tests when using a non-English system locale.</li>
<li>Port to <code>light_sleep</code>.</li>
<li>Simplify the login security table now that the <code>sysmaint</code> account is no longer locked by default.</li>
<li>Improve the system ready check further.</li>
<li>Report if no systemd units failed in verbose mode.</li>
<li>Always check for failed systemd units, not only with <code>--verbose</code>.</li>
<li>Check if <code>man</code> is functional.</li>
<li>Remove undocumented <code>--test-connect</code> feature to simplify the code.</li>
<li>Polish control port and systemd status messages (thanks to <code>assisted-by-ai</code> bot).</li>
<li>Fix some mistakes in journal ignore lines and add more patterns.</li>
<li>Add new command line tool <code>updatecheck</code> and rename <code>usr/libexec/systemcheck/updatecheck</code> to <code>usr/bin/updatecheck</code>.</li>
<li><code>updatecheck</code>: add <code>leaprun system-ready-check</code>.</li>
<li><code>updatecheck</code>: improve error handling.</li>
<li>Remove an unnecessary dependency on <code>systemd</code>.</li>
<li>Fix broken pipe handling.</li>
<li>Disable <code>lockfile</code> due to bugs.</li>
<li>Wait for <code>multi-user.target</code> or <code>sysmaint.target</code>.</li>
<li>Prevent duplicate runs of <code>systemcheck</code> using a lockfile.</li>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>In <code>ex_funct</code>, fall back to the failed commands exit code if <code>EXIT_CODE</code> is empty or 0.</li>
<li>Use <code>curl --proxy-user</code> for better stream isolation.</li>
<li>Suggest migrating from <code>/etc/apt/sources.list/derivative.list</code> to <code>/etc/apt/sources.list/derivative.sources</code> using the <code>repository-dist</code> utility.</li>
<li>Remove the <code>user-sysmaint-split</code> exception for Whonix-Gateway.</li>
<li>Isolate log checking code so less privileged users cannot leak journal and <code>dmesg</code> logs.</li>
<li>Only include the <code>abstractions/tor</code> AppArmor file if it exists.</li>
<li>Make disk encryption checks substantially more robust.</li>
<li>Silence more journal warnings.</li>
<li>Remove the virtualizer success check, because <code>systemd-detect-virt</code> exits non-zero on bare metal.</li>
<li>Document a USB module load order issue under VirtualBox and silence the corresponding warning.</li>
<li>Silence more bogus journal warnings.</li>
<li>Fix Qubes network settings checks inside Qubes <code>sys-net</code>.</li>
<li>Move the deprecation notice to <code>legacy-dist</code>.</li>
<li>Hide confusing output from:<pre><code class="lang-plaintext">systemctl --global disable updatecheck.service
The unit files have no installation config (WantedBy=, RequiredBy=, UpheldBy=, Also=, or Alias= settings in the [Install] section, and DefaultInstance= for template units). This means they are not meant to be enabled or disabled using systemctl. Possible reasons for having these kinds of units are:
* A unit may be statically enabled by being symlinked from another unit's .wants/, .requires/, or .upholds/ directory.
* A unit's purpose may be to act as a helper for some other unit which has a requirement dependency on it.
* A unit may be started when needed via activation (socket, path, timer, D-Bus, udev, scripted systemctl call, ...).
* In case of template units, the unit is meant to be enabled with some instance name specified.
</code></pre>
</li>
<li>Comment and dependency changes for the <code>security-misc</code> split.</li>
<li>Switch to using <code>light_sleep</code> in <code>canary-daemon</code>.</li>
<li>Switch to using <code>deb822</code> sources.</li>
<li>Move <code>security-misc/apt-get-update*</code> to <code>helper-scripts</code>.</li>
</ul>
</li>
<li>
<p>tb-starter:</p>
<ul>
<li>Do not make Tor Browser the default image viewer.</li>
<li>Adjust for Wayland compatibility and remove the obsolete <code>tb-default-browser</code> dependency.</li>
</ul>
</li>
<li>
<p>tb-updater:</p>
<ul>
<li>Remove an unnecessary dependency on <code>sudo</code>.</li>
<li>Use <code>curl --proxy-user</code> for stream isolation.</li>
<li>Un-reverse <code>chroot-pre</code> and <code>chroot-post</code>.</li>
<li>Re-enable <code>chroot</code> handling and make it safer.</li>
<li>Adjust for LXQt/Wayland and remove obsolete dependency on <code>tb-default-browser</code>.</li>
<li>Fix default behavior in Qubes Templates: skip the network interface availability test by default, because Qubes Templates are non-networked by default. (Thanks to <code>baxter</code>.) See <a href="https://forums.whonix.org/t/tor-browser-downloader-fails-in-whonix-workstation-17-template/22060" class="inline-onebox">Tor browser downloader fails in whonix-workstation-17 template - Qubes-Whonix - Whonix Forum</a></li>
</ul>
</li>
<li>
<p>tor-control-panel:</p>
<ul>
<li>Fix the journal log viewer.</li>
<li>Avoid an either/or dependency bug.</li>
</ul>
</li>
<li>
<p>usability-misc:</p>
<ul>
<li>Skip <code>set-grub-keymap</code> in Qubes.</li>
<li>Silence spurious messages from Lintian.</li>
<li>Do not try to run <code>set-grub-keymap</code> in a chroot at all.</li>
<li>Do not update GRUB when building GRUB keyboard layouts if running in a chroot.</li>
<li>Fix GRUB keyboard options menu and generate GRUB keyboard layouts on upgrade or installation when possible.</li>
<li>Move the keyboard menu to the bottom of the boot menu.</li>
<li>Add a keyboard layout menu to GRUB.</li>
<li>Detect <code>user-sysmaint-split</code>.</li>
<li><code>dist-installer-cli</code>: fix by running <code>chmod o+r</code> on created sources list files.</li>
<li>Remove a problematic <code>tty</code> check from <code>50_default_editor.sh</code>.</li>
<li>Simplify code by merging <code>/usr/libexec/default-editor/default_editor.sh</code> into <code>/etc/profile.d/50_default_editor.sh</code>.</li>
<li><code>/usr/libexec/default-editor/default_editor.sh</code>: set default editor to <code>featherpad</code> (part of the port to LXQt).</li>
<li>Polish additional <code>dist-installer</code> messaging grammar (thanks to <code>assisted-by-ai</code> bot).</li>
<li>Add tests for <code>run_as_target_user</code>.</li>
<li>Enable <code>systemd-journald</code> audit transport, required by <code>apparmor-info</code> and <code>apparmor-watch</code>. Run <code>deb-systemd-helper enable systemd-journald-audit.socket</code>. Debian no longer enables <code>systemd-journald-audit.socket</code> by default (see <a href="https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1038993">Debian bug #1038993</a>).</li>
<li>Keep <code>polkit-mate-authentication-agent-1</code> from launching when it is unnecessary.</li>
<li>Suppress startup of USBGuard-related units if no USB controller is found on the system.</li>
<li>Add a missing <code>preinst</code> script header.</li>
<li><code>dist-installer-cli</code> (Trixie-based): install VirtualBox from the Oracle repository because VirtualBox is not yet in Debian <code>fasttrack</code> and Debian <code>unstable</code> is no longer compatible with Trixie.</li>
<li>Move <code>passwordless-root</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>dist-virtual-keyboard</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li><code>dist-virtual-keyboard</code>: port to <code>start-stop-daemon</code>.</li>
<li>Add a wrapper script and desktop files for the virtual keyboard.</li>
<li>Switch default file manager to <code>PCManFM-Qt</code>.</li>
<li><code>dist-installer-cli</code>: use a more minimal APT pinning configuration.</li>
<li><code>dist-installer-cli</code>: adjust APT pinning to handle cases where <code>sid</code> is used instead of the generic <code>unstable</code> suite.</li>
<li><code>dist-installer-cli</code>: implement <code>--noupgrade</code> development option to ignore pending upgrades.</li>
<li><code>dist-installer-cli</code>: Fedora VirtualBox version bump.</li>
<li><code>dist-installer-cli</code>: fix APT pinning to prefer <code>stable</code> (<code>trixie</code> at the time of writing) over <code>unstable</code>.</li>
<li><code>dist-installer-cli</code>: fix so it does not enable the <code>unstable</code> repository as a fallback.</li>
<li><code>dist-installer-cli</code>: support new key location <code>/usr/share/keyrings/debian-archive-keyring.pgp</code>.</li>
<li><code>dist-installer-cli</code>: test whether the <code>signed-by</code> key exists.</li>
<li><code>dist-installer-cli</code>: add Kali <code>signed-by</code> handling.</li>
<li>Move <code>config-package-dev</code> displace handling from <code>desktop-config-dist</code> to <code>usability-misc</code>.</li>
<li>Fix packaging: migrate <code>zsh</code> configuration files for <code>config-package-dev</code>.</li>
<li>Restore the <code>Flameshot</code> executable displace that was dropped by accident.</li>
<li>Add <code>Breaks</code>/<code>Replaces</code> against <code>desktop-config-dist (&lt;&lt; 3:13.8-1)</code>.</li>
<li>Delete superfluous man pages.</li>
<li>Import <code>zsh</code> configuration from <code>desktop-config-dist</code>.</li>
<li><code>dist-installer-cli</code>: string changes for <code>security-misc</code> split.</li>
<li><code>curl-download</code> / <code>scurl-download</code>: port to <code>wcurl</code>.</li>
<li>Add <code>Flameshot</code> compatibility wrapper.</li>
<li>Fix VirtualBox with Linux 6.12 and higher.</li>
<li>Keep VirtualBox and KVM from conflicting.</li>
<li>Move <code>dpkg-noninteractive</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Adjust for Wayland/LXQt.</li>
<li><code>dist-installer-cli</code>: add <code>deb822</code> support, make variable handling safer, and rename some variables.</li>
<li><code>dist-installer-cli</code>: reduce <code>testing</code> and <code>unstable</code> pin priority to avoid unintentionally upgrading a system to Testing or Sid.</li>
<li>Move <code>upgrade-nonroot</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-reset</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-noninteractive</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Move <code>apt-get-update-plus</code> from <code>usability-misc</code> to <code>helper-scripts</code>.</li>
<li>Remove <code>apt-cacher-ng-prepare/undo</code>; image builds now use <code>approx</code> instead.</li>
</ul>
</li>
<li>
<p>user-sysmaint-split:</p>
<ul>
<li>Remove <code>qubes-whonix-sysinit.service</code>.</li>
<li>Ensure <code>sysmaint</code> account password is unlocked upon creation since a PAM-based locking mechanism is used.</li>
<li>Add <code>After=systemd-tmpfiles-setup.service</code> to wait for <code>systemd-tmpfiles-setup.service</code> to create <code>/run/qubes-rpc</code>.</li>
<li>Add <code>sysmaint-boot</code> dependency on <code>kill-vboxdrmclient-on-shutdown.service</code>.</li>
<li>Stop locking the <code>sysmaint</code> account and remove <code>xscreensaver</code> code.</li>
<li>Improve exposure of informational and error messages in <code>sysmaint-boot.service</code>.</li>
<li>Hide the <code>gsmartcontrol</code> start menu entry because it is incompatible with <code>user-sysmaint-split</code>.</li>
<li>Restrict <code>su-to-root</code> (similar to <code>sudo</code>) so it is non-executable for non-root users, making failures clearer.</li>
<li>Clean up a previous <code>sysmaint</code> graphical session when starting a new one if needed.</li>
<li>Fix <code>lxqt-powermanagement</code> startup; it was starting too early.</li>
<li>Start <code>lxqt-powermanagement</code> in <code>sysmaint</code> sessions for sleep and screen locking.</li>
<li>Add more important systemd units to <code>sysmaint-boot.target</code>.</li>
<li>Start <code>qubes-bind-dirs.service</code> in <code>sysmaint</code> sessions.</li>
<li>Start <code>qubes-updates-proxy.service</code> in <code>sysmaint</code> sessions to fix template updates when Whonix-Gateway (<code>sys-whonix</code>) is booted in <code>sysmaint</code> mode.</li>
<li>Use standardized detection of <code>kernel_cmdline</code>.</li>
<li>Change default to <code>sysmaint_session_wayland='yes'</code>.</li>
<li>Enable backlight restore in <code>sysmaint</code> sessions.</li>
<li>Run <code>wlr-resize-watcher</code> in <code>sysmaint</code> sessions.</li>
<li>Enable passwordless root in Qubes unrestricted admin mode when the user password is locked.</li>
<li>Avoid crashing <code>greetd</code> when <code>sysmaint</code> autologin is disabled.</li>
<li>Stop logging into a full desktop session when <code>sysmaint</code> autologin is disabled.</li>
<li>Enable merged configuration in <code>labwc</code>.</li>
<li>Export <code>LABWC_PID</code> to allow easier compositor reconfiguration.</li>
<li>Set <code>XDG_SESSION_TYPE</code> correctly in <code>sysmaint</code> sessions.</li>
<li>Stop disabling UUIDs in <code>grub.cfg</code>.</li>
<li>Fix <code>sysmaint</code> Wayland session startup on physical hardware.</li>
<li>Adjust comments and dependencies for the <code>security-misc</code> split.</li>
<li>Signal to the system when the Wayland session has started.</li>
<li>Fix memory ballooning under Qubes OS.</li>
<li>Avoid spurious error messages if <code>/etc/X11/default-display-manager</code> does not exist.</li>
<li>Fix <code>sysmaint</code> session Qt theming.</li>
<li>Unmute audio in the <code>sysmaint</code> session since there is no easy way for users to unmute it otherwise.</li>
<li>Autostart <code>LXQt</code> notification service.</li>
<li>Switch back from <code>lxqt-policykit</code> to <code>mate-polkit</code>.</li>
<li>Remove <code>initramfs-tools</code> support.</li>
<li>Improve Wayland support.</li>
<li>Do not source Bash scripts from POSIX <code>sh</code> <code>grub.d</code> scripts.</li>
<li>Do not unset <code>GRUB_DEVICE_UUID</code> unless using <code>initramfs-tools</code>.</li>
</ul>
</li>
<li>
<p>vm-config-dist:</p>
<ul>
<li>Set <code>labwc</code> resolution to <code>1024x768</code> by default under Xen. This is to work arround various Qubes HVM upstream issues: <a href="https://forums.kicksecure.com/t/kicksecure-for-qubes-hvm-issues/1372" class="inline-onebox">Kicksecure for Qubes - HVM Issues</a></li>
<li>Port to <code>package-installed-check</code>.</li>
<li>Bring back <code>vbox-guest-installer</code>.</li>
<li>Delay <code>suppress-power-management-in-vms.service</code> until <code>tmp.mount</code> is finished.</li>
<li>Ensure <code>vm-config-dist</code> <code>XDG_CONFIG_DIRS</code> settings take precedence over <code>desktop-config-dist</code>.</li>
<li>Make <code>vm-config-dist</code> safe for installation on all platforms and remove unneeded code.</li>
<li>Disable <code>wlr_resize_watcher</code> on physical hardware, remove <code>/mnt/shared</code> bookmarks on platforms other than VirtualBox and KVM, and make <code>postinst</code> safe.</li>
<li>Use better settings for disabling <code>LXQt</code> power management.</li>
<li>Suppress VM power management under <code>LXQt</code>.</li>
<li>Switch from <code>glxinfo</code> to <code>eglinfo</code> in <code>/etc/profile.d/20_software_rendering_in_vms.sh</code>.</li>
<li>Simplify code by removing unmaintained KDE-related functionality.</li>
<li>Stop shipping <code>config-package-dev displace</code> for <code>/etc/gdm3/daemon.conf.dist</code> and <code>undisplace</code> for the same file, because <code>gdm3</code> is no longer supported out of the box. Autologin in VMs is now handled by <code>autologinchange</code>.</li>
<li><code>wlr_resize_watcher</code>: set all displays to <code>1920x1080</code> when dynamic resizing is not possible.</li>
<li>Do not start <code>wlr-resize-watcher</code> needlessly in Qubes.</li>
<li>Add <code>Depends: python3-pyudev</code> for <code>wlr-resize-watcher</code>.</li>
<li>Suppress unwanted PIDs being written to stdout in <code>wlr-resize-watcher</code>.</li>
<li>In <code>wlr-resize-watcher</code>, do not error out if an expected but nonessential component is missing.</li>
<li>Add hypervisor-specific graphics helper checks to <code>wlr_resize_watcher</code>.</li>
<li>Make <code>wlr_resize_watcher.py</code> valid as a standalone Python executable.</li>
<li>Clean up and reformat <code>wlr_resize_watcher</code> with <code>black</code>.</li>
<li>Fix <code>wlr_resize_watcher</code> <code>mypy</code> and <code>pylint</code> issues.</li>
<li>Add a tool for dynamic resolution resizing on <code>wlroots</code>-based compositors.</li>
<li>Fix <code>spice-vdagent</code> wrapper.</li>
<li>Fix <code>AC97</code> audio speed.</li>
<li>Make <code>spice-vdagent</code> able to launch under Wayland via <code>Xwayland</code>.</li>
<li>Switch from <code>p7zip-full</code> to <code>7zip</code>.</li>
<li>Fix XDG handling.</li>
</ul>
</li>
<li>
<p>qubes-template-kicksecure:</p>
<ul>
<li>Fix failure to install <code>firmware-nonfreedom</code> during template build.</li>
<li>Fix metapackage name and point to the <code>trixie-developers</code> repository.</li>
<li>Use <code>pcmanfm-qt</code> instead of <code>Thunar</code>.</li>
<li>Remove <code>apt-key</code> call, which no longer exists in Debian 13.</li>
<li>Switch to <code>LXQt</code>.</li>
<li>Switch to using <code>deb822</code> sources.</li>
</ul>
</li>
<li>
<p>derivative-maker:</p>
<ul>
<li>Fix theming for the ISO keyboard layout menu.</li>
<li>Avoid shredding the hostname when the build hosts hostname matches.</li>
<li>Port to <code>package-installed-check</code>.</li>
<li>Generate GRUB keyboard layout files during image builds.</li>
<li>Fix more reliable <code>chmod +r</code> for <code>debian.sources</code>.</li>
<li>Make <code>grml-debootstrap</code> able to set locale to <code>en_US.UTF-8</code> during image builds.</li>
<li>Do not yet install VirtualBox by default inside the <code>cowbuilder</code> chroot. Enable after running <code>build-steps.d/*_create-vbox-vm</code> inside the chroot. (Needs further work.)</li>
<li>Enable passwordless sudo for the current user (<code>$USER</code>) after the build process starts to avoid <code>sudo: a password is required</code> errors.</li>
<li>For ISO builds, ensure <code>/etc/apt/sources.list.d/debian.sources</code> is readable by others.</li>
<li>Update VirtualBox download links for the Whonix Windows Installer.</li>
<li>Stop downloading VirtualBox from Debian <code>unstable</code> / <code>sid</code> because it is no longer compatible with <code>trixie</code>.</li>
<li>Install <code>user-sysmaint-split</code> by default also on Whonix-Gateway VMs.</li>
<li>Clear repository metadata from <code>approx</code>s cache before a build.</li>
<li>Add VirtualBox guest additions from Debian <code>unstable</code> to the ISO.</li>
<li>Use consistent options for <code>dist-installer-cli</code> (VirtualBox installer by Kicksecure developers) on the build host and inside <code>pbuilder-chroot-script-virtualbox</code>.</li>
<li>Simplify code.</li>
<li>Isolate the APT state directory when using temporary APT repositories.</li>
<li>Fix stray mount device tests when using <code>--target root</code>.</li>
<li>VirtualBox version bump.</li>
<li>Run <code>virtualbox-installer</code> with <code>--noupdate</code> because the system has already been updated; this avoids race conditions when new updates appear during the build.</li>
<li>Disable VBox clipboard sharing and drag and drop.</li>
<li>Fix <code>tirdad</code> package cleanup and switch back to AC97 audio for VirtualBox.</li>
<li>Add <code>lxqt-wayland-session</code>.</li>
<li>Bump RAM for CLI VMs to <code>768M</code> to prevent freezing.</li>
<li>Fix Kicksecure CLI VM builds (now referred to as <code>server</code>).</li>
<li>Code cleanup: Remove no longer Ubuntu sources which were no longer used for many years.</li>
<li>Fix origin and label for Trixie.</li>
<li>Revert incorrect <code>bullseye</code> / <code>bookworm</code> labels.</li>
<li>Add temporary workarounds for the port to Trixie.</li>
<li><code>check-operating-system-version</code>: allow Bookworm to build Trixie based images.</li>
<li>Remove support for <code>initramfs-tools</code>.</li>
<li>Port to Debian Trixie.</li>
</ul>
</li>
</ul>
<hr>
<h1><a name="p-3686-full-difference-of-all-changes-6" class="anchor" href="https://forums.kicksecure.com#p-3686-full-difference-of-all-changes-6"></a>Full difference of all changes</h1>
<p><a href="https://github.com/Kicksecure/derivative-maker/compare/17.4.4.6-developers-only...18.0.8.7-developers-only">https://github.com/Kicksecure/derivative-maker/compare/17.4.4.6-developers-only18.0.8.7-developers-only</a></p>
<hr>
<p>(This forum post was previously a call for testers. No release critical bugs where found during the testing period. This forum post was therefore <a href="https://forums.whonix.org/t/transform-whonix-testers-wanted-forum-news-post-into-whonix-release-forum-news-post-ok/11405">transformed</a> into a stable release announcement. See edit history.)</p>
          <p><a href="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375/1</link>
        <pubDate>Thu, 27 Nov 2025 12:00:17 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1375-1</guid>
        <source url="https://forums.kicksecure.com/t/kicksecure-18-released-major-release-upgrade/1375.rss">Kicksecure 18 Released! Major Release Upgrade!</source>
      </item>
  </channel>
</rss>
