<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Sdwdate broken after upgrade to Kicksecure 18: Missing SECCOMP syscalls (statx, fstatfs, epoll_pwait2)</title>
    <link>https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412</link>
    <description>Hello everyone!

After upgrading from Kicksecure 17 to 18 I noticed that `sdwdate` never finished syncing time. After checking the logs I found several lines similar to this,

`SECCOMP auid=4294967295 uid=117 gid=130 ses=4294967295 subj=unconfined pid=6319 comm=“leaprun” exe=“/usr/bin/python3.13” sig=31 arch=c000003e syscall=332 compat=0 ip=0x7c87efbaf31a code=0x80000000`

By following the instructions on [Debugging Systemd Seccomp](https://www.kicksecure.com/wiki/Seccomp), I figure out that syscalls 332 (statx), 138 (fstatfs) and 441 (epoll_pwait2) needed to be added to `SystemCallFilter=`. And indeed after doing that the issue was completely fixed. Architecture is x86_64.

Sorry if this is not the correct category, I wasn’t sure if I should post this on Support or Development.</description>
    
    <lastBuildDate>Tue, 23 Dec 2025 00:09:51 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Sdwdate broken after upgrade to Kicksecure 18: Missing SECCOMP syscalls (statx, fstatfs, epoll_pwait2)</title>
        <dc:creator><![CDATA[arraybolt3]]></dc:creator>
        <description><![CDATA[
            <p>Odd that we didn’t run into this during development. Are you using this on baremetal or in a virtual machine? Could you share some details of your hardware or hypervisor if possible? That might help us reproduce the issue.</p>
<p>(All three of those system calls sound pretty benign, so we can probably add them to the filter even if we can’t reproduce this.)</p>
          <p><a href="https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412/2</link>
        <pubDate>Tue, 23 Dec 2025 00:09:51 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1412-2</guid>
        <source url="https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412.rss">Sdwdate broken after upgrade to Kicksecure 18: Missing SECCOMP syscalls (statx, fstatfs, epoll_pwait2)</source>
      </item>
      <item>
        <title>Sdwdate broken after upgrade to Kicksecure 18: Missing SECCOMP syscalls (statx, fstatfs, epoll_pwait2)</title>
        <dc:creator><![CDATA[oblivion_devourer]]></dc:creator>
        <description><![CDATA[
            <p>Hello everyone!</p>
<p>After upgrading from Kicksecure 17 to 18 I noticed that <code>sdwdate</code> never finished syncing time. After checking the logs I found several lines similar to this,</p>
<p><code>SECCOMP auid=4294967295 uid=117 gid=130 ses=4294967295 subj=unconfined pid=6319 comm=“leaprun” exe=“/usr/bin/python3.13” sig=31 arch=c000003e syscall=332 compat=0 ip=0x7c87efbaf31a code=0x80000000</code></p>
<p>By following the instructions on <a href="https://www.kicksecure.com/wiki/Seccomp" rel="noopener nofollow ugc">Debugging Systemd Seccomp</a>, I figure out that syscalls 332 (statx), 138 (fstatfs) and 441 (epoll_pwait2) needed to be added to <code>SystemCallFilter=</code>. And indeed after doing that the issue was completely fixed. Architecture is x86_64.</p>
<p>Sorry if this is not the correct category, I wasn’t sure if I should post this on Support or Development.</p>
          <p><a href="https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412/1</link>
        <pubDate>Mon, 22 Dec 2025 12:34:48 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1412-1</guid>
        <source url="https://forums.kicksecure.com/t/sdwdate-broken-after-upgrade-to-kicksecure-18-missing-seccomp-syscalls-statx-fstatfs-epoll-pwait2/1412.rss">Sdwdate broken after upgrade to Kicksecure 18: Missing SECCOMP syscalls (statx, fstatfs, epoll_pwait2)</source>
      </item>
  </channel>
</rss>
