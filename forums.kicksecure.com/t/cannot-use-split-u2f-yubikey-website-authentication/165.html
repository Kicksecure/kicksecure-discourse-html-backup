<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Cannot use split-u2f (yubikey website authentication) - Qubes - Kicksecure Forums</title>
    <meta name="description" content="From a debian-11-minimal I created the following templates: 
ks-16-firefox: 
debian-11-minimal ---&amp;gt; ks-16-minimal ---&amp;gt; ks-16-firefox

debian-11-firefox: 
debian-11-minimal ---&amp;gt; debian-11-firefox

The only difference betw&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.1 - https://github.com/discourse/discourse version 623b49dd03724c7934468eb0a7701fc083fc510f">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="165.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_f2dba609a498ee8b87d95255f1e13eb97cfd7c12.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_f2dba609a498ee8b87d95255f1e13eb97cfd7c126?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27desktop_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27checklist_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27discourse-details_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_de567426f1f7d3cbf704f27a6782329d4fbf409861cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27docker_manager_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27footnote_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27poll_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_de567426f1f7d3cbf704f27a6782329d4fbf4098.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_de567426f1f7d3cbf704f27a6782329d4fbf409861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_e76312e5ce357d16d42ca3e4b062d2348274d72b.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_e76312e5ce357d16d42ca3e4b062d2348274d72b61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_c17f5071e9a0d51e37e57ff229b37e74d7fed8fa.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_c17f5071e9a0d51e37e57ff229b37e74d7fed8fa61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Cannot use split-u2f (yubikey website authentication)&#39;" href="165.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/cannot-use-split-u2f-yubikey-website-authentication/165" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/cannot-use-split-u2f-yubikey-website-authentication/165" />
<meta property="og:title" content="Cannot use split-u2f (yubikey website authentication)" />
<meta name="twitter:title" content="Cannot use split-u2f (yubikey website authentication)" />
<meta property="og:description" content="From a debian-11-minimal I created the following templates:  ks-16-firefox:  debian-11-minimal ---&gt; ks-16-minimal ---&gt; ks-16-firefox  debian-11-firefox:  debian-11-minimal ---&gt; debian-11-firefox  The only difference between these two templates are the following packages:  hardened-malloc haveged jitterentropy-rngd kicksecure-qubes-cli security-misc  The other packages, including qubes-u2f, have been installed in both templates.  For practicality, I then created a DispVM Template for debian-11-fi..." />
<meta name="twitter:description" content="From a debian-11-minimal I created the following templates:  ks-16-firefox:  debian-11-minimal ---&gt; ks-16-minimal ---&gt; ks-16-firefox  debian-11-firefox:  debian-11-minimal ---&gt; debian-11-firefox  The only difference between these two templates are the following packages:  hardened-malloc haveged jitterentropy-rngd kicksecure-qubes-cli security-misc  The other packages, including qubes-u2f, have been installed in both templates.  For practicality, I then created a DispVM Template for debian-11-fi..." />
<meta property="og:article:section" content="Qubes" />
<meta property="og:article:section:color" content="0088CC" />
<meta property="article:published_time" content="2022-12-01T16:04:50+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="165.html">Cannot use split-u2f (yubikey website authentication)</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/qubes/8.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Qubes</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Cannot use split-u2f (yubikey website authentication)'>
      <link itemprop='url' href='165.html'>
      <meta itemprop='datePublished' content='2022-12-01T16:04:50Z'>
        <meta itemprop='articleSection' content='Qubes'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/udyv301'><span itemprop='name'>udyv301</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="165.html">


              <span class="crawler-post-infos">
                  <time  datetime='2022-12-01T16:04:50Z' class='post-time'>
                    December 1, 2022,  4:04pm
                  </time>
                  <meta itemprop='dateModified' content='2022-12-01T16:04:50Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>From a debian-11-minimal I created the following templates:<br>
<code>ks-16-firefox</code>:</p>
<pre><code class="lang-auto">debian-11-minimal ---&gt; ks-16-minimal ---&gt; ks-16-firefox
</code></pre>
<p><code>debian-11-firefox</code>:</p>
<pre><code class="lang-auto">debian-11-minimal ---&gt; debian-11-firefox
</code></pre>
<p>The <strong>only</strong> difference between these two templates are the following packages:</p>
<pre><code class="lang-auto">hardened-malloc
haveged
jitterentropy-rngd
kicksecure-qubes-cli
security-misc
</code></pre>
<p>The other packages, including <code>qubes-u2f</code>, have been installed in both templates.</p>
<p>For practicality, I then created a DispVM Template for <code>debian-11-firefox</code> and another for <code>ks-16-firefox</code>.</p>
<p>The problem is that if I launch <code>firefox-esr</code> in a DispVM based off of <code>ks-16-firefox</code>, u2f authentication with a yubikey doesn’t work. However, with the same settings and website, everything works fine in the DispVM based off of <code>debian-11-firefox</code>.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/udyv301'><span itemprop='name'>udyv301</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-01-10T14:57:37Z' class='post-time'>
                    January 10, 2023,  2:57pm
                  </time>
                  <meta itemprop='dateModified' content='2023-01-10T15:00:34Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Still made zero progress on this.</p>
<p>Could something in <code>security-misc</code> prevent <code>qubes-u2f</code> policies from working correctly?</p>
<p>Or maybe it’s preventing the browser from accessing it?</p>
<p>The yubikey is never actually attached to the dispvm and is instead attached to sys-usb, which uses a template based on kicksecure. And just to be very specific, everything works fine with firefox in normal debian-minimal dispvm.</p>
<p>Please advise, I really need this to work, any help welcome!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/procShield'><span itemprop='name'>procShield</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2023-10-31T01:07:05Z' class='post-time'>
                    October 31, 2023,  1:07am
                  </time>
                  <meta itemprop='dateModified' content='2023-10-31T01:07:05Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This is a good question. Tor-based applications (browser) tend for some reason to be incompatible with security key authentication. Now why is that any different from some onion sites requiring passwords and identification? There are onionsites that shibboleth, so the user and the site are not entirely unacquainted but the path to the site is still as anonymous as possible.</p>
<p>OTP requires third servers so there is the possibility of leak but a shared secret through an anonymized connection should not present any design obstacles. Why cant FIDO in theory remain anonymous and rigidly designate at the same time? Do you really even need to trust the integrity of the onionsite? It just appears as this random rigid designation coming from could be anywhere.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
