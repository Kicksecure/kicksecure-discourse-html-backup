<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Everything works, just one question about networking - Support - Kicksecure Forums</title>
    <meta name="description" content="Hi! Using Kicksecure for KVM, version 16.0.5.3. Thank you btw, this is insanely awesome. 
I noticed that Kicksecure is using dhcp to dymanically assign an IP address to its eth0 interface. This requires that ports 67,68,&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.0 - https://github.com/discourse/discourse version 22f2a554ef3d1e1494defd49ba4c8aec9c821aae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="96.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e77.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e776?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a839.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a83961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Everything works, just one question about networking&#39;" href="96.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/everything-works-just-one-question-about-networking/96" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/everything-works-just-one-question-about-networking/96" />
<meta property="og:title" content="Everything works, just one question about networking" />
<meta name="twitter:title" content="Everything works, just one question about networking" />
<meta property="og:description" content="Hi! Using Kicksecure for KVM, version 16.0.5.3. Thank you btw, this is insanely awesome.  I noticed that Kicksecure is using dhcp to dymanically assign an IP address to its eth0 interface. This requires that ports 67,68,53 are open on the virtual network device, which I’m trying to avoid.  I would instead like a static IP address to be assigned. In my case something in the 10.0.2.0/24 range, because my virtual network IP is 10.0.2.2  Would assigning an IP in /etc/network/interfaces and adding a ..." />
<meta name="twitter:description" content="Hi! Using Kicksecure for KVM, version 16.0.5.3. Thank you btw, this is insanely awesome.  I noticed that Kicksecure is using dhcp to dymanically assign an IP address to its eth0 interface. This requires that ports 67,68,53 are open on the virtual network device, which I’m trying to avoid.  I would instead like a static IP address to be assigned. In my case something in the 10.0.2.0/24 range, because my virtual network IP is 10.0.2.2  Would assigning an IP in /etc/network/interfaces and adding a ..." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="0088CC" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="3 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ❤" />
<meta property="article:published_time" content="2022-08-12T09:42:55+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="96.html">Everything works, just one question about networking</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/support/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Everything works, just one question about networking'>
      <link itemprop='url' href='96.html'>
      <meta itemprop='datePublished' content='2022-08-12T09:42:55Z'>
        <meta itemprop='articleSection' content='Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/alexa_tanner'><span itemprop='name'>alexa_tanner</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="96.html">


              <span class="crawler-post-infos">
                  <time  datetime='2022-08-12T09:42:55Z' class='post-time'>
                    August 12, 2022,  9:42am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T10:02:51Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Hi! Using Kicksecure for KVM, version 16.0.5.3. Thank you btw, this is insanely awesome.</p>
<p>I noticed that Kicksecure is using dhcp to dymanically assign an IP address to its eth0 interface. This requires that ports 67,68,53 are open on the virtual network device, which I’m trying to avoid.</p>
<p>I would instead like a static IP address to be assigned. In my case something in the 10.0.2.0/24 range, because my virtual network IP is 10.0.2.2</p>
<p>Would assigning an IP in /etc/network/interfaces and adding a route to the gateway break anything?</p>
<p>Here is my network xml for Kicksecure.</p>
<pre><code class="lang-auto">&lt;network&gt;
  &lt;name&gt;kick_net&lt;/name&gt;
  &lt;forward dev='eth2' mode='nat'&gt;
    &lt;interface dev='eth2'/&gt;
  &lt;/forward&gt;
  &lt;bridge name='virbr1' stp='on' delay='0'/&gt;
  &lt;ip address='10.0.2.2' netmask='255.255.255.0'&gt;
      &lt;dhcp&gt;
         &lt;range start='10.0.2.5' end='10.0.2.254''&gt;
     &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;
</code></pre>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-12T10:50:19Z' class='post-time'>
                    August 12, 2022, 10:50am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T10:50:19Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Thank you!</p>
<p>For Kicksecure, any network configuration as per user customization should be fine. Disabling DHCP and using static networking, yes, why not, as long as it works…</p>
<p>//cc <a class="mention" href="../../../external.html?link=https://forums.kicksecure.com/u/hulahoop">@HulaHoop</a> Kicksecure KVM maintainer</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/HulaHoop'><span itemprop='name'>HulaHoop</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-12T11:57:51Z' class='post-time'>
                    August 12, 2022, 11:57am
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T11:57:51Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="alexa_tanner" data-post="1" data-topic="96">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/a/96bed5/48.png" class="avatar"> alexa_tanner:</div>
<blockquote>
<p>I noticed that Kicksecure is using dhcp to dymanically assign an IP address to its eth0 interface. This requires that ports 67,68,53 are open on the virtual network device, which I’m trying to avoid.</p>
</blockquote>
</aside>
<p>FYI there’s no security problem because the KS VM is behind an NAT on its own dedicated IP range, but it is indeed possible to configure it as you like.</p>
<aside class="quote no-group" data-username="alexa_tanner" data-post="1" data-topic="96">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/a/96bed5/48.png" class="avatar"> alexa_tanner:</div>
<blockquote>
<p>Would assigning an IP in /etc/network/interfaces and adding a route to the gateway break anything?</p>
</blockquote>
</aside>
<p>No, assuming that you don’t have another VM on the same LAN with an identical IP. You can set a static IP either via the VM XML or by editing the network config files inside it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/alexa_tanner'><span itemprop='name'>alexa_tanner</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-12T14:50:23Z' class='post-time'>
                    August 12, 2022,  2:50pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T15:37:18Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>No, assuming that you don’t have another VM on the same LAN with an identical IP. You can set a static IP either via the VM XML or by editing the network config files inside it.</p>
</blockquote>
<p>Hello HulaHoop and Patrick, thanks for the reply!</p>
<p>I couldn’t find the network config files inside, unfortunately.</p>
<p>There is no /etc/network/interfaces or /etc/network/interfaces.d/ 30_kicksecure. I tried creating it, or even mess with kicksecure-network-conf, but not luck.</p>
<p>I found my own “ghetto” solution so far.</p>
<p>1.) editing /etc/hosts and adding <code>127.0.0.1    localhost.localdomain</code><br>
because without dhcp the hostname isn’t localhost, but localhost.localdomain<br>
2.) <code>ifconfig eth0 10.0.2.150 netmask 255.255.255.0</code><br>
3.)<code> ip route add default via 10.0.2.2</code></p>
<p>This gets everything working, but it’s not persistent, so I put a script executing it in autostart.</p>
<p>If you could point me to the config files or possibly a better solution that would be awesome. Thanks again man! <img src="../../images/emoji/twitter/grinninge5bf.png?v=12" title=":grinning:" class="emoji" alt=":grinning:" loading="lazy" width="20" height="20"></p>
<blockquote>
<p>FYI there’s no security problem because the KS VM is behind an NAT on its own dedicated IP range, but it is indeed possible to configure it as you like.</p>
</blockquote>
<p>I see, you’re saying that there wouldn’t be any risk with these ports open because it’s invisible to the guest anyway?</p>
<p>I went through a bunch of KVM documentation and forums. Some people are suggesting that the virtual network device shouldn’t have open ports because it would make it easier for an attacker to “break out of the vm”. I’m not gonna pretend to understand that, but it’s why I opted for a static IP.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-12T15:32:08Z' class='post-time'>
                    August 12, 2022,  3:32pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T15:32:08Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Package <a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-network-conf" class="inline-onebox">GitHub - Kicksecure/kicksecure-network-conf</a> currently does at time of writing very little. See package description.</p>
<p>At time of writing, Kicksecure does not modify file /etc/network/interfaces or place files in /etc/network/interfaces.d/ folder.</p>
<p>Networking related packages, see:</p>
<pre><code>apt-cache show kicksecure-network-conf
</code></pre>
<p>Static network configuration can only be set up as per <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Free_Support_Principle">https://www.kicksecure.com/wiki/Free_Support_Principle</a></p>
<aside class="quote no-group quote-modified" data-username="alexa_tanner" data-post="4" data-topic="96">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/a/96bed5/48.png" class="avatar"> alexa_tanner:</div>
<blockquote>
<p>I see, you’re saying that there wouldn’t bea any risk with these ports open because it’s invisible to the guest anyway?</p>
</blockquote>
</aside>
<p>I don’t think Kicksecure for KVM opens any ports that are reachable from the host? Kicksecure should come without any open ports by default anyhow. And even if a server (such as nginx) gets installed inside the VM that opens a server port is is actually non-trivial to make such ports accessible on the host, something not happening by accident?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/alexa_tanner'><span itemprop='name'>alexa_tanner</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-12T18:15:51Z' class='post-time'>
                    August 12, 2022,  6:15pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-12T18:18:39Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <blockquote>
<p>Static network configuration can only be set up as per <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Free_Support_Principle" rel="noopener nofollow ugc">https://www.kicksecure.com/wiki/Free_Support_Principle </a></p>
</blockquote>
<p>My apologies for occupying resources, I’m definitely gonna support this project.</p>
<p>I read the documentation, and two methods are outlined to assign a static IP via  XML.</p>
<p>1.) Adding an ip section to the VM xml  - here the network portion of the Kicksecure.xml</p>
<pre><code class="lang-auto">    &lt;interface type='network'&gt;
      &lt;mac address='52:54:00:c6:f6:27'/&gt;
      &lt;source network='super' portid='e3de0cc2-97f4-4e4a-a16b-24bd5ec6de21' bridge='virbr1'/&gt;
      &lt;target dev='vnet2'/&gt;
      &lt;model type='virtio'/&gt;
      &lt;driver name='qemu'/&gt;
      &lt;alias name='net0'/&gt;
      &lt;address type='pci' domain='0x0000' bus='0x00' slot='0x03' function='0x0'/&gt;
      &lt;ip address='10.0.2.150' netmask='255.255.254.0' gateway='10.0.2.2'&gt;
      &lt;/ip&gt;
    &lt;/interface&gt;
</code></pre>
<p>2.) Adding the mac address of the Kicksecure network adapter and static ip to the virtual network xml</p>
<pre><code class="lang-auto">&lt;network&gt;
  &lt;name&gt;kick_net&lt;/name&gt;
  &lt;forward dev='eth2' mode='nat'&gt;
    &lt;interface dev='eth2'/&gt;
  &lt;/forward&gt;
  &lt;bridge name='virbr1' stp='on' delay='0'/&gt;
  &lt;ip address='10.0.2.2' netmask='255.255.255.0'&gt;
      &lt;dhcp&gt;
         &lt;range start='10.0.2.5' end='10.0.2.254''&gt;
         &lt;host mac='52:54:00:c6:f6:27' name=Kicksecure ip='10.0.2.150'&gt;
     &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;
</code></pre>
<p>I restarted the virtual network devices and libvirtd daemon as instructed, but both solutions failed.</p>
<p>Am I missing anything here?</p>
<blockquote>
<p>I don’t think Kicksecure for KVM opens any ports that are reachable from the host? Kicksecure should come without any open ports by default anyhow.</p>
</blockquote>
<p>My apologies, I should have clarified.</p>
<p>KVM Kicksecure does not have any open ports, both INPUT and FORWARD are dropping by default.</p>
<p>What I was referring to is the virtual network device virbr1, which needs to have ports 68,67,53 open in order for DHCP to be able to assign an ip address to Kicksecure’s eth0 interface. Libvirt creates these iptables automatically.</p>
<pre><code class="lang-auto">-A LIBVIRT_INP -i virbr1 -p udp -m udp --dport 53 -j ACCEPT                                                                                                                                        
-A LIBVIRT_INP -i virbr1 -p tcp -m tcp --dport 53 -j ACCEPT                                                                                                                                        
-A LIBVIRT_INP -i virbr1 -p udp -m udp --dport 67 -j ACCEPT                                                                                                                                        
-A LIBVIRT_INP -i virbr1 -p tcp -m tcp --dport 67 -j ACCEPT                                                                                                                                        
-A LIBVIRT_OUT -o virbr1 -p udp -m udp --dport 53 -j ACCEPT                                                                                                                                        
-A LIBVIRT_OUT -o virbr1 -p tcp -m tcp --dport 53 -j ACCEPT                                                                                                                                        
-A LIBVIRT_OUT -o virbr1 -p udp -m udp --dport 68 -j ACCEPT                                                                                                                                        
-A LIBVIRT_OUT -o virbr1 -p tcp -m tcp --dport 68 -j ACCEPT
</code></pre>
<p>HulaHoop pointed out that the VM sits behind the NAT, thus open ports on virbr1 would not pose a security risk.</p>
<p>I am deeply researching this at the moment, because I’ve found conflicting opinions on the subject.</p>
<p>Thanks again to both of you for the time and information.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/alexa_tanner'><span itemprop='name'>alexa_tanner</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2022-08-17T17:57:13Z' class='post-time'>
                    August 17, 2022,  5:57pm
                  </time>
                  <meta itemprop='dateModified' content='2022-08-17T17:57:13Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>OK guys, I went on a deep dive and figured it out. Here a small guide for anyone else who might be interested.</p>
<p>In order to achieve a static IP in Kicksecure, 3 conditions must be met.<br>
Note that you can’t remove or disable DHCP, the IP is only “static” in effect, meaning you can control which address is assigned by DHCP, but you must still leave it intact. I’ve tried removing it, but it’s not possible in Kicksecure.</p>
<p>1.)<br>
Add a host option in the dhcp section of your network.xml<br>
It consists of mac (the mac address of Kicksecure’s virtual network card), name and ip.<br>
This ip will be the one that is assigned by DHCP at every boot.</p>
<pre><code class="lang-auto">&lt;network&gt;
  &lt;name&gt;kick_net&lt;/name&gt;
  &lt;forward dev='eth2' mode='nat'&gt;
    &lt;interface dev='eth2'/&gt;
  &lt;/forward&gt;
  &lt;bridge name='virbr1' stp='on' delay='0'/&gt;
  &lt;ip address='10.0.2.2' netmask='255.255.255.0'&gt;
      &lt;dhcp&gt;
         &lt;range start='10.0.2.5' end='10.0.2.254''&gt;
         &lt;host mac='52:54:00:c6:f6:27' name=Kicksecure ip='10.0.2.150'&gt;
     &lt;/dhcp&gt;
  &lt;/ip&gt;
&lt;/network&gt;
</code></pre>
<p>2.) Inside Kicksecure you must modify the hostname, because for some reason it is incorrect.<br>
The proper hostname is <strong>localhost.localdomain</strong>, not localhost, which is the original entry. This will also solve the “unable to resolve host” error. You can check your hostname by running <code>hostname</code>.<br>
<code>sudo mousepad /etc/hosts</code><br>
<code>127.0.0.1        localhost.localdomain</code></p>
<p>3.) When using a static ip via host config, as shown above, you must stop DHCP and NetworkManager from interfering with /etc/resolv.conf and break all symllinks.<br>
Execute the following:</p>
<pre><code class="lang-auto">echo 'make_resolv_conf() { :; }' &gt; /etc/dhcp/dhclient-enter-hooks.d/resolv_free
chmod 755 /etc/dhcp/dhclient-enter-hooks.d/resolv_free
rm -rf /etc/resolv.conf
touch /etc/resolv.conf 
</code></pre>
<p>Then you can enter your nameservers in resolv.conf.</p>
<p>Finally edit /etc/NetworkManager/NetworkManager.conf<br>
add the following under the [main]</p>
<p><code>dns=default</code></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
