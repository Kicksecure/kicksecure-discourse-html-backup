<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Onion APT repositories connection timeouts solution? - Development - Kicksecure Forums</title>
    <meta name="description" content="Tor onion APT repositories can sometimes fail when updating. This can can happen due to the slowness of generated onion circuits or having a custom /etc/tor/torrc can cause them to timeout when updating. 
In fact the Tai&amp;hellip;">
    <meta name="generator" content="Discourse 3.3.3 - https://github.com/discourse/discourse version 17a49d75629d1cb8c4bae5fab63d1620c43f3ce1">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="900.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_c35f76de002b2226d250d1ba209794bef0bcfdfc.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_c35f76de002b2226d250d1ba209794bef0bcfdfc6?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27desktop_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27checklist_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27discourse-details_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27docker_manager_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27footnote_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27poll_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_2234f22d3431f6f08d4b13da87f5b81dcb3af55a.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_2234f22d3431f6f08d4b13da87f5b81dcb3af55a61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_7a193aa35fdd216f672580b8fc8e35e34b306e47.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_7a193aa35fdd216f672580b8fc8e35e34b306e4761cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_fe7659b6358d5f831ac999f49d1f42997e165f18.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_fe7659b6358d5f831ac999f49d1f42997e165f1861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Onion APT repositories connection timeouts solution?&#39;" href="900.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/onion-apt-repositories-connection-timeouts-solution/900" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/onion-apt-repositories-connection-timeouts-solution/900" />
<meta property="og:title" content="Onion APT repositories connection timeouts solution?" />
<meta name="twitter:title" content="Onion APT repositories connection timeouts solution?" />
<meta property="og:description" content="Tor onion APT repositories can sometimes fail when updating. This can can happen due to the slowness of generated onion circuits or having a custom /etc/tor/torrc can cause them to timeout when updating.  In fact the Tails project since 6.4 removed the onion Debian repositories   Switch to using HTTPS addresses instead of an onion addresses for the Debian and Tails APT repositories. This makes the Additional Software feature more reliable.   Tails - Tails 6.4    I created a config /etc/apt/apt.c..." />
<meta name="twitter:description" content="Tor onion APT repositories can sometimes fail when updating. This can can happen due to the slowness of generated onion circuits or having a custom /etc/tor/torrc can cause them to timeout when updating.  In fact the Tails project since 6.4 removed the onion Debian repositories   Switch to using HTTPS addresses instead of an onion addresses for the Debian and Tails APT repositories. This makes the Additional Software feature more reliable.   Tails - Tails 6.4    I created a config /etc/apt/apt.c..." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:tag" content="status_open_issue_todo" />
<meta property="article:published_time" content="2025-01-20T05:13:21+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="900.html">Onion APT repositories connection timeouts solution?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Onion APT repositories connection timeouts solution?'>
      <link itemprop='url' href='900.html'>
      <meta itemprop='datePublished' content='2025-01-20T05:13:21Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content='status_open_issue_todo'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Quiksilver'><span itemprop='name'>Quiksilver</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="900.html">


              <span class="crawler-post-infos">
                  <time  datetime='2025-01-20T05:13:21Z' class='post-time'>
                    January 20, 2025,  5:13am
                  </time>
                  <meta itemprop='dateModified' content='2025-01-20T12:00:50Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Tor onion APT repositories can sometimes fail when updating. This can can happen due to the slowness of generated onion circuits or having a custom <code>/etc/tor/torrc</code> can cause them to timeout when updating.</p>
<p>In fact the Tails project since 6.4 removed the onion Debian repositories</p>
<blockquote>
<p>Switch to using HTTPS addresses instead of an onion addresses for the Debian and Tails APT repositories. This makes the Additional Software feature more reliable.</p>
<blockquote>
<p><a href="../../../external.html?link=https://tails.net/news/version_6.4/index.en.html" class="inline-onebox" rel="noopener nofollow ugc">Tails - Tails 6.4</a></p>
</blockquote>
</blockquote>
<p>I created a config <code>/etc/apt/apt.conf.d/99timeout</code></p>
<p>(15 seconds till timeout, 5 seconds till retry, and retries 3 times.)</p>
<pre><code class="lang-auto">Acquire::http::Timeout "15";
Acquire::http::Retry-After "5";
Acquire::Retries "3";
</code></pre>
<p>I’m not sure how the integration tor and APT works but this would only effect http repos which also are what onions are.</p>
<p>This configuration seemed to work for me but I’m not sure if this fix is placebo?</p>
<p>In closing I don’t think Kicksecure should follow the same route of removing Onion repositories or Onion Debian repositories as thats one thing i strongly disagree with choice of the other project.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
