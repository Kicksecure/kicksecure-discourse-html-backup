<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Harden DRACUT initramfs-generator by disabling Recovery Console? - Development - Kicksecure Forums</title>
    <meta name="description" content="After Harden GRUB bootloader using bootloader password has been implemented… 
Should disable dracut recovery console? 
Should set kernel parameters: 
rd.shell=0 rd.emergency=halt

As per fedora - How can I secure the dra&amp;hellip;">
    <meta name="generator" content="Discourse 3.4.7 - https://github.com/discourse/discourse version 3baf4000904c0d11731b97364df756b00d3457ee">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="724.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_58d3e6a62bbcfd837d27bf50c11c162268923430.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_58d3e6a62bbcfd837d27bf50c11c1622689234306?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27desktop_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27checklist_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27discourse-details_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_27a873e6f6411872159c8df0158556932392cab261cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27docker_manager_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27footnote_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27poll_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_27a873e6f6411872159c8df0158556932392cab2.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_27a873e6f6411872159c8df0158556932392cab261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_a6149e272e30d7f0925ea74416c90af282eea4c8.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_a6149e272e30d7f0925ea74416c90af282eea4c861cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_f12616e0ab837bd2681302351e35914a09eb0a92.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_f12616e0ab837bd2681302351e35914a09eb0a9261cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Harden DRACUT initramfs-generator by disabling Recovery Console?&#39;" href="724.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/harden-dracut-initramfs-generator-by-disabling-recovery-console/724" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/harden-dracut-initramfs-generator-by-disabling-recovery-console/724" />
<meta property="og:title" content="Harden DRACUT initramfs-generator by disabling Recovery Console?" />
<meta name="twitter:title" content="Harden DRACUT initramfs-generator by disabling Recovery Console?" />
<meta property="og:description" content="After Harden GRUB bootloader using bootloader password has been implemented…  Should disable dracut recovery console?  Should set kernel parameters:  rd.shell=0 rd.emergency=halt  As per fedora - How can I secure the dracut shell? - Server Fault?" />
<meta name="twitter:description" content="After Harden GRUB bootloader using bootloader password has been implemented…  Should disable dracut recovery console?  Should set kernel parameters:  rd.shell=0 rd.emergency=halt  As per fedora - How can I secure the dracut shell? - Server Fault?" />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:tag" content="status_closed_issue_implemented" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="2 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 ❤" />
<meta property="article:published_time" content="2024-11-22T16:49:48+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="724.html">Harden DRACUT initramfs-generator by disabling Recovery Console?</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/status_closed_issue_implemented.html' class='discourse-tag' rel="tag">status_closed_issue_implemented</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Harden DRACUT initramfs-generator by disabling Recovery Console?'>
      <link itemprop='url' href='724.html'>
      <meta itemprop='datePublished' content='2024-11-22T16:49:48Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content='status_closed_issue_implemented'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="724.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-11-22T16:49:48Z' class='post-time'>
                    November 22, 2024,  4:49pm
                  </time>
                  <meta itemprop='dateModified' content='2025-08-10T11:56:34Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>After <a href="../harden-grub-bootloader-using-bootloader-password/723.html" class="inline-onebox">Harden GRUB bootloader using bootloader password</a> has been implemented…</p>
<p>Should disable dracut recovery console?</p>
<p>Should set kernel parameters:</p>
<pre><code>rd.shell=0 rd.emergency=halt
</code></pre>
<p>As per <a href="../../../external.html?link=https://serverfault.com/questions/554853/how-can-i-secure-the-dracut-shell" class="inline-onebox">fedora - How can I secure the dracut shell? - Server Fault</a>?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../remove-linux-recovery-mode-boot-option-from-default-grub-boot-menu/727.html">Remove Linux recovery mode boot option from default GRUB boot menu</a>
                        <meta itemprop='position' content='3'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../kicksecure-17-2-8-5-point-release/769.html">Kicksecure 17.2.8.5 - Point Release!</a>
                        <meta itemprop='position' content='4'>
                      </div>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../no-rescue-mode/1171/2.html">No Rescue Mode</a>
                        <meta itemprop='position' content='5'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-22T19:28:04Z' class='post-time'>
                    November 22, 2024,  7:28pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-22T19:28:04Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>We should make sure this doesn’t break Recovery Mode, that’s the only thing wrong I can think of with that.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-23T09:09:13Z' class='post-time'>
                    November 23, 2024,  9:09am
                  </time>
                  <meta itemprop='dateModified' content='2024-11-23T09:09:13Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Not to be confused:</p>
<ul>
<li>A) dracut recovery shell [This topic]</li>
<li>B) Linux recovery mode (Single-User Mode) [somewhat related, but not the same]</li>
</ul>
<hr>
<p>This topic overlaps very much with <a href="../harden-grub-bootloader-using-bootloader-password/723.html" class="inline-onebox">Harden GRUB bootloader using bootloader password</a>.</p>
<p>If protecting all GRUB bootloader boot menu entries, is there still a point in disabling dracut recovery shell?</p>
<p>Specifically, since there is a Linux recovery mode boot menu entry anyhow.</p>
<p>A theoretic argument could be made “if an attacker can bypass GRUB passwords”, but these minor <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks" class="inline-onebox">Protection against Physical Attacks</a> measures help against weak adversaries. An advanced adversary that could in theory bypass the bootloader password, would probably bother with neither GRUB passwords, dracut recovery shell nor Linux recovery mode but instead use <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Malicious_Hardware_Modifications">Malicious Hardware Modifications</a>, <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Protection_Against_Physical_Attacks#Side_Channel_Attacks">Side Channel Attacks</a> or similar.</p>
<p>related:</p>
<ul>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Recovery#Recovery_Mode">Recovery Mode</a></li>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Root#Recovery_Mode">Root Login using Recovery Mode</a></li>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Root#Passwordless_Recovery_Mode_Security_Discussion">Passwordless Recovery Mode Security Discussion</a></li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-23T23:54:07Z' class='post-time'>
                    November 23, 2024, 11:54pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-23T23:54:07Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="724">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>Not to be confused:</p>
<ul>
<li>A) dracut recovery shell [This topic]</li>
<li>B) Linux recovery mode (Single-User Mode) [somewhat related, but not the same]</li>
</ul>
</blockquote>
</aside>
<p>Right, that’s what I thought. Then yeah, I think this change would make sense.</p>
<aside class="quote no-group" data-username="Patrick" data-post="3" data-topic="724">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/b2d939/48.png" class="avatar"> Patrick:</div>
<blockquote>
<p>If protecting all GRUB bootloader boot menu entries, is there still a point in disabling dracut recovery shell?</p>
</blockquote>
</aside>
<p>I guess it depends. Theoretically an attacker could try to gain a root shell on a system by fooling some privileged component of the system into damaging boot files, then reboot and have a root shell. That would let them turn a data corruption vulnerability into a privilege escalation one. Blocking the Dracut recovery shell prevents that - the attacker can use the data corruption vuln to render the system unbootable, but can’t use that to then gain root access. If the system under attack was a physical system, this wouldn’t be that important to defend against since the user is probably using FDE which would prevent this sort of attack too, but if the system under attack if an unencrypted VM hosted on a server, then this would be a reasonable attack to fear and I can see this being a good mitigation for it.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-24T15:13:01Z' class='post-time'>
                    November 24, 2024,  3:13pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-24T15:13:01Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Right. So similar to <a href="../harden-grub-bootloader-using-bootloader-password/723/6.html" class="inline-onebox">Harden GRUB bootloader using bootloader password - #6 by Patrick</a> there could be a corporate setup use case.</p>
<p>A malicious employee could manage to corrupt some system files to then get a dracut recovery shell.</p>
<p>Or the complex VM related attack you’ve described.</p>
<p>We could set <code>rd.shell=0 rd.emergency=halt</code> in security-misc. (And then undo the setting in debug-misc, if not already the case.)</p>
<p>But we would only set it for <code>GRUB_CMDLINE_LINUX_DEFAULT</code> (default boot entry) or <code>GRUB_CMDLINE_LINUX</code> (all boot entries, including recovery boot entry)?</p>
<p>The kernel parameters <code>rd.shell=0 rd.emergency=halt</code> can be modified or unset from GRUB boot menu. But those who worry about that, can either set a BIOS password and/or a bootloader password, depending on their threat model.</p>
<p>Setting it for default (non-recovery) boot menu entries might makes sense. Because those who want to protect Linux recovery mode boot entries, need to set a GRUB root password anyhow.</p>
<p>Another related solution: <a href="../remove-linux-recovery-mode-boot-option-from-default-grub-boot-menu/727.html" class="inline-onebox">Remove Linux recovery mode boot option from default GRUB boot menu</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/nurmagoz'><span itemprop='name'>nurmagoz</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-02T11:58:36Z' class='post-time'>
                    December 2, 2024, 11:58am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-02T11:58:36Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="724" data-full="true">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>We should make sure this doesn’t break Recovery Mode, that’s the only thing wrong I can think of with that.</p>
</blockquote>
</aside>
<p>Actually i would argue against that, why do we need to rely on recovery mode?</p>
<p>I think of recovery mode ability is like backdooring your own OS, what we need to do is that change the mentality of how user reacting with OS:</p>
<p>Since we are moving towards btrfs/snapshot feature this will reduce the reliability on recovery mode.</p>
<p>Other thing is that think about a mobile phone got whatever issue to the boot of the OS, yes it has recovery mode but very unlikely users gonna figure out how to use it let alone if its even possible to have any usefulness when entering recovery mode as it will just allow you to reinstall the OS…</p>
<p>So how to solve this? another mental change to the user that he should always backup his own data to his own hardware and that can be his own flash/hard drive, or internal clould (NAS/Nexcloud…etc) or even external server… something he choose but the OS will not backdoor itself for recovery mode.</p>
<p>Note: booting into recovery mode is a malicious boot up of the system, because it will be booting with minimalistic services meaning will disable almost all security features that user needs, other word its just the wrong method in nowadays time.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-02T12:22:10Z' class='post-time'>
                    December 2, 2024, 12:22pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-02T12:22:10Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>For Linux recovery mode we have ticket <a href="../remove-linux-recovery-mode-boot-option-from-default-grub-boot-menu/727.html" class="inline-onebox">Remove Linux recovery mode boot option from default GRUB boot menu</a>.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2025-08-10T12:40:56Z' class='post-time'>
                    August 10, 2025, 12:40pm
                  </time>
                  <meta itemprop='dateModified' content='2025-08-10T12:40:56Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This has been implemented a while ago.</p>
<p>Documented just now. Quote <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Recovery#Dracut_Emergency_Shell">Dracut Emergency Shell</a>:</p>
<blockquote>
<p><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Dracut">dracut</a> <a href="724.html">emergency shell is disabled by default in Kicksecure for security reasons.</a> This is implemented in file <a href="../../../external.html?link=https://github.com/Kicksecure/security-misc/blob/master/etc/default/grub.d/41_recovery_restrict.cfg"><code>/etc/default/grub.d/41_recovery_restrict.cfg</code></a>.</p>
<p>To re-enable the dracut emergency shell, which can be useful for debugging, see wiki chapter <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Recovery#Recovery_Mode">Recovery Mode</a>.</p>
<p>related forum discussion:</p>
<ul>
<li><a href="../no-rescue-mode/1171.html" class="inline-onebox">No Rescue Mode</a></li>
</ul>
</blockquote>
<p>One could say, it’s easy for a physical attacker to re-enable dracut recovery console using a kernel parameter change - which is even documented - hence defeating the purpose. That is correct - at time of writing. Protecting the kernel command line is the job of verified boot. Related:</p>
<ul>
<li>wiki: <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Verified_Boot" class="inline-onebox">Verified Boot</a></li>
<li>forum: <a href="../verified-boot-development-discussion/901.html" class="inline-onebox">Verified Boot</a></li>
</ul>
<aside class="quote no-group quote-modified" data-username="nurmagoz" data-post="6" data-topic="724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<aside class="quote no-group" data-username="arraybolt3" data-post="2" data-topic="724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>We should make sure this doesn’t break Recovery Mode, that’s the only thing wrong I can think of with that.</p>
</blockquote>
</aside>
<p>Actually i would argue against that, why do we need to rely on recovery mode?</p>
</blockquote>
</aside>
<p>Developers need it sometimes to debug boot issues, unbootable systems or instruct users on how to do that.</p>
<aside class="quote no-group" data-username="nurmagoz" data-post="6" data-topic="724">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/n/8e7dd6/48.png" class="avatar"> nurmagoz:</div>
<blockquote>
<p>I think of recovery mode ability is like backdooring your own OS,</p>
</blockquote>
</aside>
<p>Once verified boot is implemented, only the device owner shall have this capability.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
