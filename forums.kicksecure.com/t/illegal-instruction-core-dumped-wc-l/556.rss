<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Illegal instruction (core dumped) - `wc -l`</title>
    <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556</link>
    <description>Hi,
`update-ca-certificates` has problem when executed. The error is `Illegal instruction (core dumped)`
Please help!</description>
    
    <lastBuildDate>Sat, 16 Aug 2025 14:17:26 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <p>Thank you!</p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/7">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/7</link>
        <pubDate>Sat, 16 Aug 2025 14:17:26 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-7</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <p>I used * because I forgot the name of the file. And comment everyline that may disable SMT/AVX/AES with #, save it, exit. Then execute <code>update-grub</code> command, then reboot.</p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/6">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/6</link>
        <pubDate>Sat, 16 Aug 2025 14:17:06 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-6</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Kernel parameter <code>gather_data_sampling=force</code> is likely causing this on some CPUs on Debian <code>bookworm</code> based operating systems such as Kicksecure 17.</p>
<p>Solution: Remove the <code>gather_data_sampling=force</code> kernel parameter. The following commands can accomplish that.</p>
<p><code>1.</code> Boot into sysmaint mode.</p>
<p><code>2.</code> Comment out [1] <code>gather_data_sampling=force</code> in the <code>/etc/default/grub.d/40_cpu_mitigations.cfg</code> configuration file, <code>sudo update-grub</code> and <code>reboot</code>.</p>
<pre><code>sudo str_replace 'GRUB_CMDLINE_LINUX="$GRUB_CMDLINE_LINUX gather_data_sampling=force"' '#GRUB_CMDLINE_LINUX="$GRUB_CMDLINE_LINUX gather_data_sampling=force"' /etc/default/grub.d/40_cpu_mitigations.cfg
</code></pre>
<p><code>3.</code> Update GRUB configuration file.</p>
<pre><code>sudo update-grub
</code></pre>
<p><code>4.</code> Reboot.</p>
<pre><code>sudo reboot
</code></pre>
<p><code>5.</code>  Done.</p>
<hr>
<p>For reference: <a href="https://github.com/Kicksecure/security-misc/pull/218" class="inline-onebox">`gather_data_sampling=force` - Enable Gather Data Sampling (GDS) mitigation - related to CPU `AVX` instruction; More CPU Mitigations and Additional References by raja-grewal · Pull Request #218 · Kicksecure/security-misc · GitHub</a></p>
<hr>
<p>[1] Comment out explanation: <a href="https://www.kicksecure.com/wiki/Configuration_Files#Commenting_Syntax_and_Effects">Commenting Syntax and Effects</a></p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/5</link>
        <pubDate>Tue, 29 Jul 2025 08:26:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-5</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[Onis]]></dc:creator>
        <description><![CDATA[
            <p>I know this topic is old, but I hope you are still around here to answer. I’ve run into the same "illegal instruction (core dumped) problem. Since I’m not that linux savvy, could you explain exactly how to ‘enable everything in /etc/default/grub.d/40-cpu*’ ? I figured I’d try to do what you did. I can display the contents of …grub.d, but that’s about it. Also, I assume that this would involve changing permissions, but would have to done in the persistent-maintenance mode?</p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/4</link>
        <pubDate>Sun, 27 Jul 2025 23:38:16 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-4</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <p>I enabled everything in <code>/etc/default/grub.d/40-cpu*</code> that may disable SMT and this problem was solved after <code>update-grub</code> and restart computer.</p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/3</link>
        <pubDate>Tue, 17 Sep 2024 16:05:57 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-3</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p><code>update-ca-certificates</code> is provided by upstream, Debian.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="https://packages.debian.org/bookworm/ca-certificates">
  <header class="source">

      <a href="https://packages.debian.org/bookworm/ca-certificates" target="_blank" rel="noopener">packages.debian.org</a>
  </header>

  <article class="onebox-body">
    

<h3><a href="https://packages.debian.org/bookworm/ca-certificates" target="_blank" rel="noopener">Debian -- Details of package ca-certificates in bookworm</a></h3>

  <p>Common CA certificates</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>So report also a bug there.</p>
<p>update-ca-certificates is a shell script. So running it with xtrace enabled we can see more closely what exact command is failing.</p>
<pre><code>sudo sh -x /usr/sbin/update-ca-certificates
</code></pre>
<p>The output of that might help to isolate the cause.</p>
<hr>
<p>Wild guess: <a href="https://www.kicksecure.com/wiki/Kernel#Kernel_Issues">Kernel Issues</a></p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/2</link>
        <pubDate>Mon, 02 Sep 2024 08:40:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-2</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
      <item>
        <title>Illegal instruction (core dumped) - `wc -l`</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <p>Hi,<br>
<code>update-ca-certificates</code> has problem when executed. The error is <code>Illegal instruction (core dumped)</code><br>
Please help!</p>
          <p><a href="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556/1</link>
        <pubDate>Fri, 30 Aug 2024 01:28:02 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-556-1</guid>
        <source url="https://forums.kicksecure.com/t/illegal-instruction-core-dumped-wc-l/556.rss">Illegal instruction (core dumped) - `wc -l`</source>
      </item>
  </channel>
</rss>
