<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>Secure Boot - invalid signature - Support - Kicksecure Forums</title>
    <meta name="description" content="The latest Kicksecure version doesn’t work if secure boot is enabled. I get an error saying  invalid signature.">
    <meta name="generator" content="Discourse 3.4.0 - https://github.com/discourse/discourse version 22f2a554ef3d1e1494defd49ba4c8aec9c821aae">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#fff">

<meta name="color-scheme" content="light">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, viewport-fit=cover">
<link rel="canonical" href="771.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e77.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_9b63d9724965171f1e1f89e88ecc0ed38d378e776?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27checklist_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-details_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27docker_manager_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27footnote_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="footnote"  />
  <link href="../../stylesheets/poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b5.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_ce9c434b0924c8daec683e23a5b15d9e2294e7b561cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a839.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_37d4061072cd77b80d4063be8ee9eef7cf85a83961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_34152a793a59d21904aefc50f6611bbab531c36e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;Secure Boot - invalid signature&#39;" href="771.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/secure-boot-invalid-signature/771" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/secure-boot-invalid-signature/771" />
<meta property="og:title" content="Secure Boot - invalid signature" />
<meta name="twitter:title" content="Secure Boot - invalid signature" />
<meta property="og:description" content="The latest Kicksecure version doesn’t work if secure boot is enabled. I get an error saying  invalid signature." />
<meta name="twitter:description" content="The latest Kicksecure version doesn’t work if secure boot is enabled. I get an error saying  invalid signature." />
<meta property="og:article:section" content="Support" />
<meta property="og:article:section:color" content="0088CC" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins 🕑" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="5 ❤" />
<meta property="article:published_time" content="2024-12-11T10:02:47+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="771.html">Secure Boot - invalid signature</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/support/6.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #0088CC'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Support</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='Secure Boot - invalid signature'>
      <link itemprop='url' href='771.html'>
      <meta itemprop='datePublished' content='2024-12-11T10:02:47Z'>
        <meta itemprop='articleSection' content='Support'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure - a secure by default operating system'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/PettyPeter'><span itemprop='name'>PettyPeter</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="771.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-12-11T10:02:47Z' class='post-time'>
                    December 11, 2024, 10:02am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-11T10:02:47Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The latest Kicksecure version doesn’t work if secure boot is enabled. I get an error saying  invalid signature.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

                <div class='crawler-linkback-list' itemscope itemtype='../../../external.html?link=http://schema.org/ItemList'>
                      <div itemprop='itemListElement' itemscope itemtype='../../../external.html?link=http://schema.org/ListItem'>
                        <a itemprop='url' href="../boot-issue-after-installking-kicksecure/602/39.html">Boot issue after installking Kicksecure</a>
                        <meta itemprop='position' content='1'>
                      </div>
                </div>
          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-11T18:02:18Z' class='post-time'>
                    December 11, 2024,  6:02pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-11T18:02:18Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Please provide exact steps how to reproduce this issue and the exact error message. As per <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Reporting_Guidelines">Reporting Guidelines</a>.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-11T23:50:04Z' class='post-time'>
                    December 11, 2024, 11:50pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-11T23:50:04Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>It looks like the issue is that shim-signed and grub-efi-amd64-signed are getting missed when the ISO is built. This is probably fallout from disabling debian-installer recently. I’ll work on a bugfix.</p>
<p>You can fix an existing Secure Boot installation by doing this:</p>
<ul>
<li>Disable Secure Boot</li>
<li>Boot Kicksecure.</li>
<li>Run <code>sudo apt update &amp;&amp; sudo apt install shim-signed grub-efi-amd64-signed</code>.</li>
<li>Run <code>sudo grub-install &amp;&amp; sudo update-grub</code>.</li>
<li>Reboot.</li>
<li>Enable Secure Boot again.</li>
<li>The system should now boot.</li>
</ul>
<p>Note that not all of Kicksecure’s features work when Secure Boot is enabled (specifically, the <code>tirdad</code> kernel module will not load since it isn’t signed, slightly reducing security for TCP connections), so you may want to consider disabling Secure Boot and leaving it that way. (It’s somewhat paradoxical that you’d have to disable a security feature to get all of the features of a security-focused OS, but that’s Secure Boot for you.)</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-12T08:06:00Z' class='post-time'>
                    December 12, 2024,  8:06am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-12T08:06:00Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>This will be fixed in version 17.2.8.5 and above.</p>
<aside class="quote no-group" data-username="arraybolt3" data-post="3" data-topic="771">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../user_avatar/forums.kicksecure.com/arraybolt3/48/88_2.png" class="avatar"> arraybolt3:</div>
<blockquote>
<p>Note that not all of Kicksecure’s features work when Secure Boot is enabled (specifically, the <code>tirdad</code> kernel module will not load since it isn’t signed, slightly reducing security for TCP connections), so you may want to consider disabling Secure Boot and leaving it that way. (It’s somewhat paradoxical that you’d have to disable a security feature to get all of the features of a security-focused OS, but that’s Secure Boot for you.)</p>
</blockquote>
</aside>
<p>Right. This issue is documented here:</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/Secure_Boot">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/favicon.svg?hsversion-headscript-replacement-by-server=1&amp;hsversion_from_server_replacement_unixtime=1733909425" class="site-icon" width="151" height="151">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Secure_Boot" target="_blank" rel="noopener" title="06:31PM - 22 October 2024">Kicksecure – 22 Oct 24</a>
  </header>

  <article class="onebox-body">
    <div class="aspect-image" style="--aspect-ratio:250/500;"><img src="../../../external.html?link=https://www.kicksecure.com/w/images/b/b5/Secureboot12312.png?version=8ea65f4fca6488f42e9cb5a459b4f40b" class="thumbnail" width="250" height="500"></div>

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/Secure_Boot" target="_blank" rel="noopener">Secure Boot</a></h3>

  <p>Information on Secure Boot and DKMS Signing Key (MOK Key) Enrollment to ensure kernel modules can be loaded on systems with Secure Boot enabled.</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/PettyPeter'><span itemprop='name'>PettyPeter</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-14T10:55:42Z' class='post-time'>
                    December 14, 2024, 10:55am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-14T10:55:42Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The Kicksecure boot option has disappeared after installing the newest version of Kicksecure. It has nothing to do with secure boot. I believe this issue occurred a few releases ago. Well it has happened again the solution to that problem was to copy over files from another directory but that would make it incompatible with secure boot. I don’t understand why the iso had not been tested before being released.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/extraextra'><span itemprop='name'>extraextra</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-14T11:40:50Z' class='post-time'>
                    December 14, 2024, 11:40am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-14T11:40:50Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="PettyPeter" data-post="5" data-topic="771">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/p/ec9cab/48.png" class="avatar"> PettyPeter:</div>
<blockquote>
<p>The Kicksecure boot option has disappeared after installing the newest version of Kicksecure.</p>
</blockquote>
</aside>
<p>What?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/PettyPeter'><span itemprop='name'>PettyPeter</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-14T12:08:52Z' class='post-time'>
                    December 14, 2024, 12:08pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-14T12:08:52Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I’m linking the topic where the same issue was reported previously: <a href="../boot-issue-after-installking-kicksecure/602.html" class="inline-onebox">Boot issue after installking Kicksecure</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Therapist'><span itemprop='name'>Therapist</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-18T07:59:20Z' class='post-time'>
                    December 18, 2024,  7:59am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-18T08:26:08Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>I can confirm that this issue has re-emerged. So after installing Kicksecure and selecting ths USB drive which has Kicksecure installed. It successfully boots but I have noticed that after it boots the grub.cfg file in /boot/efi/EFI/boot/grub.cfg goes missing. I found this using the terminal to check if grub.cfg was present after booting it the first time.</p>
<p>I have just found out that copying grub.cfg does fix the issue and also boots Kicksecure with secure boot enabled. I copied grub.cfg after booting Kicksecure for the first time but the first time I didn’t need to copy grub.cfg the boot option ‘Kicksecure’ was present the first time but after booting up the grub.cfg file disappears. Copying grub.cfg permanently fixes the issue.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/Therapist'><span itemprop='name'>Therapist</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-20T17:59:34Z' class='post-time'>
                    December 20, 2024,  5:59pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-20T17:59:34Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Sorry for my last post I want to correct myself, copying grub.cfg does bring back the boot option for Kicksecure but it is incompatible with secure boot it still shows the invalid signature error very similar to the earlier bug.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_10' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-22T19:11:06Z' class='post-time'>
                    December 22, 2024,  7:11pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-22T19:11:06Z'>
              <span itemprop='position'>10</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>So I’ve now tested this quite a bit, and I believe the root issue here is that Calamares is just not installing the fallback bootloader correctly for Debian-based systems on Secure Boot enabled devices. The way Calamares handles installing the fallback bootloader is to simply copy grubx64.efi from the Kicksecure-specific bootloader to the fallback bootloader location. This doesn’t work - Debian (and therefore Kicksecure) need it to be copying shimx64.efi, fbx64.efi, and mmx64.efi to the fallback bootloader location, renaming shimx64.efi to bootx64.efi in the process.</p>
<p>Debian Testing has the <em>exact</em> same problem as Kicksecure in this regard it appears. Somehow this actually works on Ubuntu, but not on Debian, and I do not know why yet.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="2" />
              <span class='post-likes'>2 Likes</span>
            </div>

          </div>
          <div id='post_11' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-22T19:42:35Z' class='post-time'>
                    December 22, 2024,  7:42pm
                  </time>
                  <meta itemprop='dateModified' content='2024-12-22T19:42:35Z'>
              <span itemprop='position'>11</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>OK, I think I get it a bit more - Ubuntu seems to default to installing the GRUB bootloader to the fallback bootloader path, while Debian’s bootloader config defaults to <em>not</em> installing it in that fashion. The exact way in which bootloader installation works is also different between the two. Solving this probably requires enabling fallback bootloader installation by default.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_12' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" rel='nofollow' href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-12-23T03:23:21Z' class='post-time'>
                    December 23, 2024,  3:23am
                  </time>
                  <meta itemprop='dateModified' content='2024-12-23T03:23:21Z'>
              <span itemprop='position'>12</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Got some bug reports / feature requests sent so that this issue can eventually be solved “the right way”. Unfortunately Kicksecure’s current behavior in this area is pretty much the same as Debian Trixie’s behavior, and research into this issue suggests it’s not going to be an easy one to fix correctly.</p>
<aside class="onebox githubissue" data-onebox-src="../../../external.html?link=https://github.com/calamares/calamares/issues/2416">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2416" target="_blank" rel="noopener nofollow ugc">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2416" target="_blank" rel="noopener nofollow ugc">Enhance GRUB UEFI fallback bootloader installation support with OS-specific code</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-12-23" data-time="02:38:01" data-timezone="UTC">02:38AM - 23 Dec 24 UTC</span>
      </div>


      <div class="user">
        <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener nofollow ugc">
          <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Is your feature request related to a problem? Please describe.**
Calamares cu<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden">rrently has a setting `installEFIFallback` in `/etc/calamares/modules/bootloader.conf`. This feature is supposed to install a copy of the OS bootloader to the removable media path (e.g., `/boot/efi/EFI/BOOT`), allowing the installation to be booted even if the UEFI BIOS isn't able to find the OS-specific bootloader.

While dynamite in theory, the implementation is a bit too simple to work reliably on all distros. Right now all it does (simplifying away arch-specific considerations) is finds the `grubx64.efi` file from the normal bootloader location for the OS, and copies it to `bootx64.efi` in the removable media path. While I guess this could work on some distros, this doesn't work at all on Debian (and by extension Kicksecure) for at least two reasons:

* Debian's GRUB requires a stub `grub.cfg` file to be shipped alongside the GRUB EFI executable itself. This stub config tells GRUB how to find the real `grub.cfg`. Without this stub config file, the bootloader simply drops you to a GRUB shell.
* `grubx64.efi` can't be booted directly with Secure Boot in 99.9% of circumstances. You have to boot `shimx64.efi`. The shim then boots `grubx64.efi` which in turn boots the kernel and initramfs. If you copy `grubx64.efi` to the removable media path on a Secure Boot system, it is unusable because Secure Boot will reject it.

Under Debian, the proper way to install GRUB to the fallback bootloader location is:

```
sudo debconf-set-selections &lt;&lt;&lt; "grub-efi-amd64 grub2/force_efi_extra_removable boolean true"
sudo dpkg-reconfigure --default-priority grub-efi-amd64
```

In essence, this sets a configuration variable in debconf that tells Debian "any time you're reinstalling GRUB, make sure to install it to both the normal *and* fallback bootloader locations." Then it tells Debian to reconfigure the grub-efi-amd64 package, thus resulting in GRUB being reinstalled to both the normal and fallback locations as requested.

Obviously, this won't work on anything other than Debian and *some* of its derivatives (notably, this can't be used on Ubuntu because Ubuntu's GRUB package doesn't have the `grub2/force_efi_extra_removable` debconf setting), but for Debian and suitably similar derivatives, it would be far preferable to the current way of installing the fallback bootloader.

**Describe the solution you'd like**
It would be really awesome if Calamares' fallback bootloader installation code could look at the OS its running on, and use an OS-specific routine for installing the fallback bootloader if that particular OS is supported. If that OS is not supported by a special routine, fallback to the existing way of installing the bootloader, potentially echoing a warning to the log. (The warning might be a step too far, not sure.)

**Describe alternatives you've considered**
We could do this using shellprocesses instead, but that seems wrong. Calamares offers a feature for installing the bootloader to the fallback location, so I don't think it's unreasonable to make that feature do what it says on the tin more reliably.

**Additional context**
Multiple Kicksecure users are trying to install Kicksecure onto USB drives (as in, doing full installations of Kicksecure to a USB like they'd do to a hard drive). This setup is particularly vulnerable to ending up with the normal bootloader becoming unusable, since such a portable installation may be booted on multiple computers, or the computer it is intended for use on might be booted with the USB drive removed in some instances. One way or another, users end up having to rely on the fallback bootloader, and the fallback bootloader is currently totally unusable. See https://forums.kicksecure.com/t/secure-boot-invalid-signature/771/4 and https://forums.kicksecure.com/t/boot-issue-after-installking-kicksecure/602</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue" data-onebox-src="../../../external.html?link=https://github.com/grml/grml-debootstrap/issues/297">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/grml/grml-debootstrap/issues/297" target="_blank" rel="noopener nofollow ugc">github.com/grml/grml-debootstrap</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/grml/grml-debootstrap/issues/297" target="_blank" rel="noopener nofollow ugc">UEFI bootloader updates seem broken</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-12-23" data-time="03:17:01" data-timezone="UTC">03:17AM - 23 Dec 24 UTC</span>
      </div>


      <div class="user">
        <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener nofollow ugc">
          <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">grml-debootstrap currently installs grub-efi-amd64-signed when building an image<span class="show-more-container"><a href="#" rel="noopener" class="show-more">…</a></span><span class="excerpt hidden"> with EFI boot support. However, it does *not* install grub-efi-amd64 itself, which means that the actual GRUB installation won't be updated when the GRUB package is updated. As the `grub-efi-amd64-bin` package description warns:

```
 This package contains GRUB modules that have been built for use with the
 EFI-AMD64 architecture, as used by Intel Macs (unless a BIOS interface has
 been activated).  It can be installed in parallel with other flavours, but
 will not automatically install GRUB as the active boot loader nor
 automatically update grub.cfg on upgrade unless grub-efi-amd64 is also
 installed.
 ```
 
grub-pc, on the other hand, is installed by default, which means that the BIOS bootloader will be updated properly. Sadly grub-pc and grub-efi-amd64 can't be installed at the same time, so you can't have both bootloaders be continuously updated. Of the two, I'd argue the UEFI bootloader is the more important one to keep continuously up-to-date, because it's the one that has Secure Boot implications, while grub-pc doesn't.

Furthermore, while grml-debootstrap installs the bootloader to the removable media location by default using the `--removable` switch, the `grub2/force_efi_extra_removable` debconf variable isn't being set. This means that even if `grub-efi-amd64` is installed, the fallback bootloader won't be updated when GRUB updates, potentially leaving security issues.

(Note: This isn't an issue that can be solved entirely in grml-debootstrap. In my testing, even installing `grub-efi-amd64` and setting the debconf variable correctly wasn't working to get UEFI bootloader updates to work on an image built with grml-debootstrap. I don't understand why, but suspect it may be a bug in Debian's `grub-efi-amd64.postinst` script.)</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>In the mean time, I’ll work on a “quick fix” in derivative-maker that will fix the problem for now, at least for Kicksecure ISOs.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
