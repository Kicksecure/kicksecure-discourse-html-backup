<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>ISO - Development - Development - Kicksecure Forums</title>
    <meta name="description" content="Where is the repo where is the progress? Where do I contribute and where do I see?">
    <meta name="generator" content="Discourse 3.3.2 - https://github.com/discourse/discourse version 1da4243ccaa95f96022b83ce37b7895e763f897c">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="371.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_d24c08f68d8198c14c034c857affc3566d0b7d18.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_d24c08f68d8198c14c034c857affc3566d0b7d186?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27desktop_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27checklist_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-details_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_7da606fe7bf19946b45c48039ec67ec79bab785d61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27docker_manager_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/poll_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27poll_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_7da606fe7bf19946b45c48039ec67ec79bab785d.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_7da606fe7bf19946b45c48039ec67ec79bab785d61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_8511c4b38b012f2a61e3e2ab71c50fe8b1091b70.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_8511c4b38b012f2a61e3e2ab71c50fe8b1091b7061cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_c96d32376ee71266b45e85a3eb642846e8a352d9.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_c96d32376ee71266b45e85a3eb642846e8a352d961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;ISO - Development&#39;" href="371.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/iso-development/371" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/iso-development/371" />
<meta property="og:title" content="ISO - Development" />
<meta name="twitter:title" content="ISO - Development" />
<meta property="og:description" content="Where is the repo where is the progress? Where do I contribute and where do I see?" />
<meta name="twitter:description" content="Where is the repo where is the progress? Where do I contribute and where do I see?" />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="3 ‚ù§" />
<meta property="article:published_time" content="2024-02-09T16:04:46+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="371.html">ISO - Development</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='ISO - Development'>
      <link itemprop='url' href='371.html'>
      <meta itemprop='datePublished' content='2024-02-09T16:04:46Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content=''>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure Forums'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/anon87354919'><span itemprop='name'>anon87354919</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="371.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-02-09T16:04:46Z' class='post-time'>
                    February 9, 2024,  4:04pm
                  </time>
                  <meta itemprop='dateModified' content='2024-02-09T16:04:46Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Where is the repo where is the progress? Where do I contribute and where do I see?</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-02-10T11:25:37Z' class='post-time'>
                    February 10, 2024, 11:25am
                  </time>
                  <meta itemprop='dateModified' content='2024-02-10T11:25:37Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="quote no-group" data-username="anon87354919" data-post="1" data-topic="371">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/a/edb3f5/48.png" class="avatar"> anon87354919:</div>
<blockquote>
<p>Where is the repo where is the progress?</p>
</blockquote>
</aside>
<ul>
<li><a href="../../../external.html?link=https://github.com/derivative-maker/derivative-maker" class="inline-onebox">GitHub - derivative-maker/derivative-maker: https://www.kicksecure.com/wiki/Imprint</a> (build script)</li>
<li><a href="../../../external.html?link=https://github.com/derivative-maker/grml-debootstraptest" class="inline-onebox">GitHub - derivative-maker/grml-debootstraptest: RAW Image to ISO Image and tests for grml-debootstrap</a> (raw <code>image-to-iso</code>)</li>
<li><a href="../../../external.html?link=https://github.com/Kicksecure/live-config-dist" class="inline-onebox">GitHub - Kicksecure/live-config-dist</a> (calamares Installer settings)</li>
<li><a href="../../../external.html?link=https://forums.whonix.org/t/whonix-host-operating-system-os-iso/3931" class="inline-onebox">Whonix-Host Operating System (OS) ISO - Development - Whonix Forum</a> (legacy location but mostly affects both, Kicksecure, Whonix)</li>
<li><a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/blob/master/debian/control" class="inline-onebox">kicksecure-meta-packages/debian/control at master ¬∑ Kicksecure/kicksecure-meta-packages ¬∑ GitHub</a> (meta packages for Kicksecure hosts)</li>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/ISO" class="inline-onebox">Kicksecure Operating System Live ISO, Kicksecure-Host Installer</a></li>
</ul>
<p>This is a horrible usability bug, not sure it should be considered a blocker:</p>
<ul>
<li><a href="../../../external.html?link=https://github.com/calamares/calamares/issues/1203" class="inline-onebox">Encryption does not work well with non-QWERTY keyboards ¬∑ Issue #1203 ¬∑ calamares/calamares ¬∑ GitHub</a></li>
<li><a href="../../../external.html?link=https://www.kicksecure.com/wiki/ISO#Encryption_Versus_Keyboard_Layout">Encryption Versus Keyboard Layout</a></li>
</ul>
<aside class="quote no-group" data-username="anon87354919" data-post="1" data-topic="371">
<div class="title">
<div class="quote-controls"></div>
<img loading="lazy" alt="" width="24" height="24" src="../../letter_avatar_proxy/v4/letter/a/edb3f5/48.png" class="avatar"> anon87354919:</div>
<blockquote>
<p>Where do I contribute</p>
</blockquote>
</aside>
<ol>
<li>Build the ISO from a developers git tag.</li>
<li>Boot the ISO (on hardware, or in VM, BIOS or EFI, SecureBoot enabled or not, anything)</li>
<li>Test the ISO.</li>
<li>Test the Calamares installer.</li>
<li>Test the installed system.</li>
<li>Ask in case of issues (build issues or so).</li>
<li>Improve developers documentation to make the process more straight-forward for yourself and potentially other developers.</li>
<li>Fix what‚Äôs needed.</li>
</ol>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-03-12T15:42:43Z' class='post-time'>
                    March 12, 2024,  3:42pm
                  </time>
                  <meta itemprop='dateModified' content='2024-03-12T15:42:43Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>A downloadable ISO is now available for developers.</p>
<aside class="onebox allowlistedgeneric" data-onebox-src="../../../external.html?link=https://www.kicksecure.com/wiki/ISO">
  <header class="source">
      <img src="../../../external.html?link=https://www.kicksecure.com/favicon.svg?hsversion=2" class="site-icon" width="151" height="151">

      <a href="../../../external.html?link=https://www.kicksecure.com/wiki/ISO" target="_blank" rel="noopener" title="02:39PM - 12 March 2024">Kicksecure ‚Äì 12 Mar 24</a>
  </header>

  <article class="onebox-body">
    <img width="480" height="480" src="../../../external.html?link=https://www.kicksecure.com/w/images/a/a5/Cd-rom-icon.png?version=3a96d613f32a56faa3c4fa6551208dea" class="thumbnail onebox-avatar">

<h3><a href="../../../external.html?link=https://www.kicksecure.com/wiki/ISO" target="_blank" rel="noopener">Kicksecure Operating System Live ISO, Kicksecure-Host Installer</a></h3>

  <p>Upcoming Host Operating System  - In Development - Help wanted! - Please contribute!</p>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/grass'><span itemprop='name'>grass</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-04-19T16:24:34Z' class='post-time'>
                    April 19, 2024,  4:24pm
                  </time>
                  <meta itemprop='dateModified' content='2024-04-19T16:24:34Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The page <a href="../../../external.html?link=https://www.kicksecure.com/wiki/ISO" class="inline-onebox" rel="noopener nofollow ugc">Kicksecure Operating System Live ISO, Kicksecure-Host Installer</a> has been updated to contain instructions on how to install the ISO. It can help you to contribute for the issues to be fixed.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-07-05T17:07:20Z' class='post-time'>
                    July 5, 2024,  5:07pm
                  </time>
                  <meta itemprop='dateModified' content='2024-07-05T17:07:20Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <ul>
<li><a href="../../../external.html?link=https://packages.debian.org/source/sid/hw-detect" class="inline-onebox">Debian -- Details of source package hw-detect in sid</a></li>
<li><a href="../../../external.html?link=https://salsa.debian.org/installer-team/hw-detect/-/blob/master/hw-detect.sh?ref_type=heads" class="inline-onebox">hw-detect.sh ¬∑ master ¬∑ Debian Installer / hw-detect ¬∑ GitLab</a></li>
</ul>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_6' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-08-28T09:29:56Z' class='post-time'>
                    August 28, 2024,  9:29am
                  </time>
                  <meta itemprop='dateModified' content='2024-08-28T09:29:56Z'>
              <span itemprop='position'>6</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Major progress fixing major issues thanks to massive help by <a class="mention" href="../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3">@ArrayBolt3</a>.</p>
<aside class="onebox githubpullrequest" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/1">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/1" target="_blank" rel="noopener">github.com/Kicksecure/derivative-maker</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/1" target="_blank" rel="noopener">Download Calamares from bookworm-backports</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ‚Üê <code>ArrayBolt3:master</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-08-27" data-time="07:34:54" data-timezone="UTC">07:34AM - 27 Aug 24 UTC</span>
        </div>

        <div class="user">
          <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="2 commits changed 4 files with 42 additions and 0 deletions">
          <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/1/files" target="_blank" rel="noopener">
            <span class="added">+42</span>
            <span class="removed">-0</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">## Changes

This pull request downloads Calamares from bookworm-backports rath<span class="show-more-container"><a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/1" target="_blank" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">er than from bookworm. This pulls in a significantly newer version of Calamares that contains support for disabling encryption on specific partitions. See https://github.com/Kicksecure/live-config-dist/pull/5 for more information.

NOTE: For installation to still work right after this, a new submodule for calamares-settings-debian MUST be added to `packages/kicksecure`! Source code suitable for this purpose can be obtained from https://github.com/ArrayBolt3/calamares-settings-debian (though I recommend cloning that repo, reviewing it, and then pushing it to a Kicksecure-specific location rather than using it directly - it contains a Unicode character fix and some Lintian tag overrides for genmkfile). Additionally, it will be necessary to merge the live-config-dist pull request linked above.

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubpullrequest" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/live-config-dist/pull/5">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener">github.com/Kicksecure/live-config-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="../../../external.html?link=https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener">Improve localization, disk encryption, and a few other things</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ‚Üê <code>ArrayBolt3:master</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-07-24" data-time="01:15:29" data-timezone="UTC">01:15AM - 24 Jul 24 UTC</span>
        </div>

        <div class="user">
          <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="7 commits changed 11 files with 135 additions and 49 deletions">
          <a href="../../../external.html?link=https://github.com/Kicksecure/live-config-dist/pull/5/files" target="_blank" rel="noopener">
            <span class="added">+135</span>
            <span class="removed">-49</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">This pull request improves several aspects of the installation process for Kicks<span class="show-more-container"><a href="../../../external.html?link=https://github.com/Kicksecure/live-config-dist/pull/5" target="_blank" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">ecure 17, most notably localization and full disk encryption.

## Changes

* `debian/changelog`:
  * Bump version number.
* `debian/copyright`:
  * Updated copyright and licensing information.
* `debian/live-config-dist.displace`:
  * Add a divert for bootloader-config, which is now overridden to include a `set -x` line.
* `etc/calamares/branding/Kicksecure/*`:
  * Updated capitalization of style fields - this is necessary for Calamares 3.3.8 to parse them properly, failing to do so results in a solid black left sidebar.
  * Fixed the absence of a Kicksecure logo in the upper-left corner of the installer. This is generally where distros put their logos and it seemed appropriate to me. The logo component was taken from the larger, complete Kicksecure logo in the same directory.
  * Renamed logo.png to icon.png to fit with the terminology used by Calamares. This made room for a new logo.png to be created, which contains the logo which now appears in the upper-left corner of the installer.
* `etc/calamares/modules/partition.conf`:
  * Removed some obsolete fields that already have replacements integrated into the config file.
  * Disabled swap file.
* `etc/calamares/settings.conf.dist`:
    * Moved some fields down to the bottom of the file for readability. Not strictly necessary, but made working on the project easier.
    * Added the `locale` and `keyboard` modules to the `show` component of the `sequence` section. This allows the user to customize their localization, timezone, and keyboard layout information at installation time.
    * Added several modules to the `exec` component of the `sequence` section:
      * `locale` - allows setting locale to work. The absence of this module results in language settings not carrying over into the installed system.
      * `keyboard` - allows setting the keyboard layout to work.  The absence of this module results in keyboard layout settings not carrying over into the installed system.
      * `localecfg` - not entirely sure if this is needed, but it appeared important and so I added it. This was when I was first trying to get localization working right. This might be able to be dropped.
      * `shellprocess@fixconkeys_part1` and `shellprocess@fixconkeys_part2` - Vital for disk encryption, explained later.
      * Moved the `grubcfg` and `bootloader-config` modules to later in the installation process to avoid installation errors.
    * Added two shellprocesses to the `instances` section. These are vital for disk encryption and are explained below.
* `etc/calamares/modules/shellprocess_fixconkeys_part1.conf` and `etc/calamares/modules/shellprocess_fixconkeys_part2.conf`:
  * Vital for disk encryption, explained below.
* `usr/sbin/bootloader-config.dist`:
  * Copied from `calamares-settings-debian`.
  * Added a `set -x` line for debugging.
  * Try to install `grub-efi-amd64-bin` rather than `grub-efi` to avoid installation failure.

## Disk Encryption Fixes

In order for FDE to work ideally on Kicksecure, a newer version of Calamares than the one present in Bookworm is needed. I locally compiled Calamares 3.3.8 from Trixie for Bookworm and installed it into the live session for testing. This version of Calamares properly processes the `noEncrypt` parameter in `partitions.conf` and thus the `/boot` partition is excluded from encryption.

However, **this did not entirely solve disk encryption issues** - when installing Kicksecure using a language with a keyboard layout different from `us` (I used German in my testing), the keyboard layout used by cryptsetup for decrypting the disk is different than the one used by Calamares for setting the encryption passphrase. This is a situation that I previously dealt with in Lubuntu, and is a result of the console keymap not being set correctly within the system's initramfs.

Solving this issue requires changing the console keyboard layout within the initramfs at install time to match the keyboard layout chosen by the user. This is non-trivial and requires a pair of scripts (embedded into the `shellprocess_fixconkeys_part*.conf` configuration files) to accomplish.

* The first script runs within the live system itself, NOT in the installed system chroot that Calamares creates. This script determines the keyboard layout in use by the user using `setxkbmap -query`, processes the output so as to extract the two-character keyboard layout code, and saves it to `/dev/shm/fixconkeys-layout`. (The reason for choosing `/dev/shm` is because it is a tmpfs that can be shared between the live and installed systems at installation time.) After doing this, the script bind-mounts `/dev/shm` from the live system into the installed system so that the second script can access the `fixconkeys-layout` file from within the installed system chroot.
* The second script operates within the installed system via a chroot. It loads the keyboard layout from the `fixconkeys-layout` into the current console session, then saves the loaded settings into a system-wide location using `setupcon`. With this complete, it then regenerates all initramfs'es on the installed system using `dracut`, ensuring this configuration is installed into the initramfs. This ensures that when `cryptsetup` runs from within the initramfs to unlock the disk, the console keyboard layout is set properly, thus allowing the user to decrypt the disk using the same keyboard layout they used to encrypt it.

This solution works well in my testing, however Kicksecure is currently missing critical packages necessary for this to work. The following packages will have to be installed into the Kicksecure ISO at ISO build time for this solution to work properly (edit: these are no longer missing):

* `console-common`
* `console-data`
* `console-setup-linux`
* `console-setup`
* `kbd`

I used workarounds to locally install these packages into the live environment and into the installed system for testing purposes, and can confirm that these five packages are sufficient to allow the keyboard layout fix described above to function properly.

Last but not least, the `calamares` and `calamares-settings-debian` packages from Trixie will need to be published in Debian's `bookworm-backports` repository before they are available for general use within Kicksecure. I filed a bug report for this in Debian to bring this to the `calamares` package maintainer's attention (and emailed him directly a day before), but have not heard back from him yet. Therefore I intend to attempt creating and maintaining the backport myself. The bug report is here: https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1076740 (edit: `calamares` has gotten into bookworm-backports, `calamares-settings-debian` may take significantly longer and I suggest we go with a "build it ourselves" approach in derivative-maker for now.)

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it
  * Technically there aren't tests for this code other than manual checking, so while I am providing new code, I am not providing tests for it.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubcommit" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/commit/c50fcc4d9bf1849b191129e9df83775885e909e3">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/commit/c50fcc4d9bf1849b191129e9df83775885e909e3" target="_blank" rel="noopener">github.com/Kicksecure/derivative-maker</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/commit/c50fcc4d9bf1849b191129e9df83775885e909e3" target="_blank" rel="noopener">add calamares-settings-debian package</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-08-28" data-time="08:02:18" data-timezone="UTC">08:02AM - 28 Aug 24 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/adrelanos" target="_blank" rel="noopener">
          <img alt="adrelanos" src="../../../external.html?link=https://avatars.githubusercontent.com/u/1985040?v=4" class="onebox-avatar-inline" width="20" height="20">
          adrelanos
        </a>
      </div>

      <div class="lines" title="changed 2 files with 6 additions and 0 deletions">
        <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/commit/c50fcc4d9bf1849b191129e9df83775885e909e3" target="_blank" rel="noopener">
          <span class="added">+6</span>
          <span class="removed">-0</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubrepo" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/calamares-settings-debian">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/calamares-settings-debian" target="_blank" rel="noopener">github.com</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">
  <img width="690" height="344" src="../../../external.html?link=https://opengraph.githubassets.com/a3900f7bf0a832700cb1fb1271e118c3/Kicksecure/calamares-settings-debian" class="thumbnail">

  <h3><a href="../../../external.html?link=https://github.com/Kicksecure/calamares-settings-debian" target="_blank" rel="noopener">GitHub - Kicksecure/calamares-settings-debian: Kicksecure fork of calamares-settings-debian...</a></h3>

    <p><span class="github-repo-description">Kicksecure fork of calamares-settings-debian backport from Sid</span></p>
</div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Next is review, merge, build, testing.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_7' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-25T00:32:06Z' class='post-time'>
                    September 25, 2024, 12:32am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-25T00:32:06Z'>
              <span itemprop='position'>7</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>Merged:</p>
<aside class="onebox githubpullrequest" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/pull/1">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/pull/1" target="_blank" rel="noopener">github.com/Kicksecure/kicksecure-meta-packages</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/pull/1" target="_blank" rel="noopener">Fix ISO build failure, add xdg-desktop-portal(-gtk)</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ‚Üê <code>ArrayBolt3:master</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-24" data-time="17:49:04" data-timezone="UTC">05:49PM - 24 Sep 24 UTC</span>
        </div>

        <div class="user">
          <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="2 commits changed 1 files with 3 additions and 1 deletions">
          <a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/pull/1/files" target="_blank" rel="noopener">
            <span class="added">+3</span>
            <span class="removed">-1</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">## Changes

* Add xdg-desktop-portal to kicksecure-desktop-envrionment-essenti<span class="show-more-container"><a href="../../../external.html?link=https://github.com/Kicksecure/kicksecure-meta-packages/pull/1" target="_blank" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">al-gui, and add xdg-desktop-portal-gtk to kicksecure-desktop-environment-essential-xfce. These are used for the XDG portal in Xebian (another Debian-based XFCE-based distro), and simply installing them in a live session is enough for them to function properly on Kicksecure.
* Fix a typo in a package name causing an ISO build failure.

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it

Fixes https://www.kicksecure.com/wiki/Dev/audio#mod.rt:_Can.27t_find_org.freedesktop.portal.Desktop._Is_xdg-desktop-portal_running.3F</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<p>Thanks to <a class="mention" href="../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3">@arraybolt3</a>!</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_8' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-10T12:25:34Z' class='post-time'>
                    November 10, 2024, 12:25pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-10T12:25:34Z'>
              <span itemprop='position'>8</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="onebox githubpullrequest" data-onebox-src="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/2">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener">github.com/Kicksecure/derivative-maker</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener">Use live-build to build the Kicksecure ISO by default</a>
      </h4>

    <div class="branches">
      <code>Kicksecure:master</code> ‚Üê <code>ArrayBolt3:arraybolt3/live-build</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-10-28" data-time="01:46:11" data-timezone="UTC">01:46AM - 28 Oct 24 UTC</span>
        </div>

        <div class="user">
          <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="1 commits changed 28 files with 1240 additions and 0 deletions">
          <a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/2/files" target="_blank" rel="noopener">
            <span class="added">+1240</span>
            <span class="removed">-0</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">This pull request adds live-build support to derivative-maker. At present it is <span class="show-more-container"><a href="../../../external.html?link=https://github.com/Kicksecure/derivative-maker/pull/2" target="_blank" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">designed and enabled for the Kicksecure ISO only. The ISO features a functional live mode, Calamares installer, and debian-installer.

Some notes:

* Both normal ISO builds and `--remote-derivative-repository` ISO builds work.
* Whonix and Kicksecure VM builds still work. I have **NOT** tested derivative-makers various other build features beyond this!
* debian-installer's basic functionality works, I have not thoroughly tested every edge case though, nor have I tested (encrypted) LVM or manual partitioning. debian-installer is very powerful, complicated, and isn't really designed to work the way Kicksecure works, so the included preseed file is intended to make most of the "scary" options vanish and leave the user with only "safe" options, however the end-user can override this using GRUB options if they so choose.
* **Three Kicksecure packages required changes in order for this to work.** All three of these must be updated before merging this, or there will be problems. The packages (and links to my forks of them) are:
  * live-config-dist (https://github.com/ArrayBolt3/live-config-dist/tree/arraybolt3/live-build)
  * dist-base-files (https://github.com/ArrayBolt3/dist-base-files/tree/arraybolt3/live-build)
  * anon-apt-sources-list (https://github.com/ArrayBolt3/anon-apt-sources-list/tree/arraybolt3/live-build)
* **A fork of live-build must be used in order to build this, as it makes use of several experimental features I wrote for this purpose.** The fork can be seen here: https://salsa.debian.org/ArrayBolt3/live-build/-/tree/arraybolt3/lb-dracut?ref_type=heads In particular, this code uses local repository support, mmdebstrap support, and `apt update`-specific options, all of which are not yet merged upstream.

## Changes

* build-steps.d/2800_create-lb-iso
  * This is the ISO creation script used when live-build is enabled. Due to live-build's design, this script handles bootstrapping, chroot installation, and ISO packaging all at the same time. It essentially generates a live-build configuration tree dynamically at runtime, then runs live-build stages on this configuration tree to create the ISO. Due to the complexity of Kicksecure's chroot installation process, the script does quite a bit of "fiddling" to make sure the ISO is properly configured.
* build-steps.d/3200_create-raw-image
* build-steps.d/3500_install-packages
* build-steps.d/4300_run-chroot-scripts-post-d
* build-steps.d/4400_zerofree-raw
* build-steps.d/4700_convert-to-iso
  * Added checks so that these don't run when building a Kicksecure ISO.
* live-build-data/d-i-branding/*
  * Kicksecure branding for debian-installer.
* live-build-data/d-i-theme/gtkrc
  * Theming for debian-installer. Without this, the default "emerald" color scheme is used which really does not look right with Kicksecure's blue logo.
* live-build-data/grub-config/*
  * GRUB menu configuration for the ISO. Provides live mode, expert installation modes (for debian-installer), and the ability to access UEFI firmware settings if applicable.
* live-build-data/live-build-config/*
  * Static configuration files for live-build. 2800_create-lb-iso copies these into the appropriate locations at runtime.
* live-build-data/preseed.cfg
  * Configuration file for debian-installer, so that the installation process actually works right. This ends up embedded into the ISO's initramfs files so also cannot be shipped as a package.
* packages/kicksecure/developer-meta-files
  * Latest commits from developer-meta-files, updated by accident. Can easily revert, probably would be better to in order to avoid having unrelated changes mixed up.

## Mandatory Checklist

- [x] Legal agreements accepted. By contributing to this organisation, you acknowledge you have read, understood, and agree to be bound by these these agreements:

[Terms of Service](https://www.kicksecure.com/wiki/Terms_of_Service), [Privacy Policy](https://www.kicksecure.com/wiki/Privacy_Policy), [Cookie Policy](https://www.kicksecure.com/wiki/Cookie_Policy), [E-Sign Consent](https://www.kicksecure.com/wiki/E-Sign_Consent), [DMCA](https://www.kicksecure.com/wiki/DMCA), [Imprint](https://www.kicksecure.com/wiki/Imprint)

## Optional Checklist
The following items are optional but might be requested in certain cases.

- [x] I have tested it locally
- [x] I have reviewed and updated any documentation if relevant
- [x] I am providing new code and test(s) for it

Fixes: https://www.kicksecure.com/wiki/Dev/todo#ISO_-_port_to_live-build</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_9' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-11-14T20:57:17Z' class='post-time'>
                    November 14, 2024,  8:57pm
                  </time>
                  <meta itemprop='dateModified' content='2024-11-14T20:57:17Z'>
              <span itemprop='position'>9</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p><a href="../../../external.html?link=https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1087470">live-build: Binary stage runs apt commands, breaking certain image build workflows</a></p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
