<!DOCTYPE html>
<html lang="en">
  <!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
    <meta charset="utf-8">
    <title>ISO - no default for encryption on/off - user should choose explicitly - Development - Kicksecure Forums</title>
    <meta name="description" content="The user should either: 

select encryption
not select encryption

But there should be no default choice. The user should make an explicit choice. 
This is because unfortunately on Freedom Software Linux desktop distribu&amp;hellip;">
    <meta name="generator" content="Discourse 3.3.1 - https://github.com/discourse/discourse version c4ece1a7b7536e27e7731c7dceceec72ad9f5dca">
<link rel="icon" type="image/png" href="../../uploads/default/optimized/1X/0db9935a1fdd7302cae516aaa752af0de307d388_2_32x32.png">
<link rel="apple-touch-icon" type="image/png" href="../../uploads/default/optimized/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67_2_180x180.png">
<meta name="theme-color" media="all" content="#ffffff">

<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, user-scalable=yes, viewport-fit=cover">
<link rel="canonical" href="567.html" />

<link rel="search" type="application/opensearchdescription+xml" href="../../opensearch.xml" title="Kicksecure Forums Search">

    <link href="../../stylesheets/color_definitions_base__3_b2f3429b3a6823d4bfd84795370bcae2e5c300dc.css_%3b%20filename_%3dUTF-8%27%27color_definitions_base__3_b2f3429b3a6823d4bfd84795370bcae2e5c300dc6?__ws=forums.kicksecure.com" media="all" rel="stylesheet" class="light-scheme"/>

  <link href="../../stylesheets/desktop_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27desktop_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop"  />



  <link href="../../stylesheets/checklist_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27checklist_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="checklist"  />
  <link href="../../stylesheets/discourse-details_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-details_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-details"  />
  <link href="../../stylesheets/discourse-lazy-videos_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-lazy-videos_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-lazy-videos"  />
  <link href="../../stylesheets/discourse-local-dates_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-local-dates_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-local-dates"  />
  <link href="../../stylesheets/discourse-narrative-bot_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-narrative-bot_b760c05956fd6824935dd83e4fdad148bf0d382e61cf?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-narrative-bot"  />
  <link href="../../stylesheets/discourse-presence_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27discourse-presence_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="discourse-presence"  />
  <link href="../../stylesheets/docker_manager_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27docker_manager_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="docker_manager"  />
  <link href="../../stylesheets/poll_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27poll_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll"  />
  <link href="../../stylesheets/poll_desktop_b760c05956fd6824935dd83e4fdad148bf0d382e.css_%3b%20filename_%3dUTF-8%27%27poll_desktop_b760c05956fd6824935dd83e4fdad148bf0d382e61cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="poll_desktop"  />

  <link href="../../stylesheets/desktop_theme_3_aef98673c5595d8c40738f2dee8948eaf9fe7e56.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_3_aef98673c5595d8c40738f2dee8948eaf9fe7e5661cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="3" data-theme-name="graceful"/>
<link href="../../stylesheets/desktop_theme_2_17a5426af1697cf68ed1f7986d50b8597d972709.css_%3b%20filename_%3dUTF-8%27%27desktop_theme_2_17a5426af1697cf68ed1f7986d50b8597d97270961cf.css?__ws=forums.kicksecure.com" media="all" rel="stylesheet" data-target="desktop_theme" data-theme-id="2" data-theme-name="header"/>

    <!--
START custom CSS / JS

Configured here:
https://forums.kicksecure.com/admin/customize/themes/2/common/head_tag/edit
-->

<!-- START End of Year Banner -->


<!-- Not needed currently because banner inactive
<link rel="stylesheet" href="/mw-autogen/src-copy/CodeSelect.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/PayViaPaypal.css">
<link rel="stylesheet" href="/mw-autogen/src-copy/Sitenotice_EndOfYear.css">
-->

<!-- Not needed currently because banner inactive
<script type="text/javascript" defer src="/mw-autogen/src-copy/CodeSelect.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/PayViaPaypal.js"></script>
<script type="text/javascript" defer src="/mw-autogen/src-copy/Sitenotice_EndOfYear.js"></script>
-->

<style type="text/css">
  #donate-end-of-year div,
  #donate-end-of-year span,
  #donate-end-of-year a {
    box-sizing: border-box;
  }
  
  #end-of-year-banner-wrapper {
      margin: 0 10px 25px;
  }

  #donate-end-of-year i {
    width: 20px;
    height: 20px;
    background-size: contain;
    background-position: center;
    background-repeat: no-repeat;
    filter: brightness(2);
    display: inline-block;
  }

  #donate-end-of-year i.dismiss {
    background-image: url('../../w/images/0/0b/End-of-year-times.png');
  }

  #donate-end-of-year .slideshow > .content img {
    float: left;
    margin-right: 20px;
  }

  #donate-end-of-year .slideshow .flow i {
    cursor: pointer;
    filter: brightness(1);
    height: 17px;
    width: 17px;
    vertical-align: middle;
  }

  #donate-end-of-year .slideshow .flow i.is-play {
    background-image: url('../../w/images/3/32/End-of-year-pause.png');
  }

  #donate-end-of-year .slideshow .flow i.is-pause {
    background-image: url('../../w/images/c/c8/End-of-year-play.png');
  }

</style>



<!-- END End of Year Banner -->

<!--
END custom CSS / JS
-->

    
        <link rel="alternate nofollow" type="application/rss+xml" title="RSS feed of &#39;ISO - no default for encryption on/off - user should choose explicitly&#39;" href="567.rss" />
    <meta property="og:site_name" content="Kicksecure Forums" />
<meta property="og:type" content="website" />
<meta name="twitter:card" content="summary" />
<meta name="twitter:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:image" content="https://forums.kicksecure.com/uploads/default/original/1X/cbdfe4b0c05c97069961301225ed1ccd6e766f67.png" />
<meta property="og:url" content="https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567" />
<meta name="twitter:url" content="https://forums.kicksecure.com/t/iso-no-default-for-encryption-on-off-user-should-choose-explicitly/567" />
<meta property="og:title" content="ISO - no default for encryption on/off - user should choose explicitly" />
<meta name="twitter:title" content="ISO - no default for encryption on/off - user should choose explicitly" />
<meta property="og:description" content="The user should either:   select encryption not select encryption  But there should be no default choice. The user should make an explicit choice.  This is because unfortunately on Freedom Software Linux desktop distributions, there is no easy way to enable full disk encryption after installation." />
<meta name="twitter:description" content="The user should either:   select encryption not select encryption  But there should be no default choice. The user should make an explicit choice.  This is because unfortunately on Freedom Software Linux desktop distributions, there is no easy way to enable full disk encryption after installation." />
<meta property="og:article:section" content="Development" />
<meta property="og:article:section:color" content="25AAE2" />
<meta property="og:article:tag" content="status_open_issue_todo" />
<meta name="twitter:label1" value="Reading time" />
<meta name="twitter:data1" value="1 mins üïë" />
<meta name="twitter:label2" value="Likes" />
<meta name="twitter:data2" value="1 ‚ù§" />
<meta property="article:published_time" content="2024-09-10T23:48:18+00:00" />
<meta property="og:ignore_canonical" content="true" />


    
  </head>
  <body class="crawler ">
    <div class="background-container"></div>
<div class="header-brand-nav">
    <a class="home" href="../../../external.html?link=https://www.kicksecure.com/">Kicksecure Wiki</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Download">Download</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Documentation">Docs</a>
    <a href="../../c/news/5.html">News</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Support">Support</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Forum_Best_Practices">Tips</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Reporting_Bugs#Issue_Tracker">Issues</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Contribute">Contribute</a>
    <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Donate">DONATE</a>
</div>
    <header>
  <a href="../../index.html">
    Kicksecure Forums
  </a>
</header>

    <div id="main-outlet" class="wrap" role="main">
        <div id="topic-title">
    <h1>
      <a href="567.html">ISO - no default for encryption on/off - user should choose explicitly</a>
    </h1>

      <div class="topic-category" itemscope itemtype="http://schema.org/BreadcrumbList">
          <span itemprop="itemListElement" itemscope itemtype="http://schema.org/ListItem">
            <a href="../../c/development/7.html" class="badge-wrapper bullet" itemprop="item">
              <span class='badge-category-bg' style='background-color: #25AAE2'></span>
              <span class='badge-category clear-badge'>
                <span class='category-name' itemprop='name'>Development</span>
              </span>
            </a>
            <meta itemprop="position" content="1" />
          </span>
      </div>

      <div class="topic-category">
        <div class='discourse-tags list-tags'>
            <a href='../../tag/status_open_issue_todo.html' class='discourse-tag' rel="tag">status_open_issue_todo</a>
        </div>
      </div>
  </div>

  

    <div itemscope itemtype='../../../external.html?link=http://schema.org/DiscussionForumPosting'>
      <meta itemprop='headline' content='ISO - no default for encryption on/off - user should choose explicitly'>
      <link itemprop='url' href='567.html'>
      <meta itemprop='datePublished' content='2024-09-10T23:48:18Z'>
        <meta itemprop='articleSection' content='Development'>
      <meta itemprop='keywords' content='status_open_issue_todo'>
      <div itemprop='publisher' itemscope itemtype="../../../external.html?link=http://schema.org/Organization">
        <meta itemprop='name' content='Kicksecure Forums'>
          <div itemprop='logo' itemscope itemtype="../../../external.html?link=http://schema.org/ImageObject">
            <meta itemprop='url' content='../../uploads/default/original/1X/b25d14d50e56313c399bc031caf564b64756e72b.png'>
          </div>
      </div>


          <div id='post_1'  class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>

                <link itemprop="mainEntityOfPage" href="567.html">


              <span class="crawler-post-infos">
                  <time  datetime='2024-09-10T23:48:18Z' class='post-time'>
                    September 10, 2024, 11:48pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-14T13:43:06Z'>
              <span itemprop='position'>1</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>The user should either:</p>
<ul>
<li>select encryption</li>
<li>not select encryption</li>
</ul>
<p>But there should be no default choice. The user should make an explicit choice.</p>
<p>This is because unfortunately on Freedom Software Linux desktop distributions, there is no easy way to enable full disk encryption after installation.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_2' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/arraybolt3'><span itemprop='name'>arraybolt3</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-25T20:33:24Z' class='post-time'>
                    September 25, 2024,  8:33pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-25T20:33:24Z'>
              <span itemprop='position'>2</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>There are a few ways one could implement this, some of them more invasive than others. One way that might work is to simply prevent the user from proceeding past the partitioning screen if encryption is enabled but a passphrase isn‚Äôt set, and then have the disk encryption checkbox <em>checked by default</em>. In that instance a user would be required to either choose a passphrase or disable encryption. IMO this is the best solution since it should be reasonably obvious to the user <em>why</em> they can‚Äôt proceed, and it forces them to make a conscious choice, which is the goal.</p>
<p>It‚Äôs also possible to make the ‚ÄúEncrypt system‚Äù checkbox tristate, but that comes with some disadvantages and probably won‚Äôt have good UX (it might not be clear to the user <em>why</em> they can‚Äôt proceed, especially since users oftentimes don‚Äôt even notice that the disk encryption checkbox is there at all).</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="1" />
              <span class='post-likes'>1 Like</span>
            </div>

          </div>
          <div id='post_3' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-26T13:06:00Z' class='post-time'>
                    September 26, 2024,  1:06pm
                  </time>
                  <meta itemprop='dateModified' content='2024-09-26T13:06:00Z'>
              <span itemprop='position'>3</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <p>arraybolt3 via Kicksecure Forums:</p>
<blockquote>
<p>There are a few ways one could implement this, some of them more<br>
invasive than others. One way that might work is to simply prevent the<br>
user from proceeding past the partitioning screen if encryption is<br>
enabled but a passphrase isn‚Äôt set, and then have the disk encryption<br>
checkbox<em>checked by default</em>.<br>
In that instance a user would be required to either choose a passphrase<br>
or disable encryption. IMO this is the best solution since it should be<br>
reasonably obvious to the user<em>why</em>  they can‚Äôt proceed, and it forces them to make a conscious choice, which is the goal.</p>
</blockquote>
<p>This ‚Äúeasy‚Äù solution sounds good for now.</p>
<p>Later maybe‚Ä¶</p>
<pre><code class="lang-auto">Do you wish to use Full Disk Encryption (FDE)?

[ ] use FDE
[ ] do not use FDE

Setting up FDE later is very difficult.
</code></pre>
<p>The text needs more work probably if this is even realistic. The text<br>
could be improved to explain what FDE is and whatnot.</p>
<p>‚ÄúSetting up FDE later is very difficult.‚Äù - maybe only show if selecting<br>
‚Äúno‚Äù</p>
<p>Could be difficult since that might require modifications to the<br>
calamares partition module, which is not written in python.</p>
            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_4' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-27T02:27:38Z' class='post-time'>
                    September 27, 2024,  2:27am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-27T02:27:38Z'>
              <span itemprop='position'>4</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="onebox githubcommit" data-onebox-src="../../../external.html?link=https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">github.com/ArrayBolt3/live-config-dist</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Commit">
    <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M10.86 7c-.45-1.72-2-3-3.86-3-1.86 0-3.41 1.28-3.86 3H0v2h3.14c.45 1.72 2 3 3.86 3 1.86 0 3.41-1.28 3.86-3H14V7h-3.14zM7 10.2c-1.22 0-2.2-.98-2.2-2.2 0-1.22.98-2.2 2.2-2.2 1.22 0 2.2.98 2.2 2.2 0 1.22-.98 2.2-2.2 2.2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">Make formatting less arbitrary, enable preCheckEncryption</a>
    </h4>

    <div class="github-info">
      <div class="date">
        committed <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="22:42:07" data-timezone="UTC">10:42PM - 25 Sep 24 UTC</span>
      </div>

      <div class="user">
        <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>

      <div class="lines" title="changed 1 files with 4 additions and 3 deletions">
        <a href="../../../external.html?link=https://github.com/ArrayBolt3/live-config-dist/commit/410c62e664e7d1387e7c013867242838ff2cb912" target="_blank" rel="noopener">
          <span class="added">+4</span>
          <span class="removed">-3</span>
        </a>
      </div>
    </div>
  </div>
</div>


  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

<aside class="onebox githubissue" data-onebox-src="../../../external.html?link=https://github.com/calamares/calamares/issues/2375">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2375" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row">
  <div class="github-icon-container" title="Issue" data-github-private-repo="false">
	  <svg width="60" height="60" class="github-icon" viewBox="0 0 14 16" aria-hidden="true"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg>
  </div>

  <div class="github-info-container">
    <h4>
      <a href="../../../external.html?link=https://github.com/calamares/calamares/issues/2375" target="_blank" rel="noopener">After checking "Encrypt system", the user can proceed past the Partitions screen without entering a passphrase</a>
    </h4>

    <div class="github-info">
      <div class="date">
        opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="23:00:50" data-timezone="UTC">11:00PM - 25 Sep 24 UTC</span>
      </div>


      <div class="user">
        <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
          <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
          ArrayBolt3
        </a>
      </div>
    </div>

    <div class="labels">
    </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">**Describe the bug**
If the user checks "Encrypt System", the "Next" button rem<span class="show-more-container"><a href="#" rel="noopener" class="show-more">‚Ä¶</a></span><span class="excerpt hidden">ains enabled and they can proceed past the partitions screen without entering a passphrase. Unchecking and rechecking the box results in the "Next" button being grayed out as expected.

**To Reproduce**
Steps to reproduce the behavior:
1. Launch Calamares.
2. Click "Next" until you get to the partitions screen.
3. Click "Erase Disk".
4. Check the "Encrypt system" checkbox.
5. Click "Next" (do not enter a passphrase first).

**Expected behavior**
"Next" button should be disabled and unable to be clicked.

**Screenshots and Logs**
![Screenshot_20240925_175929](https://github.com/user-attachments/assets/ab1133bc-0c72-4de7-9285-ab8fc998bee1)

**Additional context**
I debugged this issue using gdb and traced it to a logic error in `src/modules/partition/gui/EncryptWidget.cpp`:

```c++
    // In function EncryptWidget::updateState( const bool notify ):
    // ...
    if ( newState != m_state )
    {   
        m_state = newState;
        if ( notify ) 
        {   
            Q_EMIT stateChanged( m_state );
        }       
    }
```
The `if ( newState != m_state )` is causing the issue.

In the constructor, `m_state` is initialized to `Encryption::Disabled`, but when the constructor calls `updateState()` in EncryptWidget.cpp line 68, `m_state` gets changed to `Encryption::Unconfirmed`. This is because `updateState()` is called while the "Encrypt system" checkbox is still invisible, thus triggering the following code path:

```c++
EncryptWidget::Encryption
EncryptWidget::state() const
{
    Encryption newState = Encryption::Unconfirmed;

    // This `if` statement is entered because the "Encrypt system" check box is invisible since the app is still starting up
    if ( m_ui-&gt;m_encryptCheckBox-&gt;isChecked() || !m_ui-&gt;m_encryptCheckBox-&gt;isVisible() )
    {
        // And naturally, the passphrase text boxes are also empty, so this `if` statement will be skipped over...
        if ( !m_ui-&gt;m_passphraseLineEdit-&gt;text().isEmpty()
             &amp;&amp; m_ui-&gt;m_passphraseLineEdit-&gt;text() == m_ui-&gt;m_confirmLineEdit-&gt;text() )
        {
            newState = Encryption::Confirmed;
        }
        else // ...and this one is run instead, thus returning `Encryption::Unconfirmed` which is what m_state is then set to.
        {
            newState = Encryption::Unconfirmed;
        }
    }
    else
    {
        newState = Encryption::Disabled;
    }

    return newState;
}
```

So ultimately `m_state` ends up being set to `Encryption::Unconfirmed` once the encryption widget's constructor is finished. Then when the user checks the "Encrypt system" checkbox later on, `EncryptWidget::state()` properly determines that the state is `Encryption::Unconfirmed`, but because `m_state` is already `Encryption::Unconfirmed`, it does **not** emit a `stateChanged` signal. This means that `ChoicePage::onEncryptWidgetStateChanged` is not called when the user first checks the checkbox, and thus the "Next" button is not disabled.

Simply removing the `if ( newState != m_state )` statement from EncryptWidget.cpp should be enough to resolve the bug.</span></p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
          <div id='post_5' itemprop='comment' itemscope itemtype='http://schema.org/Comment' class='topic-body crawler-post'>
            <div class='crawler-post-meta'>
              <span class="creator" itemprop="author" itemscope itemtype="../../../external.html?link=http://schema.org/Person">
                <a itemprop="url" href='../../../external.html?link=https://forums.kicksecure.com/u/Patrick'><span itemprop='name'>Patrick</span></a>
                
              </span>



              <span class="crawler-post-infos">
                  <time itemprop='datePublished' datetime='2024-09-27T02:38:57Z' class='post-time'>
                    September 27, 2024,  2:38am
                  </time>
                  <meta itemprop='dateModified' content='2024-09-27T02:38:57Z'>
              <span itemprop='position'>5</span>
              </span>
            </div>
            <div class='post' itemprop='text'>
              <aside class="onebox githubpullrequest" data-onebox-src="../../../external.html?link=https://github.com/calamares/calamares/pull/2376">
  <header class="source">

      <a href="../../../external.html?link=https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">github.com/calamares/calamares</a>
  </header>

  <article class="onebox-body">
    <div class="github-row" data-github-private-repo="false">



    <div class="github-icon-container" title="Pull Request">
      <svg width="60" height="60" class="github-icon" viewBox="0 0 12 16" aria-hidden="true"><path fill-rule="evenodd" d="M11 11.28V5c-.03-.78-.34-1.47-.94-2.06C9.46 2.35 8.78 2.03 8 2H7V0L4 3l3 3V4h1c.27.02.48.11.69.31.21.2.3.42.31.69v6.28A1.993 1.993 0 0 0 10 15a1.993 1.993 0 0 0 1-3.72zm-1 2.92c-.66 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2zM4 3c0-1.11-.89-2-2-2a1.993 1.993 0 0 0-1 3.72v6.56A1.993 1.993 0 0 0 2 15a1.993 1.993 0 0 0 1-3.72V4.72c.59-.34 1-.98 1-1.72zm-.8 10c0 .66-.55 1.2-1.2 1.2-.65 0-1.2-.55-1.2-1.2 0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2zM2 4.2C1.34 4.2.8 3.65.8 3c0-.65.55-1.2 1.2-1.2.65 0 1.2.55 1.2 1.2 0 .65-.55 1.2-1.2 1.2z"></path></svg>
    </div>

  <div class="github-info-container">



      <h4>
        <a href="../../../external.html?link=https://github.com/calamares/calamares/pull/2376" target="_blank" rel="noopener">[partition] Always update EncryptWidget's m_state when updateState is called</a>
      </h4>

    <div class="branches">
      <code>calamares:calamares</code> ‚Üê <code>ArrayBolt3:calamares</code>
    </div>

      <div class="github-info">
        <div class="date">
          opened <span class="discourse-local-date" data-format="ll" data-date="2024-09-25" data-time="23:02:53" data-timezone="UTC">11:02PM - 25 Sep 24 UTC</span>
        </div>

        <div class="user">
          <a href="../../../external.html?link=https://github.com/ArrayBolt3" target="_blank" rel="noopener">
            <img alt="ArrayBolt3" src="../../../external.html?link=https://avatars.githubusercontent.com/u/104878738?v=4" class="onebox-avatar-inline" width="20" height="20">
            ArrayBolt3
          </a>
        </div>

        <div class="lines" title="1 commits changed 1 files with 3 additions and 6 deletions">
          <a href="../../../external.html?link=https://github.com/calamares/calamares/pull/2376/files" target="_blank" rel="noopener">
            <span class="added">+3</span>
            <span class="removed">-6</span>
          </a>
        </div>
      </div>
  </div>
</div>

  <div class="github-row">
    <p class="github-body-container">Fixes https://github.com/calamares/calamares/issues/2375</p>
  </div>

  </article>

  <div class="onebox-metadata">
    
    
  </div>

  <div style="clear: both"></div>
</aside>

            </div>

            <div itemprop="interactionStatistic" itemscope itemtype="../../../external.html?link=http://schema.org/InteractionCounter">
              <meta itemprop="interactionType" content="../../../external.html?link=http://schema.org/LikeAction"/>
              <meta itemprop="userInteractionCount" content="0" />
              <span class='post-likes'></span>
            </div>

          </div>
    </div>


    




    </div>
    <footer class="container wrap">
  <nav class='crawler-nav'>
    <ul>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../index.html' itemprop="url">Home </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../categories.html' itemprop="url">Categories </a>
        </span>
      </li>
      <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
        <span itemprop='name'>
          <a href='../../guidelines.html' itemprop="url">Guidelines </a>
        </span>
      </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service' itemprop="url">Terms of Service </a>
          </span>
        </li>
        <li itemscope itemtype='../../../external.html?link=http://schema.org/SiteNavigationElement'>
          <span itemprop='name'>
            <a href='../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy' itemprop="url">Privacy Policy </a>
          </span>
        </li>
    </ul>
  </nav>
  <p class='powered-by-link'>Powered by <a href="../../../external.html?link=https://www.discourse.org/">Discourse</a>, best viewed with JavaScript enabled</p>
</footer>

    <div class="footer-brand-nav">
    <div class="legal">
        By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
        <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
    </div>
</div>

    <noscript>
    <div class="footer-brand-nav">
        <div class="legal">
            By using this website, you acknowledge you have read, understood, and agree to be bound by these these agreements:
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Terms_of_Service" title="Terms of Service">Terms of Service</a>, and
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Privacy_Policy" title="Privacy Policy">Privacy Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Cookie_Policy" title="Cookie Policy">Cookie Policy</a>,
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/E-Sign_Consent" title="E-Sign Consent">E-Sign Consent</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/DMCA">DMCA</a>
            <a href="../../../external.html?link=https://www.kicksecure.com/wiki/Imprint">Imprint</a>
        </div>
    </div>

    <style type="text/css">
        /* Here is room for styles for when Javascript is deactivated */
    </style>
</noscript>
  </body>
  
</html>
