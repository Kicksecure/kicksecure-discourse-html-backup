<?xml version="1.0" encoding="UTF-8" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom" xmlns:dc="http://purl.org/dc/elements/1.1/">
  <channel>
    <title>Permission-hardener failed</title>
    <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280</link>
    <description>Hi! I am trying to upgrade my server, but permission hardener failed. Here is the error message:

```
permission-hardener: [ERROR]: File has unexpected hardlinks, cannot handle.
File name: &#39;/etc/group&#39;
File name from stat: &#39;/etc/group&#39;
line: &#39;/usr/sbin/ nosuid&#39;

/var/lib/dpkg/info/security-misc.postinst: ERROR: Permission hardening failed.

```

What should I do?</description>
    
    <lastBuildDate>Mon, 08 Sep 2025 17:58:35 +0000</lastBuildDate>
    <category>Support</category>
    <atom:link href="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss" rel="self" type="application/rss+xml" />
      <item>
        <title>Permission-hardener failed</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <pre><code class="lang-auto"># realpath /etc/group
/etc/group
</code></pre>
          <p><a href="https://forums.kicksecure.com/t/permission-hardener-failed/1280/5">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280/5</link>
        <pubDate>Mon, 08 Sep 2025 17:58:35 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1280-5</guid>
        <source url="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss">Permission-hardener failed</source>
      </item>
      <item>
        <title>Permission-hardener failed</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>What’s the <code>realpath</code>?</p>
<p><code>/etc/group</code> normally isn’t a hard link. And without knowing the realpath, I have no idea how to investigate what’s causing that.</p>
          <p><a href="https://forums.kicksecure.com/t/permission-hardener-failed/1280/4">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280/4</link>
        <pubDate>Mon, 08 Sep 2025 15:39:18 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1280-4</guid>
        <source url="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss">Permission-hardener failed</source>
      </item>
      <item>
        <title>Permission-hardener failed</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <aside class="quote no-group" data-username="Patrick" data-post="2" data-topic="1280">
<div class="title">
<div class="quote-controls"></div>
<img alt="" width="24" height="24" src="https://forums.kicksecure.com/user_avatar/forums.kicksecure.com/patrick/48/165_2.png" class="avatar"> Patrick:</div>
<blockquote>
<p><code>chmod-calc /etc/group</code></p>
</blockquote>
</aside>
<p>The result of the server with problem:</p>
<pre><code class="lang-auto"># chmod-calc /etc/group
Permissions for: '/etc/group'
Type: Hardlink
Owner: root
Group: root
Octal Permissions: 644
File Size: 815 bytes
Link Count: 2
Hidden File: No
ACLs: none
Extended Attributes: none
Capabilities: None
Immutable (chattr +i): No

Symlink: No

Parent Folder Symlink: No

Category   Read   Write  Execute 
Owner      Yes    Yes    No      
Group      Yes    No     No      
Public     Yes    No     No      

Special Attributes:
SUID: Not Set
SGID: Not Set
Sticky Bit: Not Set

</code></pre>
<p>After I did:</p>
<pre><code class="lang-auto"># cp -ra /etc/group ~ &amp;&amp; rm -rf /etc/group &amp;&amp; cp -ra ~/group /etc/group
</code></pre>
<p>The `chmod-calc` output between the problematic server and normal server are the same:</p>
<pre><code class="lang-auto"># chmod-calc /etc/group
Permissions for: '/etc/group'
Type: Regular File
Owner: root
Group: root
Octal Permissions: 644
File Size: 815 bytes
Link Count: 1
Hidden File: No
ACLs: none
Extended Attributes: none
Capabilities: None
Immutable (chattr +i): No

Symlink: No

Parent Folder Symlink: No

Category   Read   Write  Execute 
Owner      Yes    Yes    No      
Group      Yes    No     No      
Public     Yes    No     No      

Special Attributes:
SUID: Not Set
SGID: Not Set
Sticky Bit: Not Set
</code></pre>
<p>But after I install a random package with apt, the old issue pops up and /etc/group become a hardlink again.</p>
          <p><a href="https://forums.kicksecure.com/t/permission-hardener-failed/1280/3">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280/3</link>
        <pubDate>Mon, 08 Sep 2025 15:25:29 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1280-3</guid>
        <source url="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss">Permission-hardener failed</source>
      </item>
      <item>
        <title>Permission-hardener failed</title>
        <dc:creator><![CDATA[Patrick]]></dc:creator>
        <description><![CDATA[
            <p>Something uncommon about your file <code>/etc/group</code>.</p>
<p>For debugging:</p>
<pre><code>ls -la /etc/group
</code></pre>
<p>And.</p>
<pre><code>realpath /etc/group
</code></pre>
<p>And.</p>
<pre><code>chmod-calc /etc/group
</code></pre>
<p>(<a href="https://www.kicksecure.com/wiki/Chmod-calc" class="inline-onebox">chmod-calc</a>)</p>
<p>Ideally, compare that to system without that issue.</p>
          <p><a href="https://forums.kicksecure.com/t/permission-hardener-failed/1280/2">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280/2</link>
        <pubDate>Mon, 08 Sep 2025 09:11:42 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1280-2</guid>
        <source url="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss">Permission-hardener failed</source>
      </item>
      <item>
        <title>Permission-hardener failed</title>
        <dc:creator><![CDATA[SteveK1978]]></dc:creator>
        <description><![CDATA[
            <p>Hi! I am trying to upgrade my server, but permission hardener failed. Here is the error message:</p>
<pre><code class="lang-auto">permission-hardener: [ERROR]: File has unexpected hardlinks, cannot handle.
File name: '/etc/group'
File name from stat: '/etc/group'
line: '/usr/sbin/ nosuid'

/var/lib/dpkg/info/security-misc.postinst: ERROR: Permission hardening failed.

</code></pre>
<p>What should I do?</p>
          <p><a href="https://forums.kicksecure.com/t/permission-hardener-failed/1280/1">Read full topic</a></p>
        ]]></description>
        <link>https://forums.kicksecure.com/t/permission-hardener-failed/1280/1</link>
        <pubDate>Mon, 08 Sep 2025 01:21:57 +0000</pubDate>
        <guid isPermaLink="false">forums.kicksecure.com-post-1280-1</guid>
        <source url="https://forums.kicksecure.com/t/permission-hardener-failed/1280.rss">Permission-hardener failed</source>
      </item>
  </channel>
</rss>
